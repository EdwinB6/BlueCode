(self.webpackChunkBlueCode=self.webpackChunkBlueCode||[]).push([[179],{6304:(Et,Me,F)=>{"use strict";F.d(Me,{Dh:()=>Be,GT:()=>ve,cc:()=>Pe,hO:()=>Ge,on:()=>z,pX:()=>ue,xv:()=>ye});var d=F(5879),ne=F(7142),B=F(8186);Et=F.hmd(Et);const oe=["ngOnDestroy"],ue=(Ve,Tt,Dt,le={})=>new Proxy(Ve,{get:(Ce,se)=>Dt.runOutsideAngular(()=>{var Re;if(Ve[se])return!(null===(Re=le?.spy)||void 0===Re)&&Re.get&&le.spy.get(se,Ve[se]),Ve[se];if(oe.indexOf(se)>-1)return()=>{};const je=Tt.toPromise().then(We=>{const he=We&&We[se];return"function"==typeof he?he.bind(We):he&&he.then?he.then(pt=>Dt.run(()=>pt)):Dt.run(()=>he)});return new Proxy(()=>{},{get:(We,he)=>je[he],apply:(We,he,pt)=>je.then(dt=>{var qn;const si=dt&&dt(...pt);return!(null===(qn=le?.spy)||void 0===qn)&&qn.apply&&le.spy.apply(se,pt,si),si})})})}),ve=(Ve,Tt)=>{Tt.forEach(Dt=>{Object.getOwnPropertyNames(Dt.prototype||Dt).forEach(le=>{Object.defineProperty(Ve.prototype,le,Object.getOwnPropertyDescriptor(Dt.prototype||Dt,le))})})};class re{constructor(Tt){return Tt}}const Be=new d.OlP("angularfire2.app.options"),ye=new d.OlP("angularfire2.app.name");function z(Ve,Tt,Dt){const Ce="object"==typeof Dt&&Dt||{};Ce.name=Ce.name||"string"==typeof Dt&&Dt||"[DEFAULT]";const Re=ne.Z.apps.filter(je=>je&&je.name===Ce.name)[0]||Tt.runOutsideAngular(()=>ne.Z.initializeApp(Ve,Ce));try{JSON.stringify(Ve)!==JSON.stringify(Re.options)&&K("error",`${Re.name} Firebase App already initialized with different options${Et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new re(Re)}const K=(Ve,...Tt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ve](...Tt)},V={provide:re,useFactory:z,deps:[Be,d.R0b,[new d.FiY,ye]]};let Ge=(()=>{class Ve{constructor(Dt){ne.Z.registerVersion("angularfire",B.q4.full,"core"),ne.Z.registerVersion("angularfire",B.q4.full,"app-compat"),ne.Z.registerVersion("angular",d.q4F.full,Dt.toString())}static initializeApp(Dt,le){return{ngModule:Ve,providers:[{provide:Be,useValue:Dt},{provide:ye,useValue:le}]}}}return Ve.\u0275fac=function(Dt){return new(Dt||Ve)(d.LFG(d.Lbi))},Ve.\u0275mod=d.oAB({type:Ve}),Ve.\u0275inj=d.cJS({providers:[V]}),Ve})();function Pe(Ve,Tt,Dt,le,Ce){const[,se,Re]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===Ve)||[];if(se)return function Xe(Ve,Tt){try{return Ve.toString()===Tt.toString()}catch{return Ve===Tt}}(Ce,Re)||(qe("error",`${Tt} was already initialized on the ${Dt} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),qe("warn",{is:Ce,was:Re})),se;{const je=le();return globalThis.\u0275AngularfireInstanceCache.push([Ve,je,Ce]),je}}const Ue=!!Et.hot,qe=(Ve,...Tt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ve](...Tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(Et,Me,F)=>{"use strict";F.d(Me,{q4:()=>Ho,iC:()=>U_,fc:()=>F_,HU:()=>Gc,vb:()=>Ig,JM:()=>il});var d=F(5879),ne=F(3182),B=F(5861),oe=F(534),ue=F(9058),ve=F(4537),re=F(7879);const Be=(I,A)=>A.some(N=>I instanceof N);let ye,z;const Ge=new WeakMap,Pe=new WeakMap,Xe=new WeakMap,Ue=new WeakMap,qe=new WeakMap;let Dt={get(I,A,N){if(I instanceof IDBTransaction){if("done"===A)return Pe.get(I);if("objectStoreNames"===A)return I.objectStoreNames||Xe.get(I);if("store"===A)return N.objectStoreNames[1]?void 0:N.objectStore(N.objectStoreNames[0])}return Re(I[A])},set:(I,A,N)=>(I[A]=N,!0),has:(I,A)=>I instanceof IDBTransaction&&("done"===A||"store"===A)||A in I};function se(I){return"function"==typeof I?function Ce(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function V(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...A){return I.apply(je(this),A),Re(Ge.get(this))}:function(...A){return Re(I.apply(je(this),A))}:function(A,...N){const j=I.call(je(this),A,...N);return Xe.set(j,A.sort?A.sort():[A]),Re(j)}}(I):(I instanceof IDBTransaction&&function Tt(I){if(Pe.has(I))return;const A=new Promise((N,j)=>{const Y=()=>{I.removeEventListener("complete",ee),I.removeEventListener("error",we),I.removeEventListener("abort",we)},ee=()=>{N(),Y()},we=()=>{j(I.error||new DOMException("AbortError","AbortError")),Y()};I.addEventListener("complete",ee),I.addEventListener("error",we),I.addEventListener("abort",we)});Pe.set(I,A)}(I),Be(I,function K(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Dt):I)}function Re(I){if(I instanceof IDBRequest)return function Ve(I){const A=new Promise((N,j)=>{const Y=()=>{I.removeEventListener("success",ee),I.removeEventListener("error",we)},ee=()=>{N(Re(I.result)),Y()},we=()=>{j(I.error),Y()};I.addEventListener("success",ee),I.addEventListener("error",we)});return A.then(N=>{N instanceof IDBCursor&&Ge.set(N,I)}).catch(()=>{}),qe.set(A,I),A}(I);if(Ue.has(I))return Ue.get(I);const A=se(I);return A!==I&&(Ue.set(I,A),qe.set(A,I)),A}const je=I=>qe.get(I),pt=["get","getKey","getAll","getAllKeys","count"],dt=["put","add","delete","clear"],qn=new Map;function si(I,A){if(!(I instanceof IDBDatabase)||A in I||"string"!=typeof A)return;if(qn.get(A))return qn.get(A);const N=A.replace(/FromIndex$/,""),j=A!==N,Y=dt.includes(N);if(!(N in(j?IDBIndex:IDBObjectStore).prototype)||!Y&&!pt.includes(N))return;const ee=function(){var we=(0,B.Z)(function*(Ke,...Ze){const mt=this.transaction(Ke,Y?"readwrite":"readonly");let Ft=mt.store;return j&&(Ft=Ft.index(Ze.shift())),(yield Promise.all([Ft[N](...Ze),Y&&mt.done]))[0]});return function(Ze){return we.apply(this,arguments)}}();return qn.set(A,ee),ee}!function le(I){Dt=I(Dt)}(I=>({...I,get:(A,N,j)=>si(A,N)||I.get(A,N,j),has:(A,N)=>!!si(A,N)||I.has(A,N)}));const cs="@firebase/installations",Hn="0.6.4",Xs=1e4,Ki=`w:${Hn}`,pe="FIS_v2",fe="https://firebaseinstallations.googleapis.com/v1",De=36e5,st=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ye(I){return I instanceof ue.ZR&&I.code.includes("request-failed")}function An({projectId:I}){return`${fe}/projects/${I}/installations`}function It(I){return{token:I.token,requestStatus:2,expiresIn:Nn(I.expiresIn),creationTime:Date.now()}}function dn(I,A){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,B.Z)(function*(I,A){const j=(yield A.json()).error;return st.create("request-failed",{requestName:I,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function Sn({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function pr(I){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,B.Z)(function*(I){const A=yield I();return A.status>=500&&A.status<600?I():A})).apply(this,arguments)}function Nn(I){return Number(I.replace("s","000"))}function Pr(){return(Pr=(0,B.Z)(function*({appConfig:I,heartbeatServiceProvider:A},{fid:N}){const j=An(I),Y=Sn(I),ee=A.getImmediate({optional:!0});if(ee){const mt=yield ee.getHeartbeatsHeader();mt&&Y.append("x-firebase-client",mt)}const Ke={method:"POST",headers:Y,body:JSON.stringify({fid:N,authVersion:pe,appId:I.appId,sdkVersion:Ki})},Ze=yield pr(()=>fetch(j,Ke));if(Ze.ok){const mt=yield Ze.json();return{fid:mt.fid||N,registrationStatus:2,refreshToken:mt.refreshToken,authToken:It(mt.authToken)}}throw yield dn("Create Installation",Ze)})).apply(this,arguments)}function oi(I){return new Promise(A=>{setTimeout(A,I)})}const Xt=/^[cdef][\w-]{21}$/,gt="";function Vt(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const N=function Mt(I){return function Ns(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Xt.test(N)?N:gt}catch{return gt}}function Gt(I){return`${I.appName}!${I.appId}`}const Jt=new Map;function qr(I,A){const N=Gt(I);ra(N,A),function an(I,A){const N=function zt(){return!Wr&&"BroadcastChannel"in self&&(Wr=new BroadcastChannel("[Firebase] FID Change"),Wr.onmessage=I=>{ra(I.data.key,I.data.fid)}),Wr}();N&&N.postMessage({key:I,fid:A}),function ds(){0===Jt.size&&Wr&&(Wr.close(),Wr=null)}()}(N,A)}function ra(I,A){const N=Jt.get(I);if(N)for(const j of N)j(A)}let Wr=null;const ks="firebase-installations-database",eo=1,Ri="firebase-installations-store";let ai=null;function Yi(){return ai||(ai=function We(I,A,{blocked:N,upgrade:j,blocking:Y,terminated:ee}={}){const we=indexedDB.open(I,A),Ke=Re(we);return j&&we.addEventListener("upgradeneeded",Ze=>{j(Re(we.result),Ze.oldVersion,Ze.newVersion,Re(we.transaction))}),N&&we.addEventListener("blocked",()=>N()),Ke.then(Ze=>{ee&&Ze.addEventListener("close",()=>ee()),Y&&Ze.addEventListener("versionchange",()=>Y())}).catch(()=>{}),Ke}(ks,eo,{upgrade:(I,A)=>{0===A&&I.createObjectStore(Ri)}})),ai}function gr(I,A){return mr.apply(this,arguments)}function mr(){return(mr=(0,B.Z)(function*(I,A){const N=Gt(I),Y=(yield Yi()).transaction(Ri,"readwrite"),ee=Y.objectStore(Ri),we=yield ee.get(N);return yield ee.put(A,N),yield Y.done,(!we||we.fid!==A.fid)&&qr(I,A.fid),A})).apply(this,arguments)}function li(I){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,B.Z)(function*(I){const A=Gt(I),j=(yield Yi()).transaction(Ri,"readwrite");yield j.objectStore(Ri).delete(A),yield j.done})).apply(this,arguments)}function ui(I,A){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,B.Z)(function*(I,A){const N=Gt(I),Y=(yield Yi()).transaction(Ri,"readwrite"),ee=Y.objectStore(Ri),we=yield ee.get(N),Ke=A(we);return void 0===Ke?yield ee.delete(N):yield ee.put(Ke,N),yield Y.done,Ke&&(!we||we.fid!==Ke.fid)&&qr(I,Ke.fid),Ke})).apply(this,arguments)}function W(I){return q.apply(this,arguments)}function q(){return q=(0,B.Z)(function*(I){let A;const N=yield ui(I.appConfig,j=>{const Y=function X(I){return jt(I||{fid:Vt(),registrationStatus:0})}(j),ee=function xe(I,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(st.create("app-offline"))};const N={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},j=function ce(I,A){return et.apply(this,arguments)}(I,N);return{installationEntry:N,registrationPromise:j}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:Ot(I)}:{installationEntry:A}}(I,Y);return A=ee.registrationPromise,ee.installationEntry});return N.fid===gt?{installationEntry:yield A}:{installationEntry:N,registrationPromise:A}}),q.apply(this,arguments)}function et(){return et=(0,B.Z)(function*(I,A){try{const N=yield function or(I,A){return Pr.apply(this,arguments)}(I,A);return gr(I.appConfig,N)}catch(N){throw Ye(N)&&409===N.customData.serverCode?yield li(I.appConfig):yield gr(I.appConfig,{fid:A.fid,registrationStatus:0}),N}}),et.apply(this,arguments)}function Ot(I){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,B.Z)(function*(I){let A=yield _r(I.appConfig);for(;1===A.registrationStatus;)yield oi(100),A=yield _r(I.appConfig);if(0===A.registrationStatus){const{installationEntry:N,registrationPromise:j}=yield W(I);return j||N}return A})).apply(this,arguments)}function _r(I){return ui(I,A=>{if(!A)throw st.create("installation-not-found");return jt(A)})}function jt(I){return function $n(I){return 1===I.registrationStatus&&I.registrationTime+Xs<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function ar(){return(ar=(0,B.Z)(function*({appConfig:I,heartbeatServiceProvider:A},N){const j=function hs(I,{fid:A}){return`${An(I)}/${A}/authTokens:generate`}(I,N),Y=function In(I,{refreshToken:A}){const N=Sn(I);return N.append("Authorization",function bi(I){return`${pe} ${I}`}(A)),N}(I,N),ee=A.getImmediate({optional:!0});if(ee){const mt=yield ee.getHeartbeatsHeader();mt&&Y.append("x-firebase-client",mt)}const Ke={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:Ki,appId:I.appId}})},Ze=yield pr(()=>fetch(j,Ke));if(Ze.ok)return It(yield Ze.json());throw yield dn("Generate Auth Token",Ze)})).apply(this,arguments)}function Ps(I){return Pa.apply(this,arguments)}function Pa(){return Pa=(0,B.Z)(function*(I,A=!1){let N;const j=yield ui(I.appConfig,ee=>{if(!Lt(ee))throw st.create("not-registered");const we=ee.authToken;if(!A&&function Bt(I){return 2===I.requestStatus&&!function Xn(I){const A=Date.now();return A<I.creationTime||I.creationTime+I.expiresIn<A+De}(I)}(we))return ee;if(1===we.requestStatus)return N=function ge(I,A){return ae.apply(this,arguments)}(I,A),ee;{if(!navigator.onLine)throw st.create("app-offline");const Ke=function er(I){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:A})}(ee);return N=function at(I,A){return Je.apply(this,arguments)}(I,Ke),Ke}});return N?yield N:j.authToken}),Pa.apply(this,arguments)}function ae(){return(ae=(0,B.Z)(function*(I,A){let N=yield Le(I.appConfig);for(;1===N.authToken.requestStatus;)yield oi(100),N=yield Le(I.appConfig);const j=N.authToken;return 0===j.requestStatus?Ps(I,A):j})).apply(this,arguments)}function Le(I){return ui(I,A=>{if(!Lt(A))throw st.create("not-registered");return function Cr(I){return 1===I.requestStatus&&I.requestTime+Xs<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function Je(){return Je=(0,B.Z)(function*(I,A){try{const N=yield function bt(I,A){return ar.apply(this,arguments)}(I,A),j=Object.assign(Object.assign({},A),{authToken:N});return yield gr(I.appConfig,j),N}catch(N){if(!Ye(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const j=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield gr(I.appConfig,j)}else yield li(I.appConfig);throw N}}),Je.apply(this,arguments)}function Lt(I){return void 0!==I&&2===I.registrationStatus}function ia(){return(ia=(0,B.Z)(function*(I){const A=I,{installationEntry:N,registrationPromise:j}=yield W(A);return j?j.catch(console.error):Ps(A).catch(console.error),N.fid})).apply(this,arguments)}function ci(){return ci=(0,B.Z)(function*(I,A=!1){const N=I;return yield function Il(I){return ki.apply(this,arguments)}(N),(yield Ps(N,A)).token}),ci.apply(this,arguments)}function ki(){return(ki=(0,B.Z)(function*(I){const{registrationPromise:A}=yield W(I);A&&(yield A)})).apply(this,arguments)}function Do(I){return st.create("missing-app-config-values",{valueName:I})}const wu="installations",Df=I=>{const A=I.getProvider("app").getImmediate(),N=function hi(I){if(!I||!I.options)throw Do("App Configuration");if(!I.name)throw Do("App Name");const A=["projectId","apiKey","appId"];for(const N of A)if(!I.options[N])throw Do(N);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(A);return{app:A,appConfig:N,heartbeatServiceProvider:(0,oe._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},To=I=>{const A=I.getProvider("app").getImmediate(),N=(0,oe._getProvider)(A,wu).getImmediate();return{getId:()=>function Qi(I){return ia.apply(this,arguments)}(N),getToken:Y=>function yu(I){return ci.apply(this,arguments)}(N,Y)}};(function sa(){(0,oe._registerComponent)(new ve.wA(wu,Df,"PUBLIC")),(0,oe._registerComponent)(new ve.wA("installations-internal",To,"PRIVATE"))})(),(0,oe.registerVersion)(cs,Hn),(0,oe.registerVersion)(cs,Hn,"esm2017");const oa="@firebase/remote-config",Or=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class At{constructor(A,N,j,Y){this.client=A,this.storage=N,this.storageCache=j,this.logger=Y}isCachedDataFresh(A,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-N,Y=j<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${Y}.`),Y}fetch(A){var N=this;return(0,B.Z)(function*(){const[j,Y]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(Y&&N.isCachedDataFresh(A.cacheMaxAgeMillis,j))return Y;A.eTag=Y&&Y.eTag;const ee=yield N.client.fetch(A),we=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&we.push(N.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(we),ee})()}}function hn(I=navigator){return I.languages&&I.languages[0]||I.language}class Yr{constructor(A,N,j,Y,ee,we){this.firebaseInstallations=A,this.sdkVersion=N,this.namespace=j,this.projectId=Y,this.apiKey=ee,this.appId=we}fetch(A){var N=this;return(0,B.Z)(function*(){const[j,Y]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),we=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,Ke={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Ze={sdk_version:N.sdkVersion,app_instance_id:j,app_instance_id_token:Y,app_id:N.appId,language_code:hn()},mt={method:"POST",headers:Ke,body:JSON.stringify(Ze)},Ft=fetch(we,mt),Ht=new Promise((es,bs)=>{A.signal.addEventListener(()=>{const Wl=new Error("The operation was aborted.");Wl.name="AbortError",bs(Wl)})});let Gs;try{yield Promise.race([Ft,Ht]),Gs=yield Ft}catch(es){let bs="fetch-client-network";throw"AbortError"===es?.name&&(bs="fetch-timeout"),Or.create(bs,{originalErrorMessage:es?.message})}let pn=Gs.status;const Ea=Gs.headers.get("ETag")||void 0;let zs,sl;if(200===Gs.status){let es;try{es=yield Gs.json()}catch(bs){throw Or.create("fetch-client-parse",{originalErrorMessage:bs?.message})}zs=es.entries,sl=es.state}if("INSTANCE_STATE_UNSPECIFIED"===sl?pn=500:"NO_CHANGE"===sl?pn=304:("NO_TEMPLATE"===sl||"EMPTY_CONFIG"===sl)&&(zs={}),304!==pn&&200!==pn)throw Or.create("fetch-status",{httpStatus:pn});return{status:pn,eTag:Ea,config:zs}})()}}class Fa{constructor(A,N){this.client=A,this.storage=N}fetch(A){var N=this;return(0,B.Z)(function*(){const j=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(A,j)})()}attemptFetch(A,{throttleEndTimeMillis:N,backoffCount:j}){var Y=this;return(0,B.Z)(function*(){yield function io(I,A){return new Promise((N,j)=>{const Y=Math.max(A-Date.now(),0),ee=setTimeout(N,Y);I.addEventListener(()=>{clearTimeout(ee),j(Or.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,N);try{const ee=yield Y.client.fetch(A);return yield Y.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function Zn(I){if(!(I instanceof ue.ZR&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}(ee))throw ee;const we={throttleEndTimeMillis:Date.now()+(0,ue.$s)(j),backoffCount:j+1};return yield Y.storage.setThrottleMetadata(we),Y.attemptFetch(A,we)}})()}}class Ao{constructor(A,N,j,Y,ee){this.app=A,this._client=N,this._storageCache=j,this._storage=Y,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function St(I,A){const N=I.target.error||void 0;return Or.create(A,{originalErrorMessage:N&&N?.message})}const Dr="app_namespace_store";class Cu{constructor(A,N,j,Y=function Pn(){return new Promise((I,A)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=j=>{A(St(j,"storage-open"))},N.onsuccess=j=>{I(j.target.result)},N.onupgradeneeded=j=>{0===j.oldVersion&&j.target.result.createObjectStore(Dr,{keyPath:"compositeKey"})}}catch(N){A(Or.create("storage-open",{originalErrorMessage:N?.message}))}})}()){this.appId=A,this.appName=N,this.namespace=j,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var N=this;return(0,B.Z)(function*(){const j=yield N.openDbPromise;return new Promise((Y,ee)=>{const Ke=j.transaction([Dr],"readonly").objectStore(Dr),Ze=N.createCompositeKey(A);try{const mt=Ke.get(Ze);mt.onerror=Ft=>{ee(St(Ft,"storage-get"))},mt.onsuccess=Ft=>{const Ht=Ft.target.result;Y(Ht?Ht.value:void 0)}}catch(mt){ee(Or.create("storage-get",{originalErrorMessage:mt?.message}))}})})()}set(A,N){var j=this;return(0,B.Z)(function*(){const Y=yield j.openDbPromise;return new Promise((ee,we)=>{const Ze=Y.transaction([Dr],"readwrite").objectStore(Dr),mt=j.createCompositeKey(A);try{const Ft=Ze.put({compositeKey:mt,value:N});Ft.onerror=Ht=>{we(St(Ht,"storage-set"))},Ft.onsuccess=()=>{ee()}}catch(Ft){we(Or.create("storage-set",{originalErrorMessage:Ft?.message}))}})})()}delete(A){var N=this;return(0,B.Z)(function*(){const j=yield N.openDbPromise;return new Promise((Y,ee)=>{const Ke=j.transaction([Dr],"readwrite").objectStore(Dr),Ze=N.createCompositeKey(A);try{const mt=Ke.delete(Ze);mt.onerror=Ft=>{ee(St(Ft,"storage-delete"))},mt.onsuccess=()=>{Y()}}catch(mt){ee(Or.create("storage-delete",{originalErrorMessage:mt?.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class xo{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,B.Z)(function*(){const N=A.storage.getLastFetchStatus(),j=A.storage.getLastSuccessfulFetchTimestampMillis(),Y=A.storage.getActiveConfig(),ee=yield N;ee&&(A.lastFetchStatus=ee);const we=yield j;we&&(A.lastSuccessfulFetchTimestampMillis=we);const Ke=yield Y;Ke&&(A.activeConfig=Ke)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function so(){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,B.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function yr(){(0,oe._registerComponent)(new ve.wA("remote-config",function I(A,{instanceIdentifier:N}){const j=A.getProvider("app").getImmediate(),Y=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Or.create("registration-window");if(!(0,ue.hl)())throw Or.create("indexed-db-unavailable");const{projectId:ee,apiKey:we,appId:Ke}=j.options;if(!ee)throw Or.create("registration-project-id");if(!we)throw Or.create("registration-api-key");if(!Ke)throw Or.create("registration-app-id");const Ze=new Cu(Ke,j.name,N=N||"firebase"),mt=new xo(Ze),Ft=new re.Yd(oa);Ft.logLevel=re.in.ERROR;const Ht=new Yr(Y,oe.SDK_VERSION,N,ee,we,Ke),Gs=new Fa(Ht,Ze),pn=new At(Gs,Ze,mt,Ft),Ea=new Ao(j,pn,mt,Ze,Ft);return function Zr(I){const A=(0,ue.m9)(I);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(Ea),Ea},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(oa,"0.4.4"),(0,oe.registerVersion)(oa,"0.4.4","esm2017")}();const Ji=(I,A)=>A.some(N=>I instanceof N);let Mo,$t;const Al=new WeakMap,Kn=new WeakMap,Bs=new WeakMap,lr=new WeakMap,ps=new WeakMap;let ur={get(I,A,N){if(I instanceof IDBTransaction){if("done"===A)return Kn.get(I);if("objectStoreNames"===A)return I.objectStoreNames||Bs.get(I);if("store"===A)return N.objectStoreNames[1]?void 0:N.objectStore(N.objectStoreNames[0])}return fi(I[A])},set:(I,A,N)=>(I[A]=N,!0),has:(I,A)=>I instanceof IDBTransaction&&("done"===A||"store"===A)||A in I};function oo(I){return"function"==typeof I?function Ua(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ro(){return $t||($t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...A){return I.apply(Jr(this),A),fi(Al.get(this))}:function(...A){return fi(I.apply(Jr(this),A))}:function(A,...N){const j=I.call(Jr(this),A,...N);return Bs.set(j,A.sort?A.sort():[A]),fi(j)}}(I):(I instanceof IDBTransaction&&function jd(I){if(Kn.has(I))return;const A=new Promise((N,j)=>{const Y=()=>{I.removeEventListener("complete",ee),I.removeEventListener("error",we),I.removeEventListener("abort",we)},ee=()=>{N(),Y()},we=()=>{j(I.error||new DOMException("AbortError","AbortError")),Y()};I.addEventListener("complete",ee),I.addEventListener("error",we),I.addEventListener("abort",we)});Kn.set(I,A)}(I),Ji(I,function Tf(){return Mo||(Mo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,ur):I)}function fi(I){if(I instanceof IDBRequest)return function nr(I){const A=new Promise((N,j)=>{const Y=()=>{I.removeEventListener("success",ee),I.removeEventListener("error",we)},ee=()=>{N(fi(I.result)),Y()},we=()=>{j(I.error),Y()};I.addEventListener("success",ee),I.addEventListener("error",we)});return A.then(N=>{N instanceof IDBCursor&&Al.set(N,I)}).catch(()=>{}),ps.set(A,I),A}(I);if(lr.has(I))return lr.get(I);const A=oo(I);return A!==I&&(lr.set(I,A),ps.set(A,I)),A}const Jr=I=>ps.get(I);function No(I,A,{blocked:N,upgrade:j,blocking:Y,terminated:ee}={}){const we=indexedDB.open(I,A),Ke=fi(we);return j&&we.addEventListener("upgradeneeded",Ze=>{j(fi(we.result),Ze.oldVersion,Ze.newVersion,fi(we.transaction))}),N&&we.addEventListener("blocked",()=>N()),Ke.then(Ze=>{ee&&Ze.addEventListener("close",()=>ee()),Y&&Ze.addEventListener("versionchange",()=>Y())}).catch(()=>{}),Ke}function ko(I,{blocked:A}={}){const N=indexedDB.deleteDatabase(I);return A&&N.addEventListener("blocked",()=>A()),fi(N).then(()=>{})}const xl=["get","getKey","getAll","getAllKeys","count"],Va=["put","add","delete","clear"],Ml=new Map;function Du(I,A){if(!(I instanceof IDBDatabase)||A in I||"string"!=typeof A)return;if(Ml.get(A))return Ml.get(A);const N=A.replace(/FromIndex$/,""),j=A!==N,Y=Va.includes(N);if(!(N in(j?IDBIndex:IDBObjectStore).prototype)||!Y&&!xl.includes(N))return;const ee=function(){var we=(0,B.Z)(function*(Ke,...Ze){const mt=this.transaction(Ke,Y?"readwrite":"readonly");let Ft=mt.store;return j&&(Ft=Ft.index(Ze.shift())),(yield Promise.all([Ft[N](...Ze),Y&&mt.done]))[0]});return function(Ze){return we.apply(this,arguments)}}();return Ml.set(A,ee),ee}!function Tr(I){ur=I(ur)}(I=>({...I,get:(A,N,j)=>Du(A,N)||I.get(A,N,j),has:(A,N)=>!!Du(A,N)||I.has(A,N)}));const Ec="/firebase-messaging-sw.js",Rl="/firebase-cloud-messaging-push-scope",Tu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Hd="https://fcmregistrations.googleapis.com/v1",xn="google.c.a.c_id",Ic="google.c.a.c_l",$d="google.c.a.ts";var Au=function(I){return I.PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",I}(Au||{});function Xi(I){const A=new Uint8Array(I);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xu(I){const N=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(N),Y=new Uint8Array(j.length);for(let ee=0;ee<j.length;++ee)Y[ee]=j.charCodeAt(ee);return Y}const ao="fcm_token_details_db",Ba=5,aa="fcm_token_object_Store";function ja(){return ja=(0,B.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(ao))return null;let A=null;return(yield No(ao,Ba,{upgrade:(j=(0,B.Z)(function*(Y,ee,we,Ke){var Ze;if(ee<2||!Y.objectStoreNames.contains(aa))return;const mt=Ke.objectStore(aa),Ft=yield mt.index("fcmSenderId").get(I);if(yield mt.clear(),Ft)if(2===ee){const Ht=Ft;if(!Ht.auth||!Ht.p256dh||!Ht.endpoint)return;A={token:Ht.fcmToken,createTime:null!==(Ze=Ht.createTime)&&void 0!==Ze?Ze:Date.now(),subscriptionOptions:{auth:Ht.auth,p256dh:Ht.p256dh,endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:"string"==typeof Ht.vapidKey?Ht.vapidKey:Xi(Ht.vapidKey)}}}else if(3===ee){const Ht=Ft;A={token:Ht.fcmToken,createTime:Ht.createTime,subscriptionOptions:{auth:Xi(Ht.auth),p256dh:Xi(Ht.p256dh),endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:Xi(Ht.vapidKey)}}}else if(4===ee){const Ht=Ft;A={token:Ht.fcmToken,createTime:Ht.createTime,subscriptionOptions:{auth:Xi(Ht.auth),p256dh:Xi(Ht.p256dh),endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:Xi(Ht.vapidKey)}}}}),function(ee,we,Ke,Ze){return j.apply(this,arguments)})})).close(),yield ko(ao),yield ko("fcm_vapid_details_db"),yield ko("undefined"),function lo(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:A}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}(A)?A:null;var j}),ja.apply(this,arguments)}const Po="firebase-messaging-database",Cc=1,Xr="firebase-messaging-store";let Ha=null;function $a(){return Ha||(Ha=No(Po,Cc,{upgrade:(I,A)=>{0===A&&I.createObjectStore(Xr)}})),Ha}function Nl(I){return la.apply(this,arguments)}function la(){return la=(0,B.Z)(function*(I){const A=jn(I),j=yield(yield $a()).transaction(Xr).objectStore(Xr).get(A);if(j)return j;{const Y=yield function Af(I){return ja.apply(this,arguments)}(I.appConfig.senderId);if(Y)return yield Dc(I,Y),Y}}),la.apply(this,arguments)}function Dc(I,A){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,B.Z)(function*(I,A){const N=jn(I),Y=(yield $a()).transaction(Xr,"readwrite");return yield Y.objectStore(Xr).put(A,N),yield Y.done,A})).apply(this,arguments)}function uo(){return(uo=(0,B.Z)(function*(I){const A=jn(I),j=(yield $a()).transaction(Xr,"readwrite");yield j.objectStore(Xr).delete(A),yield j.done})).apply(this,arguments)}function jn({appConfig:I}){return I.appId}const Lr=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function kl(I,A){return za.apply(this,arguments)}function za(){return(za=(0,B.Z)(function*(I,A){const N=yield Ol(I),j=Gd(A),Y={method:"POST",headers:N,body:JSON.stringify(j)};let ee;try{ee=yield(yield fetch(ua(I.appConfig),Y)).json()}catch(we){throw Lr.create("token-subscribe-failed",{errorInfo:we?.toString()})}if(ee.error)throw Lr.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw Lr.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function Sc(){return(Sc=(0,B.Z)(function*(I,A){const N=yield Ol(I),j=Gd(A.subscriptionOptions),Y={method:"PATCH",headers:N,body:JSON.stringify(j)};let ee;try{ee=yield(yield fetch(`${ua(I.appConfig)}/${A.token}`,Y)).json()}catch(we){throw Lr.create("token-update-failed",{errorInfo:we?.toString()})}if(ee.error)throw Lr.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw Lr.create("token-update-no-token");return ee.token})).apply(this,arguments)}function Ac(I,A){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,B.Z)(function*(I,A){const j={method:"DELETE",headers:yield Ol(I)};try{const ee=yield(yield fetch(`${ua(I.appConfig)}/${A}`,j)).json();if(ee.error)throw Lr.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(Y){throw Lr.create("token-unsubscribe-failed",{errorInfo:Y?.toString()})}})).apply(this,arguments)}function ua({projectId:I}){return`${Hd}/projects/${I}/registrations`}function Ol(I){return co.apply(this,arguments)}function co(){return(co=(0,B.Z)(function*({appConfig:I,installations:A}){const N=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function Gd({p256dh:I,auth:A,endpoint:N,vapidKey:j}){const Y={web:{endpoint:N,auth:A,p256dh:I}};return j!==Tu&&(Y.web.applicationPubKey=j),Y}const zd=6048e5;function Ll(){return Ll=(0,B.Z)(function*(I){const A=yield function qa(I,A){return Wa.apply(this,arguments)}(I.swRegistration,I.vapidKey),N={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:A.endpoint,auth:Xi(A.getKey("auth")),p256dh:Xi(A.getKey("p256dh"))},j=yield Nl(I.firebaseDependencies);if(j){if(function Rc(I,A){return A.vapidKey===I.vapidKey&&A.endpoint===I.endpoint&&A.auth===I.auth&&A.p256dh===I.p256dh}(j.subscriptionOptions,N))return Date.now()>=j.createTime+zd?function qd(I,A){return ca.apply(this,arguments)}(I,{token:j.token,createTime:Date.now(),subscriptionOptions:N}):j.token;try{yield Ac(I.firebaseDependencies,j.token)}catch(Y){console.warn(Y)}return ho(I.firebaseDependencies,N)}return ho(I.firebaseDependencies,N)}),Ll.apply(this,arguments)}function Mc(){return Mc=(0,B.Z)(function*(I){const A=yield Nl(I.firebaseDependencies);A&&(yield Ac(I.firebaseDependencies,A.token),yield function gs(I){return uo.apply(this,arguments)}(I.firebaseDependencies));const N=yield I.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()}),Mc.apply(this,arguments)}function ca(){return ca=(0,B.Z)(function*(I,A){try{const N=yield function Oo(I,A){return Sc.apply(this,arguments)}(I.firebaseDependencies,A),j=Object.assign(Object.assign({},A),{token:N,createTime:Date.now()});return yield Dc(I.firebaseDependencies,j),N}catch(N){throw yield function xc(I){return Mc.apply(this,arguments)}(I),N}}),ca.apply(this,arguments)}function ho(I,A){return fo.apply(this,arguments)}function fo(){return(fo=(0,B.Z)(function*(I,A){const j={token:yield kl(I,A),createTime:Date.now(),subscriptionOptions:A};return yield Dc(I,j),j.token})).apply(this,arguments)}function Wa(){return(Wa=(0,B.Z)(function*(I,A){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xu(A)})})).apply(this,arguments)}function Fl(I){const A={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Lo(I,A){if(!A.notification)return;I.notification={};const N=A.notification.title;N&&(I.notification.title=N);const j=A.notification.body;j&&(I.notification.body=j);const Y=A.notification.image;Y&&(I.notification.image=Y);const ee=A.notification.icon;ee&&(I.notification.icon=ee)}(A,I),function Nc(I,A){A.data&&(I.data=A.data)}(A,I),function Oi(I,A){var N,j,Y,ee,we;if(!(A.fcmOptions||null!==(N=A.notification)&&void 0!==N&&N.click_action))return;I.fcmOptions={};const Ke=null!==(Y=null===(j=A.fcmOptions)||void 0===j?void 0:j.link)&&void 0!==Y?Y:null===(ee=A.notification)||void 0===ee?void 0:ee.click_action;Ke&&(I.fcmOptions.link=Ke);const Ze=null===(we=A.fcmOptions)||void 0===we?void 0:we.analytics_label;Ze&&(I.fcmOptions.analyticsLabel=Ze)}(A,I),A}function Mu(I,A){const N=[];for(let j=0;j<I.length;j++)N.push(I.charAt(j)),j<A.length&&N.push(A.charAt(j));return N.join("")}function js(I){return Lr.create("missing-app-config-values",{valueName:I})}Mu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Mu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class On{constructor(A,N,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function rn(I){if(!I||!I.options)throw js("App Configuration Object");if(!I.name)throw js("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:N}=I;for(const j of A)if(!N[j])throw js(j);return{appName:I.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:Y,installations:N,analyticsProvider:j}}_delete(){return Promise.resolve()}}function Ul(){return(Ul=(0,B.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Ec,{scope:Rl}),I.swRegistration.update().catch(()=>{})}catch(A){throw Lr.create("failed-service-worker-registration",{browserErrorMessage:A?.message})}})).apply(this,arguments)}function Li(){return(Li=(0,B.Z)(function*(I,A){if(!A&&!I.swRegistration&&(yield function ei(I){return Ul.apply(this,arguments)}(I)),A||!I.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Lr.create("invalid-sw-registration");I.swRegistration=A}})).apply(this,arguments)}function da(){return(da=(0,B.Z)(function*(I,A){A?I.vapidKey=A:I.vapidKey||(I.vapidKey=Tu)})).apply(this,arguments)}function ha(){return ha=(0,B.Z)(function*(I,A){if(!navigator)throw Lr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Lr.create("permission-blocked");return yield function Yn(I,A){return da.apply(this,arguments)}(I,A?.vapidKey),yield function kc(I,A){return Li.apply(this,arguments)}(I,A?.serviceWorkerRegistration),function yg(I){return Ll.apply(this,arguments)}(I)}),ha.apply(this,arguments)}function T(){return(T=(0,B.Z)(function*(I,A,N){const j=function k(I){switch(I){case Au.NOTIFICATION_CLICKED:return"notification_open";case Au.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(A);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:N[xn],message_name:N[Ic],message_time:N[$d],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function be(){return be=(0,B.Z)(function*(I,A){const N=A.data;if(!N.isFirebaseMessaging)return;I.onMessageHandler&&N.messageType===Au.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Fl(N)):I.onMessageHandler.next(Fl(N)));const j=N.data;(function Wd(I){return"object"==typeof I&&!!I&&xn in I})(j)&&"1"===j["google.c.a.e"]&&(yield function C(I,A,N){return T.apply(this,arguments)}(I,N.messageType,j))}),be.apply(this,arguments)}const yt="@firebase/messaging",it=I=>{const A=new On(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function G(I,A){return be.apply(this,arguments)}(A,N)),A},Ln=I=>{const A=I.getProvider("messaging").getImmediate();return{getToken:j=>function Pc(I,A){return ha.apply(this,arguments)}(A,j)}};function Vl(){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,B.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function fa(){(0,oe._registerComponent)(new ve.wA("messaging",it,"PUBLIC")),(0,oe._registerComponent)(new ve.wA("messaging-internal",Ln,"PRIVATE")),(0,oe.registerVersion)(yt,"0.12.4"),(0,oe.registerVersion)(yt,"0.12.4","esm2017")}();const Ee="analytics",fn="firebase_id",Oc="origin",xf=6e4,Sr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nu="https://www.googletagmanager.com/gtag/js",rr=new re.Yd("@firebase/analytics"),Fr=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ya(I){if(!I.startsWith(Nu)){const A=Fr.create("invalid-gtag-resource",{gtagURL:I});return rr.warn(A.message),""}return I}function Yd(I){return Promise.all(I.map(A=>A.catch(N=>N)))}function jl(){return(jl=(0,B.Z)(function*(I,A,N,j,Y,ee){const we=j[Y];try{if(we)yield A[we];else{const Ze=(yield Yd(N)).find(mt=>mt.measurementId===Y);Ze&&(yield A[Ze.appId])}}catch(Ke){rr.error(Ke)}I("config",Y,ee)})).apply(this,arguments)}function Ur(){return(Ur=(0,B.Z)(function*(I,A,N,j,Y){try{let ee=[];if(Y&&Y.send_to){let we=Y.send_to;Array.isArray(we)||(we=[we]);const Ke=yield Yd(N);for(const Ze of we){const mt=Ke.find(Ht=>Ht.measurementId===Ze),Ft=mt&&A[mt.appId];if(!Ft){ee=[];break}ee.push(Ft)}}0===ee.length&&(ee=Object.values(A)),yield Promise.all(ee),I("event",j,Y||{})}catch(ee){rr.error(ee)}})).apply(this,arguments)}const Mf=30,Rf=new class Qa{constructor(A={},N=1e3){this.throttleMetadata=A,this.intervalMillis=N}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,N){this.throttleMetadata[A]=N}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function th(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function nh(){return(nh=(0,B.Z)(function*(I){var A;const{appId:N,apiKey:j}=I,Y={method:"GET",headers:th(j)},ee=Sr.replace("{app-id}",N),we=yield fetch(ee,Y);if(200!==we.status&&304!==we.status){let Ke="";try{const Ze=yield we.json();null!==(A=Ze.error)&&void 0!==A&&A.message&&(Ke=Ze.error.message)}catch{}throw Fr.create("config-fetch-failed",{httpStatus:we.status,responseMessage:Ke})}return we.json()})).apply(this,arguments)}function Hl(){return(Hl=(0,B.Z)(function*(I,A=Rf,N){const{appId:j,apiKey:Y,measurementId:ee}=I.options;if(!j)throw Fr.create("no-app-id");if(!Y){if(ee)return{measurementId:ee,appId:j};throw Fr.create("no-api-key")}const we=A.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new Eg;return setTimeout((0,B.Z)(function*(){Ke.abort()}),void 0!==N?N:xf),kf({appId:j,apiKey:Y,measurementId:ee},we,Ke,A)})).apply(this,arguments)}function kf(I,A,N){return rh.apply(this,arguments)}function rh(){return rh=(0,B.Z)(function*(I,{throttleEndTimeMillis:A,backoffCount:N},j,Y=Rf){var ee;const{appId:we,measurementId:Ke}=I;try{yield function bg(I,A){return new Promise((N,j)=>{const Y=Math.max(A-Date.now(),0),ee=setTimeout(N,Y);I.addEventListener(()=>{clearTimeout(ee),j(Fr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(j,A)}catch(Ze){if(Ke)return rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${Ze?.message}]`),{appId:we,measurementId:Ke};throw Ze}try{const Ze=yield function k_(I){return nh.apply(this,arguments)}(I);return Y.deleteThrottleMetadata(we),Ze}catch(Ze){const mt=Ze;if(!function Lc(I){if(!(I instanceof ue.ZR&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}(mt)){if(Y.deleteThrottleMetadata(we),Ke)return rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${mt?.message}]`),{appId:we,measurementId:Ke};throw Ze}const Ft=503===Number(null===(ee=mt?.customData)||void 0===ee?void 0:ee.httpStatus)?(0,ue.$s)(N,Y.intervalMillis,Mf):(0,ue.$s)(N,Y.intervalMillis),Ht={throttleEndTimeMillis:Date.now()+Ft,backoffCount:N+1};return Y.setThrottleMetadata(we,Ht),rr.debug(`Calling attemptFetch again in ${Ft} millis`),kf(I,Ht,j,Y)}}),rh.apply(this,arguments)}class Eg{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let Fc,$l;function pa(){return(pa=(0,B.Z)(function*(I,A,N,j,Y){if(Y&&Y.global)I("event",N,j);else{const ee=yield A;I("event",N,Object.assign(Object.assign({},j),{send_to:ee}))}})).apply(this,arguments)}function Vo(){return(Vo=(0,B.Z)(function*(){if(!(0,ue.hl)())return rr.warn(Fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(I){return rr.warn(Fr.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function kt(){return kt=(0,B.Z)(function*(I,A,N,j,Y,ee,we){var Ke;const Ze=function Nf(I){return Hl.apply(this,arguments)}(I);Ze.then(pn=>{N[pn.measurementId]=pn.appId,I.options.measurementId&&pn.measurementId!==I.options.measurementId&&rr.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${pn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(pn=>rr.error(pn)),A.push(Ze);const mt=function Uo(){return Vo.apply(this,arguments)}().then(pn=>{if(pn)return j.getId()}),[Ft,Ht]=yield Promise.all([Ze,mt]);(function eh(I){const A=window.document.getElementsByTagName("script");for(const N of Object.values(A))if(N.src&&N.src.includes(Nu)&&N.src.includes(I))return N;return null})(ee)||function ku(I,A){const N=function Qd(I,A){let N;return window.trustedTypes&&(N=window.trustedTypes.createPolicy(I,A)),N}("firebase-js-sdk-policy",{createScriptURL:Ya}),j=document.createElement("script"),Y=`${Nu}?l=${I}&id=${A}`;j.src=N?N?.createScriptURL(Y):Y,j.async=!0,document.head.appendChild(j)}(ee,Ft.measurementId),$l&&(Y("consent","default",$l),function _a(I){$l=I}(void 0)),Y("js",new Date);const Gs=null!==(Ke=we?.config)&&void 0!==Ke?Ke:{};return Gs[Oc]="firebase",Gs.update=!0,null!=Ht&&(Gs[fn]=Ht),Y("config",Ft.measurementId,Gs),Fc&&(Y("set",Fc),function ya(I){Fc=I}(void 0)),Ft.measurementId}),kt.apply(this,arguments)}class _s{constructor(A){this.app=A}_delete(){return delete pi[this.app.options.appId],Promise.resolve()}}let pi={},sh=[];const Pf={};let Bo,Ar,Gl="dataLayer",Of=!1;function Ja(I,A,N){!function oh(){const I=[];if((0,ue.ru)()&&I.push("This is a browser extension environment."),(0,ue.zI)()||I.push("Cookies are not available."),I.length>0){const A=I.map((j,Y)=>`(${Y+1}) ${j}`).join(" "),N=Fr.create("invalid-analytics-context",{errorInfo:A});rr.warn(N.message)}}();const j=I.options.appId;if(!j)throw Fr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Fr.create("no-api-key");rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=pi[j])throw Fr.create("already-exists",{id:j});if(!Of){!function Fi(I){let A=[];Array.isArray(window[I])?A=window[I]:window[I]=A}(Gl);const{wrappedGtag:ee,gtagCore:we}=function Xd(I,A,N,j,Y){let ee=function(...we){window[j].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ee=window[Y]),window[Y]=function Jd(I,A,N,j){function ee(){return ee=(0,B.Z)(function*(we,...Ke){try{if("event"===we){const[Ze,mt]=Ke;yield function Fo(I,A,N,j,Y){return Ur.apply(this,arguments)}(I,A,N,Ze,mt)}else if("config"===we){const[Ze,mt]=Ke;yield function $s(I,A,N,j,Y,ee){return jl.apply(this,arguments)}(I,A,N,j,Ze,mt)}else if("consent"===we){const[Ze]=Ke;I("consent","update",Ze)}else if("get"===we){const[Ze,mt,Ft]=Ke;I("get",Ze,mt,Ft)}else if("set"===we){const[Ze]=Ke;I("set",Ze)}else I(we,...Ke)}catch(Ze){rr.error(Ze)}}),ee.apply(this,arguments)}return function Y(we){return ee.apply(this,arguments)}}(ee,I,A,N),{gtagCore:ee,wrappedGtag:window[Y]}}(pi,sh,Pf,Gl,"gtag");Ar=ee,Bo=we,Of=!0}return pi[j]=function vr(I,A,N,j,Y,ee,we){return kt.apply(this,arguments)}(I,sh,Pf,A,Bo,Gl,N),new _s(I)}function ys(){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,B.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const el="@firebase/analytics";!function Ff(){(0,oe._registerComponent)(new ve.wA(Ee,(A,{options:N})=>Ja(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,oe._registerComponent)(new ve.wA("analytics-internal",function I(A){try{const N=A.getProvider(Ee).getImmediate();return{logEvent:(j,Y,ee)=>function zl(I,A,N,j){I=(0,ue.m9)(I),function Ui(I,A,N,j,Y){return pa.apply(this,arguments)}(Ar,pi[I.app.options.appId],A,N,j).catch(Y=>rr.error(Y))}(N,j,Y,ee)}}catch(N){throw Fr.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,oe.registerVersion)(el,"0.10.0"),(0,oe.registerVersion)(el,"0.10.0","esm2017")}();var tl=F(1954),ch=F(2631);const Uf=new class Lu extends ch.v{}(class uh extends tl.o{constructor(A,N){super(A,N),this.scheduler=A,this.work=N}schedule(A,N=0){return N>0?super.schedule(A,N):(this.delay=N,this.state=A,this.scheduler.flush(this),this)}execute(A,N){return N>0||this.closed?super.execute(A,N):this._execute(A,N)}requestAsyncId(A,N,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(A,N,j):(A.flush(this),0)}});var go=F(6321),Vf=F(9397),nl=F(3093),ql=F(5137);const Ho=new d.GfV("7.6.1"),Fu="__angularfire_symbol__analyticsIsSupportedValue",wr="__angularfire_symbol__analyticsIsSupported",Hc="__angularfire_symbol__remoteConfigIsSupportedValue",rl="__angularfire_symbol__remoteConfigIsSupported",$o="__angularfire_symbol__messagingIsSupportedValue",Uu="__angularfire_symbol__messagingIsSupported";function il(I,A,N){if(A){if(1===A.length)return A[0];const ee=A.filter(we=>we.app===N);if(1===ee.length)return ee[0]}return N.container.getProvider(I).getImmediate({optional:!0})}globalThis[wr]||(globalThis[wr]=ys().then(I=>globalThis[Fu]=I).catch(()=>globalThis[Fu]=!1)),globalThis[Uu]||(globalThis[Uu]=Vl().then(I=>globalThis[$o]=I).catch(()=>globalThis[$o]=!1)),globalThis[rl]||(globalThis[rl]=so().then(I=>globalThis[Hc]=I).catch(()=>globalThis[Hc]=!1));const Ig=(I,A)=>{const N=A?[A]:(0,ne.C6)(),j=[];return N.forEach(Y=>{Y.container.getProvider(I).instances.forEach(we=>{j.includes(we)||j.push(we)})}),j};function Go(){}class wa{constructor(A,N=Uf){this.zone=A,this.delegate=N}now(){return this.delegate.now()}schedule(A,N,j){const Y=this.zone;return this.delegate.schedule(function(we){Y.runGuarded(()=>{A.apply(this,[we])})},N,j)}}class Cg{constructor(A){this.zone=A,this.task=null}call(A,N){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Go,{},Go,Go)),N.pipe((0,Vf.b)({next:j,complete:j,error:j})).subscribe(A).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Gc=(()=>{class I{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new wa(Zone.current)),this.insideAngular=N.run(()=>new wa(Zone.current,go.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(N){return new(N||I)(d.LFG(d.R0b))},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function zo(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function F_(I){return I.pipe((0,nl.Q)(zo().outsideAngular))}function U_(I){return zo(),function Bu(I){return function(N){return(N=N.lift(new Cg(I.ngZone))).pipe((0,ql.R)(I.outsideAngular),(0,nl.Q)(I.insideAngular))}}(zo())(I)}},9058:(Et,Me,F)=>{"use strict";F.d(Me,{$s:()=>li,BH:()=>se,DV:()=>Nn,Dv:()=>ra,G6:()=>Ki,GJ:()=>pr,L:()=>ye,LL:()=>ke,Pz:()=>Ce,Sg:()=>Re,UG:()=>he,UI:()=>or,US:()=>ve,Wj:()=>zt,Wl:()=>It,Yr:()=>Xs,ZB:()=>V,ZR:()=>Ne,aH:()=>le,b$:()=>qn,cI:()=>An,dS:()=>ks,eu:()=>fe,g5:()=>B,gK:()=>an,gQ:()=>Mt,h$:()=>Be,hl:()=>pe,hu:()=>ne,jU:()=>pt,lb:()=>ds,m9:()=>Ni,ne:()=>Gt,p$:()=>K,pd:()=>Vt,r3:()=>Wt,ru:()=>dt,tV:()=>z,uI:()=>We,ug:()=>eo,vZ:()=>Pr,w1:()=>cs,w9:()=>In,xO:()=>Xt,xb:()=>bi,z$:()=>je,zI:()=>De,zd:()=>gt});const d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ne=function(W,q){if(!W)throw B(q)},B=function(W){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+W)},oe=function(W){const q=[];let X=0;for(let xe=0;xe<W.length;xe++){let ce=W.charCodeAt(xe);ce<128?q[X++]=ce:ce<2048?(q[X++]=ce>>6|192,q[X++]=63&ce|128):55296==(64512&ce)&&xe+1<W.length&&56320==(64512&W.charCodeAt(xe+1))?(ce=65536+((1023&ce)<<10)+(1023&W.charCodeAt(++xe)),q[X++]=ce>>18|240,q[X++]=ce>>12&63|128,q[X++]=ce>>6&63|128,q[X++]=63&ce|128):(q[X++]=ce>>12|224,q[X++]=ce>>6&63|128,q[X++]=63&ce|128)}return q},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,q){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,xe=[];for(let ce=0;ce<W.length;ce+=3){const et=W[ce],Ot=ce+1<W.length,Nt=Ot?W[ce+1]:0,_r=ce+2<W.length,jt=_r?W[ce+2]:0;let ar=(15&Nt)<<2|jt>>6,hs=63&jt;_r||(hs=64,Ot||(ar=64)),xe.push(X[et>>2],X[(3&et)<<4|Nt>>4],X[ar],X[hs])}return xe.join("")},encodeString(W,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(W):this.encodeByteArray(oe(W),q)},decodeString(W,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(W):function(W){const q=[];let X=0,xe=0;for(;X<W.length;){const ce=W[X++];if(ce<128)q[xe++]=String.fromCharCode(ce);else if(ce>191&&ce<224){const et=W[X++];q[xe++]=String.fromCharCode((31&ce)<<6|63&et)}else if(ce>239&&ce<365){const _r=((7&ce)<<18|(63&W[X++])<<12|(63&W[X++])<<6|63&W[X++])-65536;q[xe++]=String.fromCharCode(55296+(_r>>10)),q[xe++]=String.fromCharCode(56320+(1023&_r))}else{const et=W[X++],Ot=W[X++];q[xe++]=String.fromCharCode((15&ce)<<12|(63&et)<<6|63&Ot)}}return q.join("")}(this.decodeStringToByteArray(W,q))},decodeStringToByteArray(W,q){this.init_();const X=q?this.charToByteMapWebSafe_:this.charToByteMap_,xe=[];for(let ce=0;ce<W.length;){const et=X[W.charAt(ce++)],Nt=ce<W.length?X[W.charAt(ce)]:0;++ce;const jt=ce<W.length?X[W.charAt(ce)]:64;++ce;const bt=ce<W.length?X[W.charAt(ce)]:64;if(++ce,null==et||null==Nt||null==jt||null==bt)throw new re;xe.push(et<<2|Nt>>4),64!==jt&&(xe.push(Nt<<4&240|jt>>2),64!==bt&&xe.push(jt<<6&192|bt))}return xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}};class re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Be=function(W){const q=oe(W);return ve.encodeByteArray(q,!0)},ye=function(W){return Be(W).replace(/\./g,"")},z=function(W){try{return ve.decodeString(W,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function K(W){return V(void 0,W)}function V(W,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return q}for(const X in q)!q.hasOwnProperty(X)||!Ge(X)||(W[X]=V(W[X],q[X]));return W}function Ge(W){return"__proto__"!==W}const Ve=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const q=W&&z(W[1]);return q&&JSON.parse(q)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},le=()=>{var W;return null===(W=Ve())||void 0===W?void 0:W.config},Ce=W=>{var q;return null===(q=Ve())||void 0===q?void 0:q[`_${W}`]};class se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,X)=>{this.resolve=q,this.reject=X})}wrapCallback(q){return(X,xe)=>{X?this.reject(X):this.resolve(xe),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(X):q(X,xe))}}}function Re(W,q){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xe=q||"demo-project",ce=W.iat||0,et=W.sub||W.user_id;if(!et)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ot=Object.assign({iss:`https://securetoken.google.com/${xe}`,aud:xe,iat:ce,exp:ce+3600,auth_time:ce,sub:et,user_id:et,firebase:{sign_in_provider:"custom",identities:{}}},W);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(Ot)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function We(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function he(){var W;const q=null===(W=Ve())||void 0===W?void 0:W.forceEnvironment;if("node"===q)return!0;if("browser"===q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pt(){return"object"==typeof self&&self.self===self}function dt(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function qn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function cs(){const W=je();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Xs(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function Ki(){return!he()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pe(){try{return"object"==typeof indexedDB}catch{return!1}}function fe(){return new Promise((W,q)=>{try{let X=!0;const xe="validate-browser-context-for-indexeddb-analytics-module",ce=self.indexedDB.open(xe);ce.onsuccess=()=>{ce.result.close(),X||self.indexedDB.deleteDatabase(xe),W(!0)},ce.onupgradeneeded=()=>{X=!1},ce.onerror=()=>{var et;q((null===(et=ce.error)||void 0===et?void 0:et.message)||"")}}catch(X){q(X)}})}function De(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ne extends Error{constructor(q,X,xe){super(X),this.code=q,this.customData=xe,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ke.prototype.create)}}class ke{constructor(q,X,xe){this.service=q,this.serviceName=X,this.errors=xe}create(q,...X){const xe=X[0]||{},ce=`${this.service}/${q}`,et=this.errors[q],Ot=et?function st(W,q){return W.replace(Ye,(X,xe)=>{const ce=q[xe];return null!=ce?String(ce):`<${xe}?>`})}(et,xe):"Error";return new Ne(ce,`${this.serviceName}: ${Ot} (${ce}).`,xe)}}const Ye=/\{\$([^}]+)}/g;function An(W){return JSON.parse(W)}function It(W){return JSON.stringify(W)}const dn=function(W){let q={},X={},xe={},ce="";try{const et=W.split(".");q=An(z(et[0])||""),X=An(z(et[1])||""),ce=et[2],xe=X.d||{},delete X.d}catch{}return{header:q,claims:X,data:xe,signature:ce}},In=function(W){const X=dn(W).claims;return!!X&&"object"==typeof X&&X.hasOwnProperty("iat")},pr=function(W){const q=dn(W).claims;return"object"==typeof q&&!0===q.admin};function Wt(W,q){return Object.prototype.hasOwnProperty.call(W,q)}function Nn(W,q){if(Object.prototype.hasOwnProperty.call(W,q))return W[q]}function bi(W){for(const q in W)if(Object.prototype.hasOwnProperty.call(W,q))return!1;return!0}function or(W,q,X){const xe={};for(const ce in W)Object.prototype.hasOwnProperty.call(W,ce)&&(xe[ce]=q.call(X,W[ce],ce,W));return xe}function Pr(W,q){if(W===q)return!0;const X=Object.keys(W),xe=Object.keys(q);for(const ce of X){if(!xe.includes(ce))return!1;const et=W[ce],Ot=q[ce];if(oi(et)&&oi(Ot)){if(!Pr(et,Ot))return!1}else if(et!==Ot)return!1}for(const ce of xe)if(!X.includes(ce))return!1;return!0}function oi(W){return null!==W&&"object"==typeof W}function Xt(W){const q=[];for(const[X,xe]of Object.entries(W))Array.isArray(xe)?xe.forEach(ce=>{q.push(encodeURIComponent(X)+"="+encodeURIComponent(ce))}):q.push(encodeURIComponent(X)+"="+encodeURIComponent(xe));return q.length?"&"+q.join("&"):""}function gt(W){const q={};return W.replace(/^\?/,"").split("&").forEach(xe=>{if(xe){const[ce,et]=xe.split("=");q[decodeURIComponent(ce)]=decodeURIComponent(et)}}),q}function Vt(W){const q=W.indexOf("?");if(!q)return"";const X=W.indexOf("#",q);return W.substring(q,X>0?X:void 0)}class Mt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let q=1;q<this.blockSize;++q)this.pad_[q]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(q,X){X||(X=0);const xe=this.W_;if("string"==typeof q)for(let bt=0;bt<16;bt++)xe[bt]=q.charCodeAt(X)<<24|q.charCodeAt(X+1)<<16|q.charCodeAt(X+2)<<8|q.charCodeAt(X+3),X+=4;else for(let bt=0;bt<16;bt++)xe[bt]=q[X]<<24|q[X+1]<<16|q[X+2]<<8|q[X+3],X+=4;for(let bt=16;bt<80;bt++){const ar=xe[bt-3]^xe[bt-8]^xe[bt-14]^xe[bt-16];xe[bt]=4294967295&(ar<<1|ar>>>31)}let jt,$n,ce=this.chain_[0],et=this.chain_[1],Ot=this.chain_[2],Nt=this.chain_[3],_r=this.chain_[4];for(let bt=0;bt<80;bt++){bt<40?bt<20?(jt=Nt^et&(Ot^Nt),$n=1518500249):(jt=et^Ot^Nt,$n=1859775393):bt<60?(jt=et&Ot|Nt&(et|Ot),$n=2400959708):(jt=et^Ot^Nt,$n=3395469782);const ar=(ce<<5|ce>>>27)+jt+_r+$n+xe[bt]&4294967295;_r=Nt,Nt=Ot,Ot=4294967295&(et<<30|et>>>2),et=ce,ce=ar}this.chain_[0]=this.chain_[0]+ce&4294967295,this.chain_[1]=this.chain_[1]+et&4294967295,this.chain_[2]=this.chain_[2]+Ot&4294967295,this.chain_[3]=this.chain_[3]+Nt&4294967295,this.chain_[4]=this.chain_[4]+_r&4294967295}update(q,X){if(null==q)return;void 0===X&&(X=q.length);const xe=X-this.blockSize;let ce=0;const et=this.buf_;let Ot=this.inbuf_;for(;ce<X;){if(0===Ot)for(;ce<=xe;)this.compress_(q,ce),ce+=this.blockSize;if("string"==typeof q){for(;ce<X;)if(et[Ot]=q.charCodeAt(ce),++Ot,++ce,Ot===this.blockSize){this.compress_(et),Ot=0;break}}else for(;ce<X;)if(et[Ot]=q[ce],++Ot,++ce,Ot===this.blockSize){this.compress_(et),Ot=0;break}}this.inbuf_=Ot,this.total_+=X}digest(){const q=[];let X=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ce=this.blockSize-1;ce>=56;ce--)this.buf_[ce]=255&X,X/=256;this.compress_(this.buf_);let xe=0;for(let ce=0;ce<5;ce++)for(let et=24;et>=0;et-=8)q[xe]=this.chain_[ce]>>et&255,++xe;return q}}function Gt(W,q){const X=new Jt(W,q);return X.subscribe.bind(X)}class Jt{constructor(q,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{q(this)}).catch(xe=>{this.error(xe)})}next(q){this.forEachObserver(X=>{X.next(q)})}error(q){this.forEachObserver(X=>{X.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,X,xe){let ce;if(void 0===q&&void 0===X&&void 0===xe)throw new Error("Missing Observer.");ce=function on(W,q){if("object"!=typeof W||null===W)return!1;for(const X of q)if(X in W&&"function"==typeof W[X])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:X,complete:xe},void 0===ce.next&&(ce.next=vn),void 0===ce.error&&(ce.error=vn),void 0===ce.complete&&(ce.complete=vn);const et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ce.error(this.finalError):ce.complete()}catch{}}),this.observers.push(ce),et}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,q)}sendOne(q,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{X(this.observers[q])}catch(xe){typeof console<"u"&&console.error&&console.error(xe)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vn(){}const ra=function(W,q,X,xe){let ce;if(xe<q?ce="at least "+q:xe>X&&(ce=0===X?"none":"no more than "+X),ce)throw new Error(W+" failed: Was called with "+xe+(1===xe?" argument.":" arguments.")+" Expects "+ce+".")};function an(W,q){return`${W} failed: ${q} argument `}function zt(W,q,X,xe){if((!xe||X)&&"function"!=typeof X)throw new Error(an(W,q)+"must be a valid function.")}function ds(W,q,X,xe){if((!xe||X)&&("object"!=typeof X||null===X))throw new Error(an(W,q)+"must be a valid context object.")}const ks=function(W){const q=[];let X=0;for(let xe=0;xe<W.length;xe++){let ce=W.charCodeAt(xe);if(ce>=55296&&ce<=56319){const et=ce-55296;xe++,ne(xe<W.length,"Surrogate pair missing trail surrogate."),ce=65536+(et<<10)+(W.charCodeAt(xe)-56320)}ce<128?q[X++]=ce:ce<2048?(q[X++]=ce>>6|192,q[X++]=63&ce|128):ce<65536?(q[X++]=ce>>12|224,q[X++]=ce>>6&63|128,q[X++]=63&ce|128):(q[X++]=ce>>18|240,q[X++]=ce>>12&63|128,q[X++]=ce>>6&63|128,q[X++]=63&ce|128)}return q},eo=function(W){let q=0;for(let X=0;X<W.length;X++){const xe=W.charCodeAt(X);xe<128?q++:xe<2048?q+=2:xe>=55296&&xe<=56319?(q+=4,X++):q+=3}return q},ai=1e3,Yi=2,gr=144e5,mr=.5;function li(W,q=ai,X=Yi){const xe=q*Math.pow(X,W),ce=Math.round(mr*xe*(Math.random()-.5)*2);return Math.min(gr,xe+ce)}function Ni(W){return W&&W._delegate?W._delegate:W}},3566:(Et,Me,F)=>{"use strict";var d=F(5879);let ne=null;function B(){return ne}class ue{}const ve=new d.OlP("DocumentToken");let re=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=d.Yz7({token:t,factory:function(){return(0,d.f3M)(ye)},providedIn:"platform"}),e})();const Be=new d.OlP("Location Initialized");let ye=(()=>{var t;class e extends re{constructor(){super(),this._doc=(0,d.f3M)(ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(r){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,a){this._history.pushState(r,i,a)}replaceState(r,i,a){this._history.replaceState(r,i,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=d.Yz7({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function z(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function K(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function V(t){return t&&"?"!==t[0]?"?"+t:t}let Ge=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=d.Yz7({token:t,factory:function(){return(0,d.f3M)(Xe)},providedIn:"root"}),e})();const Pe=new d.OlP("appBaseHref");let Xe=(()=>{var t;class e extends Ge{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return z(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+V(this._platformLocation.search),a=this._platformLocation.hash;return a&&r?`${i}${a}`:i}pushState(r,i,a,u){const f=this.prepareExternalUrl(a+V(u));this._platformLocation.pushState(r,i,f)}replaceState(r,i,a,u){const f=this.prepareExternalUrl(a+V(u));this._platformLocation.replaceState(r,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(d.LFG(re),d.LFG(Pe,8))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Ue=(()=>{var t;class e extends Ge{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=z(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,a,u){let f=this.prepareExternalUrl(a+V(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(r,i,f)}replaceState(r,i,a,u){let f=this.prepareExternalUrl(a+V(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(d.LFG(re),d.LFG(Pe,8))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),e})(),qe=(()=>{var t;class e{constructor(r){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function le(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(K(Dt(i))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+V(i))}normalize(r){return e.stripTrailingSlash(function Tt(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,Dt(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",a=null){this._locationStrategy.pushState(a,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+V(i)),a)}replaceState(r,i="",a=null){this._locationStrategy.replaceState(a,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+V(i)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(a=>a(r,i))}subscribe(r,i,a){return this._subject.subscribe({next:r,error:i,complete:a})}}return(t=e).normalizeQueryParams=V,t.joinWithSlash=z,t.stripTrailingSlash=K,t.\u0275fac=function(r){return new(r||t)(d.LFG(Ge))},t.\u0275prov=d.Yz7({token:t,factory:function(){return function Ve(){return new qe((0,d.LFG)(Ge))}()},providedIn:"root"}),e})();function Dt(t){return t.replace(/\/index.html$/,"")}const ia=/\s+/,yu=[];let ci=(()=>{var t;class e{constructor(r,i,a,u){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=a,this._renderer=u,this.initialClasses=yu,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(ia):yu}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(ia):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const a=this.stateMap.get(r);void 0!==a?(a.enabled!==i&&(a.changed=!0,a.enabled=i),a.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],a=r[1];a.changed?(this._toggleClass(i,a.enabled),a.changed=!1):a.touched||(a.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),a.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(ia).forEach(a=>{i?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},t.\u0275dir=d.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class to{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Os=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,a){this._viewContainer=r,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((a,u,f)=>{if(null==a.previousIndex)i.createEmbeddedView(this._template,new to(a.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)i.remove(null===u?void 0:u);else if(null!==u){const _=i.get(u);i.move(_,f),vu(_,a)}});for(let a=0,u=i.length;a<u;a++){const _=i.get(a).context;_.index=a,_.count=u,_.ngForOf=this._ngForOf}r.forEachIdentityChange(a=>{vu(i.get(a.currentIndex),a)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},t.\u0275dir=d.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function vu(t,e){t.context.$implicit=e.item}let di=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new Cf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Ud("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Ud("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(d.s_b),d.Y36(d.Rgc))},t.\u0275dir=d.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Cf{constructor(){this.$implicit=null,this.ngIf=null}}function Ud(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}const no=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let So=(()=>{var t;class e{transform(r){if(null==r)return null;if("string"!=typeof r)throw function Ei(t,e){return new d.vHH(2100,!1)}();return r.replace(no,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=d.Yjl({name:"titlecase",type:t,pure:!0,standalone:!0}),e})(),Bn=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})();function fs(t){return"server"===t}let yr=(()=>{var t;class e{}return(t=e).\u0275prov=(0,d.Yz7)({token:t,providedIn:"root",factory:()=>new Us((0,d.LFG)(ve),window)}),e})();class Us{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Vs(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}const Kn=t=>t.src,Bs=new d.OlP("ImageLoader",{providedIn:"root",factory:()=>Kn}),aa=new d.OlP("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set});let Af=(()=>{var t;class e{constructor(){this.preloadedImages=(0,d.f3M)(aa),this.document=(0,d.f3M)(ve)}createPreloadLinkTag(r,i,a,u){if(this.preloadedImages.has(i))return;this.preloadedImages.add(i);const f=r.createElement("link");r.setAttribute(f,"as","image"),r.setAttribute(f,"href",i),r.setAttribute(f,"rel","preload"),r.setAttribute(f,"fetchpriority","high"),u&&r.setAttribute(f,"imageSizes",u),a&&r.setAttribute(f,"imageSrcset",a),r.appendChild(this.document.head,f)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const lo=/^((\s*\d+w\s*(,|$)){1,})$/,Ha=[1,2],uo={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840]},jn=new d.OlP("ImageConfig",{providedIn:"root",factory:()=>uo});let Tc=(()=>{var t;class e{constructor(){this.imageLoader=(0,d.f3M)(Bs),this.config=function Lr(t){let e={};return t.breakpoints&&(e.breakpoints=t.breakpoints.sort((n,r)=>n-r)),Object.assign({},uo,t,e)}((0,d.f3M)(jn)),this.renderer=(0,d.f3M)(d.Qsj),this.imgElement=(0,d.f3M)(d.SBq).nativeElement,this.injector=(0,d.f3M)(d.zs3),this.isServer=fs((0,d.f3M)(d.Lbi)),this.preloadLinkCreator=(0,d.f3M)(Af),this.lcpObserver=null,this._renderedSrc=null,this.priority=!1,this.disableOptimizedSrcset=!1,this.fill=!1}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||(this.sizes="100vw"):(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");const r=this.updateSrcAndSrcset();this.sizes&&this.setHostAttribute("sizes",this.sizes),this.isServer&&this.priority&&this.preloadLinkCreator.createPreloadLinkTag(this.renderer,this.getRewrittenSrc(),r,this.sizes)}ngOnChanges(r){if(r.ngSrc&&!r.ngSrc.isFirstChange()){const i=this._renderedSrc;this.updateSrcAndSrcset(!0);const a=this._renderedSrc;null!==this.lcpObserver&&i&&a&&i!==a&&this.injector.get(d.R0b).runOutsideAngular(()=>{this.lcpObserver?.updateImage(i,a)})}}callImageLoader(r){let i=r;return this.loaderParams&&(i.loaderParams=this.loaderParams),this.imageLoader(i)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const r=lo.test(this.ngSrcset);return this.ngSrcset.split(",").filter(a=>""!==a).map(a=>{a=a.trim();const u=r?parseFloat(a):parseFloat(a)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:u})} ${a}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:r}=this.config;let i=r;return"100vw"===this.sizes?.trim()&&(i=r.filter(u=>u>=640)),i.map(u=>`${this.callImageLoader({src:this.ngSrc,width:u})} ${u}w`).join(", ")}updateSrcAndSrcset(r=!1){r&&(this._renderedSrc=null);const i=this.getRewrittenSrc();let a;return this.setHostAttribute("src",i),this.ngSrcset?a=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(a=this.getAutomaticSrcset()),a&&this.setHostAttribute("srcset",a),a}getFixedSrcset(){return Ha.map(i=>`${this.callImageLoader({src:this.ngSrc,width:this.width*i})} ${i}x`).join(", ")}shouldGenerateAutomaticSrcset(){return!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==Kn&&!(this.width>1920||this.height>1080)}ngOnDestroy(){}setHostAttribute(r,i){this.renderer.setAttribute(this.imgElement,r,i)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=d.lG2({type:t,selectors:[["img","ngSrc",""]],hostVars:8,hostBindings:function(r,i){2&r&&d.Udp("position",i.fill?"absolute":null)("width",i.fill?"100%":null)("height",i.fill?"100%":null)("inset",i.fill?"0px":null)},inputs:{ngSrc:["ngSrc","ngSrc",Wa],ngSrcset:"ngSrcset",sizes:"sizes",width:["width","width",d.Cb_],height:["height","height",d.Cb_],loading:"loading",priority:["priority","priority",d.VuI],loaderParams:"loaderParams",disableOptimizedSrcset:["disableOptimizedSrcset","disableOptimizedSrcset",d.VuI],fill:["fill","fill",d.VuI],src:"src",srcset:"srcset"},standalone:!0,features:[d.Xq5,d.TTD]}),e})();function Wa(t){return"string"==typeof t?t:(0,d.z3N)(t)}class Rc extends ue{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Fl extends Rc{static makeCurrent(){!function oe(t){ne||(ne=t)}(new Fl)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Nc(){return Lo=Lo||document.querySelector("base"),Lo?Lo.getAttribute("href"):null}();return null==n?null:function Wd(t){Oi=Oi||document.createElement("a"),Oi.setAttribute("href",t);const e=Oi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Lo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Qi(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,a]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Oi,Lo=null,rn=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),e})();const js=new d.OlP("EventManagerPlugins");let On=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(a=>{a.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,a){return this._findPluginFor(i).addEventListener(r,i,a)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(u=>u.supports(r)),!i)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(d.LFG(js),d.LFG(d.R0b))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),e})();class ei{constructor(e){this._doc=e}}const Ul="ng-app-id";let kc=(()=>{var t;class e{constructor(r,i,a,u={}){this.doc=r,this.appId=i,this.nonce=a,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fs(u),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(a=>a.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${Ul}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(a=>{null!=a.textContent&&i.set(a.textContent,a)}),i}return null}changeUsageCount(r,i){const a=this.styleRef;if(a.has(r)){const u=a.get(r);return u.usage+=i,u.usage}return a.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const a=this.styleNodesInDOM,u=a?.get(i);if(u?.parentNode===r)return a.delete(i),u.removeAttribute(Ul),u;{const f=this.doc.createElement("style");return this.nonce&&f.setAttribute("nonce",this.nonce),f.textContent=i,this.platformIsServer&&f.setAttribute(Ul,this.appId),f}}addStyleToHost(r,i){const a=this.getStyleElement(r,i);r.appendChild(a);const u=this.styleRef,f=u.get(i)?.elements;f?f.push(a):u.set(i,{elements:[a],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(d.LFG(ve),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),e})();const Li={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yn=/%COMP%/g,T=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function be(t,e){return e.map(n=>n.replace(Yn,t))}let yt=(()=>{var t;class e{constructor(r,i,a,u,f,_,v,S=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=a,this.removeStylesOnCompDestroy=u,this.doc=f,this.platformId=_,this.ngZone=v,this.nonce=S,this.rendererByCompId=new Map,this.platformIsServer=fs(_),this.defaultRenderer=new ln(r,f,v,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===d.ifc.ShadowDom&&(i={...i,encapsulation:d.ifc.Emulated});const a=this.getOrCreateRenderer(r,i);return a instanceof vg?a.applyToHost(r):a instanceof Ru&&a.applyStyles(),a}getOrCreateRenderer(r,i){const a=this.rendererByCompId;let u=a.get(i.id);if(!u){const f=this.doc,_=this.ngZone,v=this.eventManager,S=this.sharedStylesHost,M=this.removeStylesOnCompDestroy,L=this.platformIsServer;switch(i.encapsulation){case d.ifc.Emulated:u=new vg(v,S,i,this.appId,M,f,_,L);break;case d.ifc.ShadowDom:return new Vl(v,S,r,i,f,_,this.nonce,L);default:u=new Ru(v,S,i,M,f,_,L)}a.set(i.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(d.LFG(On),d.LFG(kc),d.LFG(d.AFp),d.LFG(T),d.LFG(ve),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),e})();class ln{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Li[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(fa(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(fa(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new d.vHH(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const a=Li[i];a?e.setAttributeNS(a,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Li[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(n,r,i&d.JOm.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&d.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=B().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function fa(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Vl extends ln{constructor(e,n,r,i,a,u,f,_){super(e,a,u,_),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=be(i.id,i.styles);for(const S of v){const M=document.createElement("style");f&&M.setAttribute("nonce",f),M.textContent=S,this.shadowRoot.appendChild(M)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ru extends ln{constructor(e,n,r,i,a,u,f,_){super(e,a,u,f),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=_?be(_,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class vg extends Ru{constructor(e,n,r,i,a,u,f,_){const v=i+"-"+r.id;super(e,n,r,a,u,f,_,v),this.contentAttr=function k(t){return"_ngcontent-%COMP%".replace(Yn,t)}(v),this.hostAttr=function G(t){return"_nghost-%COMP%".replace(Yn,t)}(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Za=(()=>{var t;class e extends ei{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,a){return r.addEventListener(i,a,!1),()=>this.removeEventListener(r,i,a)}removeEventListener(r,i,a){return r.removeEventListener(i,a)}}return(t=e).\u0275fac=function(r){return new(r||t)(d.LFG(ve))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),e})();const Bl=["alt","control","meta","shift"],Ka={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},N_={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Zd=(()=>{var t;class e extends ei{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,a){const u=e.parseEventName(i),f=e.eventCallback(u.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(r,u.domEventName,f))}static parseEventName(r){const i=r.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const u=e._normalizeKey(i.pop());let f="",_=i.indexOf("code");if(_>-1&&(i.splice(_,1),f="code."),Bl.forEach(S=>{const M=i.indexOf(S);M>-1&&(i.splice(M,1),f+=S+".")}),f+=u,0!=i.length||0===u.length)return null;const v={};return v.domEventName=a,v.fullKey=f,v}static matchEventFullKeyCode(r,i){let a=Ka[r.key]||r.key,u="";return i.indexOf("code.")>-1&&(a=r.code,u="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Bl.forEach(f=>{f!==a&&(0,N_[f])(r)&&(u+=f+".")}),u+=a,u===i)}static eventCallback(r,i,a){return u=>{e.matchEventFullKeyCode(u,r)&&a.runGuarded(()=>i(u))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(d.LFG(ve))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),e})();const rr=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function Oc(){Fl.makeCurrent()},multi:!0},{provide:ve,useFactory:function Sr(){return(0,d.RDi)(document),document},deps:[]}]),Hs=new d.OlP(""),Fr=[{provide:d.rWj,useClass:class Mu{addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new d.vHH(5103,!1);return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let a=i.length,u=!1;const f=function(_){u=u||_,a--,0==a&&r(u)};i.forEach(_=>{_.whenStable(f)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?B().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Ya=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function xf(){return new d.qLn},deps:[]},{provide:js,useClass:Za,multi:!0,deps:[ve,d.R0b,d.Lbi]},{provide:js,useClass:Zd,multi:!0,deps:[ve]},yt,kc,On,{provide:d.FYo,useExisting:yt},{provide:class Qr{},useClass:rn,deps:[]},[]];let Yd=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:d.AFp,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(d.LFG(Hs,12))},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[...Ya,...Fr],imports:[Bn,d.hGG]}),e})(),jl=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(d.LFG(ve))},t.\u0275prov=d.Yz7({token:t,factory:function(r){let i=null;return i=r?new r:function $s(){return new jl((0,d.LFG)(ve))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;var wn=F(2459),ms=F(5592);const{isArray:ga}=Array,{getPrototypeOf:ma,prototype:Pu,keys:$l}=Object;function _a(t){if(1===t.length){const e=t[0];if(ga(e))return{args:e,keys:null};if(function ya(t){return t&&"object"==typeof t&&ma(t)===Pu}(e)){const n=$l(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}var Uo=F(4829),Vo=F(4564),vr=F(8251),kt=F(7398);const{isArray:_s}=Array;function sh(t){return(0,kt.U)(e=>function pi(t,e){return _s(e)?t(...e):t(e)}(t,e))}function Pf(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let Vc=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(d.Qsj),d.Y36(d.SBq))},t.\u0275dir=d.lG2({type:t}),e})(),Bo=(()=>{var t;class e extends Vc{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=d.n5z(t)))(i||t)}}(),t.\u0275dir=d.lG2({type:t,features:[d.qOj]}),e})();const Ar=new d.OlP("NgValueAccessor"),oh={provide:Ar,useExisting:(0,d.Gpc)(()=>po),multi:!0},L_=new d.OlP("CompositionEventMode");let po=(()=>{var t;class e extends Vc{constructor(r,i,a){super(r,i),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ja(){const t=B()?B().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(L_,8))},t.\u0275dir=d.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&d.NdJ("input",function(u){return i._handleInput(u.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(u){return i._compositionEnd(u.target.value)})},features:[d._Bn([oh]),d.qOj]}),e})();function ys(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function Xa(t){return null!=t&&"number"==typeof t.length}const Vr=new d.OlP("NgValidators"),va=new d.OlP("NgAsyncValidators"),Bc=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class jo{static min(e){return function vs(t){return e=>{if(ys(e.value)||ys(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function ah(t){return e=>{if(ys(e.value)||ys(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function jc(t){return ys(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function zl(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function lh(t){return ys(t.value)||Bc.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function el(t){return e=>ys(e.value)||!Xa(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Ou(t){return e=>Xa(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Ff(t){if(!t)return tl;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ys(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Vf(e)}static composeAsync(e){return ql(e)}}function tl(t){return null}function uh(t){return null!=t}function ch(t){return(0,d.QGY)(t)?(0,wn.D)(t):t}function Lu(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Uf(t,e){return e.map(n=>n(t))}function go(t){return t.map(e=>function dh(t){return!t.validate}(e)?e:n=>e.validate(n))}function Vf(t){if(!t)return null;const e=t.filter(uh);return 0==e.length?null:function(n){return Lu(Uf(n,e))}}function nl(t){return null!=t?Vf(go(t)):null}function ql(t){if(!t)return null;const e=t.filter(uh);return 0==e.length?null:function(n){return function Gl(...t){const e=(0,Vo.jO)(t),{args:n,keys:r}=_a(t),i=new ms.y(a=>{const{length:u}=n;if(!u)return void a.complete();const f=new Array(u);let _=u,v=u;for(let S=0;S<u;S++){let M=!1;(0,Uo.Xf)(n[S]).subscribe((0,vr.x)(a,L=>{M||(M=!0,v--),f[S]=L},()=>_--,void 0,()=>{(!_||!M)&&(v||a.next(r?Pf(r,f):f),a.complete())}))}});return e?i.pipe(sh(e)):i}(Uf(n,e).map(ch)).pipe((0,kt.U)(Lu))}}function Ho(t){return null!=t?ql(go(t)):null}function Fu(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function wr(t){return t._rawValidators}function Hc(t){return t._rawAsyncValidators}function rl(t){return t?Array.isArray(t)?t:[t]:[]}function $o(t,e){return Array.isArray(t)?t.includes(e):t===e}function Uu(t,e){const n=rl(e);return rl(t).forEach(i=>{$o(n,i)||n.push(i)}),n}function Vu(t,e){return rl(e).filter(n=>!$o(t,n))}class $c{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nl(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ho(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class cr extends $c{get formDirective(){return null}get path(){return null}}class ws extends $c{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class il{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let wa=(()=>{var t;class e extends il{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(ws,2))},t.\u0275dir=d.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&d.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[d.qOj]}),e})(),Cg=(()=>{var t;class e extends il{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(cr,10))},t.\u0275dir=d.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&d.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[d.qOj]}),e})();const Ke="VALID",Ze="INVALID",mt="PENDING",Ft="DISABLED";function Ht(t){return(zs(t)?t.validators:t)||null}function pn(t,e){return(zs(e)?e.asyncValidators:t)||null}function zs(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function sl(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[n])throw new d.vHH(1001,"")}function es(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new d.vHH(1002,"")})}class bs{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ke}get invalid(){return this.status===Ze}get pending(){return this.status==mt}get disabled(){return this.status===Ft}get enabled(){return this.status!==Ft}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Uu(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Uu(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Vu(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Vu(e,this._rawAsyncValidators))}hasValidator(e){return $o(this._rawValidators,e)}hasAsyncValidator(e){return $o(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=mt,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ft,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ke,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ke||this.status===mt)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ft:Ke}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=mt,this._hasOwnPendingAsyncValidator=!0;const n=ch(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Ft:this.errors?Ze:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mt)?mt:this._anyControlsHaveStatus(Ze)?Ze:Ke}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zs(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Gs(t){return Array.isArray(t)?nl(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Ea(t){return Array.isArray(t)?Ho(t):t||null}(this._rawAsyncValidators)}}class Wl extends bs{constructor(e,n,r){super(Ht(n),pn(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){es(this,0,e),Object.keys(e).forEach(r=>{sl(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,a)=>{r=n(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class n0 extends Wl{}const Ia=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>qo}),qo="always";function ol(t,e,n=qo){jf(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function ph(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&s0(t,e)})}(t,e),function Hu(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function H_(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&s0(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function r0(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Bf(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),zc(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ju(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function jf(t,e){const n=wr(t);null!==e.validator?t.setValidators(Fu(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=Hc(t);null!==e.asyncValidator?t.setAsyncValidators(Fu(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();ju(e._rawValidators,i),ju(e._rawAsyncValidators,i)}function zc(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=wr(t);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.validator);a.length!==i.length&&(n=!0,t.setValidators(a))}}if(null!==e.asyncValidator){const i=Hc(t);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.asyncValidator);a.length!==i.length&&(n=!0,t.setAsyncValidators(a))}}}const r=()=>{};return ju(e._rawValidators,r),ju(e._rawAsyncValidators,r),n}function s0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function W_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Gf(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const _h=class extends bs{constructor(e=null,n,r){super(Ht(n),pn(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zs(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Gf(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){W_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){W_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Gf(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Tg=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=d.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),Sg=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})();const bh=new d.OlP("NgModelWithFormControlWarning"),Mg={provide:cr,useExisting:(0,d.Gpc)(()=>Zc)};let Zc=(()=>{var t;class e extends cr{constructor(r,i,a){super(),this.callSetDisabledState=a,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const i=this.form.get(r.path);return ol(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){Bf(r.control||null,r,!1),function z_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,function G_(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const i=r.control,a=this.form.get(r.path);i!==a&&(Bf(i||null,r),(t=>t instanceof _h)(a)&&(ol(a,r,this.callSetDisabledState),r.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const i=this.form.get(r.path);(function $u(t,e){jf(t,e)})(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const i=this.form.get(r.path);i&&function gh(t,e){return zc(t,e)}(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jf(this.form,this),this._oldForm&&zc(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(Vr,10),d.Y36(va,10),d.Y36(Ia,8))},t.\u0275dir=d.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&d.NdJ("submit",function(u){return i.onSubmit(u)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Mg]),d.qOj,d.TTD]}),e})();const Vi={provide:ws,useExisting:(0,d.Gpc)(()=>zu)};let zu=(()=>{var t;class e extends ws{set isDisabled(r){}constructor(r,i,a,u,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.name=null,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=function Zl(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===po?n=a:function o0(t){return Object.getPrototypeOf(t.constructor)===Bo}(a)?r=a:i=a}),i||r||n||null}(0,u)}ngOnChanges(r){this._added||this._setUpControl(),function mh(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return function fh(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(t=e)._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(d.Y36(cr,13),d.Y36(Vr,10),d.Y36(va,10),d.Y36(Ar,10),d.Y36(bh,8))},t.\u0275dir=d.lG2({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([Vi]),d.qOj,d.TTD]}),e})();const ny={provide:Ar,useExisting:(0,d.Gpc)(()=>ns),multi:!0};function Eh(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ns=(()=>{var t;class e extends Bo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;const a=Eh(this._getOptionId(r),r);this.setProperty("value",a)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){const i=function Bi(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i):r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=d.n5z(t)))(i||t)}}(),t.\u0275dir=d.lG2({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&d.NdJ("change",function(u){return i.onChange(u.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([ny]),d.qOj]}),e})(),Ih=(()=>{var t;class e{constructor(r,i,a){this._element=r,this._renderer=i,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(Eh(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(ns,9))},t.\u0275dir=d.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const ry={provide:Ar,useExisting:(0,d.Gpc)(()=>Ii),multi:!0};function iy(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Ii=(()=>{var t;class e extends Bo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){let i;if(this.value=r,Array.isArray(r)){const a=r.map(u=>this._getOptionId(u));i=(u,f)=>{u._setSelected(a.indexOf(f.toString())>-1)}}else i=(a,u)=>{a._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{const a=[],u=i.selectedOptions;if(void 0!==u){const f=u;for(let _=0;_<f.length;_++){const S=this._getOptionValue(f[_].value);a.push(S)}}else{const f=i.options;for(let _=0;_<f.length;_++){const v=f[_];if(v.selected){const S=this._getOptionValue(v.value);a.push(S)}}}this.value=a,r(a)}}_registerOption(r){const i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){const i=function sy(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=d.n5z(t)))(i||t)}}(),t.\u0275dir=d.lG2({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&d.NdJ("change",function(u){return i.onChange(u.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([ry]),d.qOj]}),e})(),Ch=(()=>{var t;class e{constructor(r,i,a){this._element=r,this._renderer=i,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){null!=this._select&&(this._value=r,this._setElementValue(iy(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(iy(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(Ii,9))},t.\u0275dir=d.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),ht=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[Sg]}),e})();class ft extends bs{constructor(e,n,r){super(Ht(n),pn(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){es(this,0,e),e.forEach((r,i)=>{sl(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Wu(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let uy=(()=>{var t;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const r=new e;return r.useNonNullable=!0,r}group(r,i=null){const a=this._reduceControls(r);let u={};return Wu(i)?u=i:null!==i&&(u.validators=i.validator,u.asyncValidators=i.asyncValidator),new Wl(a,u)}record(r,i=null){const a=this._reduceControls(r);return new n0(a,i)}control(r,i,a){let u={};return this.useNonNullable?(Wu(i)?u=i:(u.validators=i,u.asyncValidators=a),new _h(r,{...u,nonNullable:!0})):new _h(r,i,a)}array(r,i,a){const u=r.map(f=>this._createControl(f));return new ft(u,i,a)}_reduceControls(r){const i={};return Object.keys(r).forEach(a=>{i[a]=this._createControl(r[a])}),i}_createControl(r){return r instanceof _h||r instanceof bs?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),al=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ia,useValue:r.callSetDisabledState??qo}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[ht]}),e})(),Pg=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:bh,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Ia,useValue:r.callSetDisabledState??qo}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[ht]}),e})();var Zu=F(4674),Pt=F(2096),Es=F(5619),Ku=F(2737),hy=F(7103);function fy(...t){const e=(0,Vo.yG)(t),n=(0,Vo.jO)(t),{args:r,keys:i}=_a(t);if(0===r.length)return(0,wn.D)([],e);const a=new ms.y(function gC(t,e,n=Ku.y){return r=>{py(e,()=>{const{length:i}=t,a=new Array(i);let u=i,f=i;for(let _=0;_<i;_++)py(e,()=>{const v=(0,wn.D)(t[_],e);let S=!1;v.subscribe((0,vr.x)(r,M=>{a[_]=M,S||(S=!0,f--),f||r.next(n(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>Pf(i,u):Ku.y));return n?a.pipe(sh(n)):a}function py(t,e,n){t?(0,hy.f)(n,t,e):e()}const Sh=(0,F(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var Yu=F(7537);function Lg(...t){return function _C(){return(0,Yu.J)(1)}()((0,wn.D)(t,(0,Vo.yG)(t)))}function Fg(t){return new ms.y(e=>{(0,Uo.Xf)(t()).subscribe(e)})}var yC=F(8407);function Ah(t,e){const n=(0,Zu.m)(t)?t:()=>t,r=i=>i.error(n());return new ms.y(e?i=>e.schedule(r,0,i):r)}var Ca=F(6232),d0=F(7394),is=F(9360);function h0(){return(0,is.e)((t,e)=>{let n=null;t._refCount++;const r=(0,vr.x)(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,a=n;n=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class vC extends ms.y{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,(0,is.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new d0.w0;const n=this.getSubject();e.add(this.source.subscribe((0,vr.x)(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=d0.w0.EMPTY)}return e}refCount(){return h0()(this)}}var Qu=F(8645),ti=F(4664);function xh(t){return t<=0?()=>Ca.E:(0,is.e)((e,n)=>{let r=0;e.subscribe((0,vr.x)(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Mh(...t){const e=(0,Vo.yG)(t);return(0,is.e)((n,r)=>{(e?Lg(t,n,e):Lg(t,n)).subscribe(r)})}function Wo(t,e){return(0,is.e)((n,r)=>{let i=0;n.subscribe((0,vr.x)(r,a=>t.call(e,a,i++)&&r.next(a)))})}var gi=F(1631);function gy(t){return(0,is.e)((e,n)=>{let r=!1;e.subscribe((0,vr.x)(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function wC(t=gP){return(0,is.e)((e,n)=>{let r=!1;e.subscribe((0,vr.x)(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function gP(){return new Sh}function Qc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Wo((i,a)=>t(i,a,r)):Ku.y,xh(1),n?gy(e):wC(()=>new Sh))}function Rh(t,e){return(0,Zu.m)(e)?(0,gi.z)(t,e,1):(0,gi.z)(t,1)}var Is=F(9397);function Da(t){return(0,is.e)((e,n)=>{let a,r=null,i=!1;r=e.subscribe((0,vr.x)(n,void 0,void 0,u=>{a=(0,Uo.Xf)(t(u,Da(t)(e))),r?(r.unsubscribe(),r=null,a.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(n))})}function Jc(t,e){return(0,is.e)(function my(t,e,n,r,i){return(a,u)=>{let f=n,_=e,v=0;a.subscribe((0,vr.x)(u,S=>{const M=v++;_=f?t(_,S,M):(f=!0,S),r&&u.next(_)},i&&(()=>{f&&u.next(_),u.complete()})))}}(t,e,arguments.length>=2,!0))}function _y(t){return t<=0?()=>Ca.E:(0,is.e)((e,n)=>{let r=[];e.subscribe((0,vr.x)(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function yy(t){return(0,is.e)((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}var IC=F(2420);const tn="primary",Ug=Symbol("RouteTitle");class dx{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function _o(t){return new dx(t)}function Vg(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let a=0;a<r.length;a++){const u=r[a],f=t[a];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ju(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let a=0;a<n.length;a++)if(i=n[a],!fx(t[i],e[i]))return!1;return!0}function fx(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,a)=>r[a]===i)}return t===e}function px(t){return t.length>0?t[t.length-1]:null}function Nh(t){return function Og(t){return!!t&&(t instanceof ms.y||(0,Zu.m)(t.lift)&&(0,Zu.m)(t.subscribe))}(t)?t:(0,d.QGY)(t)?(0,wn.D)(Promise.resolve(t)):(0,Pt.of)(t)}const mP={exact:function DC(t,e,n){if(!Qf(t.segments,e.segments)||!Xc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!DC(t.children[r],e.children[r],n))return!1;return!0},subset:vy},f0={exact:function gx(t,e){return Ju(t,e)},subset:function mx(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fx(t[n],e[n]))},ignored:()=>!0};function CC(t,e,n){return mP[n.paths](t.root,e.root,n.matrixParams)&&f0[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function vy(t,e,n){return Kl(t,e,e.segments,n)}function Kl(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Qf(i,n)||e.hasChildren()||!Xc(i,n,r))}if(t.segments.length===n.length){if(!Qf(t.segments,n)||!Xc(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!vy(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),a=n.slice(t.segments.length);return!!(Qf(t.segments,i)&&Xc(t.segments,i,r)&&t.children[tn])&&Kl(t.children[tn],e,a,r)}}function Xc(t,e,n){return e.every((r,i)=>f0[n](t[i].parameters,r.parameters))}class kh{constructor(e=new Fn([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_o(this.queryParams)),this._queryParamMap}toString(){return vP.serialize(this)}}class Fn{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return p0(this)}}class Yf{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=_o(this.parameters)),this._parameterMap}toString(){return SC(this)}}function Qf(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Ph=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=d.Yz7({token:t,factory:function(){return new Bg},providedIn:"root"}),e})();class Bg{parse(e){const n=new Ix(e);return new kh(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Jf(e.root,!0)}`,r=function yx(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${wy(n)}=${wy(i)}`).join("&"):`${wy(n)}=${wy(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function _x(t){return encodeURI(t)}(e.fragment)}`:""}`}}const vP=new Bg;function p0(t){return t.segments.map(e=>SC(e)).join("/")}function Jf(t,e){if(!t.hasChildren())return p0(t);if(e){const n=t.children[tn]?Jf(t.children[tn],!1):"",r=[];return Object.entries(t.children).forEach(([i,a])=>{i!==tn&&r.push(`${i}:${Jf(a,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function yP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===tn&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==tn&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===tn?[Jf(t.children[tn],!1)]:[`${i}:${Jf(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[tn]?`${p0(t)}/${n[0]}`:`${p0(t)}/(${n.join("//")})`}}function TC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wy(t){return TC(t).replace(/%3B/gi,";")}function g0(t){return TC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jg(t){return decodeURIComponent(t)}function Hg(t){return jg(t.replace(/\+/g,"%20"))}function SC(t){return`${g0(t.path)}${function m0(t){return Object.keys(t).map(e=>`;${g0(e)}=${g0(t[e])}`).join("")}(t.parameters)}`}const Xf=/^[^\/()?;#]+/;function _0(t){const e=t.match(Xf);return e?e[0]:""}const vx=/^[^\/()?;=#]+/,AC=/^[^=?&#]+/,bx=/^[^&#]+/;class Ix{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fn([],{}):new Fn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[tn]=new Fn(e,n)),r}parseSegment(){const e=_0(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new Yf(jg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function y0(t){const e=t.match(vx);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=_0(this.remaining);i&&(r=i,this.capture(r))}e[jg(n)]=jg(r)}parseQueryParam(e){const n=function wx(t){const e=t.match(AC);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const u=function Ex(t){const e=t.match(bx);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=Hg(n),a=Hg(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(a)}else e[i]=a}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=_0(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new d.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=tn);const u=this.parseChildren();n[a]=1===Object.keys(u).length?u[tn]:new Fn([],u),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function v0(t){return t.segments.length>0?new Fn([],{[tn]:t}):t}function Cx(t){const e={};for(const r of Object.keys(t.children)){const a=Cx(t.children[r]);if(r===tn&&0===a.segments.length&&a.hasChildren())for(const[u,f]of Object.entries(a.children))e[u]=f;else(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function wP(t){if(1===t.numberOfChildren&&t.children[tn]){const e=t.children[tn];return new Fn(t.segments.concat(e.segments),e.children)}return t}(new Fn(t.segments,e))}function ll(t){return t instanceof kh}function ep(t){let e;const i=v0(function n(a){const u={};for(const _ of a.children){const v=n(_);u[_.outlet]=v}const f=new Fn(a.url,u);return a===t&&(e=f),f}(t.root));return e??i}function w0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return by(i,i,i,n,r);const a=function MC(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new b0(!0,0,t);let e=0,n=!1;const r=t.reduce((i,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Object.entries(a.outlets).forEach(([_,v])=>{f[_]="string"==typeof v?v.split("/"):v}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?n=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new b0(n,e,r)}(e);if(a.toRoot())return by(i,i,new Fn([],{}),n,r);const u=function bP(t,e,n){if(t.isAbsolute)return new Lh(e,!0,0);if(!n)return new Lh(e,!1,NaN);if(null===n.parent)return new Lh(n,!0,0);const r=$g(t.commands[0])?0:1;return function E0(t,e,n){let r=t,i=e,a=n;for(;a>i;){if(a-=i,r=r.parent,!r)throw new d.vHH(4005,!1);i=r.segments.length}return new Lh(r,!1,i-a)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(a,i,t),f=u.processChildren?tp(u.segmentGroup,u.index,a.commands):Ey(u.segmentGroup,u.index,a.commands);return by(i,u.segmentGroup,f,n,r)}function $g(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Oh(t){return"object"==typeof t&&null!=t&&t.outlets}function by(t,e,n,r,i){let u,a={};r&&Object.entries(r).forEach(([_,v])=>{a[_]=Array.isArray(v)?v.map(S=>`${S}`):`${v}`}),u=t===e?n:xC(t,e,n);const f=v0(Cx(u));return new kh(f,a,i)}function xC(t,e,n){const r={};return Object.entries(t.children).forEach(([i,a])=>{r[i]=a===e?n:xC(a,e,n)}),new Fn(t.segments,r)}class b0{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&$g(r[0]))throw new d.vHH(4003,!1);const i=r.find(Oh);if(i&&i!==px(r))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lh{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Ey(t,e,n){if(t||(t=new Fn([],{})),0===t.segments.length&&t.hasChildren())return tp(t,e,n);const r=function RC(t,e,n){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return a;const u=t.segments[i],f=n[r];if(Oh(f))break;const _=`${f}`,v=r<n.length-1?n[r+1]:null;if(i>0&&void 0===_)break;if(_&&v&&"object"==typeof v&&void 0===v.outlets){if(!Gg(_,v,u))return a;r+=2}else{if(!Gg(_,{},u))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const a=new Fn(t.segments.slice(0,r.pathIndex),{});return a.children[tn]=new Fn(t.segments.slice(r.pathIndex),t.children),tp(a,0,i)}return r.match&&0===i.length?new Fn(t.segments,{}):r.match&&!t.hasChildren()?Xu(t,e,n):r.match?tp(t,0,i):Xu(t,e,n)}function tp(t,e,n){if(0===n.length)return new Fn(t.segments,{});{const r=function Dx(t){return Oh(t[0])?t[0].outlets:{[tn]:t}}(n),i={};if(Object.keys(r).some(a=>a!==tn)&&t.children[tn]&&1===t.numberOfChildren&&0===t.children[tn].segments.length){const a=tp(t.children[tn],e,n);return new Fn(t.segments,a.children)}return Object.entries(r).forEach(([a,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(i[a]=Ey(t.children[a],e,u))}),Object.entries(t.children).forEach(([a,u])=>{void 0===r[a]&&(i[a]=u)}),new Fn(t.segments,i)}}function Xu(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const a=n[i];if(Oh(a)){const _=Tx(a.outlets);return new Fn(r,_)}if(0===i&&$g(n[0])){r.push(new Yf(t.segments[e].path,Iy(n[0]))),i++;continue}const u=Oh(a)?a.outlets[tn]:`${a}`,f=i<n.length-1?n[i+1]:null;u&&f&&$g(f)?(r.push(new Yf(u,Iy(f))),i+=2):(r.push(new Yf(u,{})),i++)}return new Fn(r,{})}function Tx(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Xu(new Fn([],{}),0,r))}),e}function Iy(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Gg(t,e,n){return t==n.path&&Ju(e,n.parameters)}const zg="imperative";class Ta{constructor(e,n){this.id=e,this.url=n}}class Fh extends Ta{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ss extends Ta{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ed extends Ta{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class td extends Ta{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Cy extends Ta{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class NC extends Ta{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kC extends Ta{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class np extends Ta{constructor(e,n,r,i,a){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sx extends Ta{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ax extends Ta{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xx{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class I0{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class PC{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mx{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OC{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class C0{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rx{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class LC{}class D0{constructor(e){this.url=e}}class IP{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Dy,this.attachRef=null}}let Dy=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const a=this.getOrCreateContext(r);a.outlet=i,this.contexts.set(r,a)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new IP,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class qg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=T0(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=T0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Wg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Wg(e,this._root).map(n=>n.value)}}function T0(t,e){if(t===e.value)return e;for(const n of e.children){const r=T0(t,n);if(r)return r}return null}function Wg(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Wg(t,n);if(r.length)return r.unshift(e),r}return[]}class ul{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function cl(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class Ty extends qg{constructor(e,n){super(e),this.snapshot=n,FC(this,e)}toString(){return this.snapshot.toString()}}function Sy(t,e){const n=function Zg(t,e){const u=new rp([],{},{},"",{},tn,e,null,{});return new Kg("",new ul(u,[]))}(0,e),r=new Es.X([new Yf("",{})]),i=new Es.X({}),a=new Es.X({}),u=new Es.X({}),f=new Es.X(""),_=new Yl(r,i,u,f,a,tn,e,n.root);return _.snapshot=n.root,new Ty(new ul(_,[]),n)}class Yl{constructor(e,n,r,i,a,u,f,_){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=a,this.outlet=u,this.component=f,this._futureSnapshot=_,this.title=this.dataSubject?.pipe((0,kt.U)(v=>v[Ug]))??(0,Pt.of)(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,kt.U)(e=>_o(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,kt.U)(e=>_o(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Uh(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],a=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function S0(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class rp{get title(){return this.data?.[Ug]}constructor(e,n,r,i,a,u,f,_,v){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=f,this.routeConfig=_,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_o(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_o(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Kg extends qg{constructor(e,n){super(n),this.url=e,FC(this,n)}toString(){return Ay(this._root)}}function FC(t,e){e.value._routerState=t,e.children.forEach(n=>FC(t,n))}function Ay(t){const e=t.children.length>0?` { ${t.children.map(Ay).join(", ")} } `:"";return`${t.value}${e}`}function Vh(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ju(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ju(e.params,n.params)||t.paramsSubject.next(n.params),function hx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ju(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ju(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function A0(t,e){const n=Ju(t.params,e.params)&&function _P(t,e){return Qf(t,e)&&t.every((n,r)=>Ju(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||A0(t.parent,e.parent))}let xy=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=tn,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Dy),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(My,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:a}=r.name;if(i)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=r;const a=this.location,f=r.snapshot.component,_=this.parentContexts.getOrCreateContext(this.name).children,v=new Nx(r,_,a.injector);this.activated=a.createComponent(f,{index:a.length,injector:v,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=d.lG2({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),e})();class Nx{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Yl?this.route:e===Dy?this.childContexts:this.parent.get(e,n)}}const My=new d.OlP("");let Ry=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,a=fy([i.queryParams,i.params,i.data]).pipe((0,ti.w)(([u,f,_],v)=>(_={...u,...f,..._},0===v?(0,Pt.of)(_):Promise.resolve(_)))).subscribe(u=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const f=(0,d.qFp)(i.component);if(f)for(const{templateName:_}of f.inputs)r.activatedComponentRef.setInput(_,u[_]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,a)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),e})();function Yg(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function kx(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Yg(t,r,i);return Yg(t,r)})}(t,e,n);return new ul(r,i)}{if(t.shouldAttach(e.value)){const a=t.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Yg(t,f)),u}}const r=function CP(t){return new Yl(new Es.X(t.url),new Es.X(t.params),new Es.X(t.queryParams),new Es.X(t.fragment),new Es.X(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(a=>Yg(t,a));return new ul(r,i)}}const x0="ngNavigationCancelingError";function Qg(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ll(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ny(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function Ny(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[x0]=!0,r.cancellationCode=e,n&&(r.url=n),r}function M0(t){return t&&t[x0]}let ky=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(r,i){1&r&&d._UZ(0,"router-outlet")},dependencies:[xy],encapsulation:2}),e})();function nd(t){const e=t.children&&t.children.map(nd),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==tn&&(n.component=ky),n}function qs(t){return t.outlet||tn}function ip(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Bx{constructor(e,n,r,i,a){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=a}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Vh(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=cl(n);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,i[u],r),delete i[u]}),Object.values(i).forEach(a=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,n,r){const i=e.value,a=n?n.value:null;if(i===a)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,n,u.children)}else this.deactivateChildRoutes(e,n,r);else a&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,a=cl(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,a=cl(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=cl(n);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new C0(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Mx(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,a=n?n.value:null;if(Vh(i),i===a)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,u.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),Vh(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=ip(i.snapshot);u.attachRef=null,u.route=i,u.injector=f,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class R0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Jg{constructor(e,n){this.component=e,this.route=n}}function N0(t,e,n){const r=t._root;return sp(r,e?e._root:null,n,[r.value])}function rd(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||(0,d.Z0I)(t)?e.get(t):t:r}function sp(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=cl(e);return t.children.forEach(u=>{(function jx(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=t.value,u=e?e.value:null,f=n?n.getContext(t.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function Hx(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Qf(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Qf(t.url,e.url)||!Ju(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!A0(t,e)||!Ju(t.queryParams,e.queryParams);default:return!A0(t,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new R0(r)):(a.data=u.data,a._resolvedData=u._resolvedData),sp(t,e,a.component?f?f.children:null:n,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Jg(f.outlet.component,u))}else u&&op(e,f,i),i.canActivateChecks.push(new R0(r)),sp(t,null,a.component?f?f.children:null:n,r,i)})(u,a[u.value.outlet],n,r.concat([u.value]),i),delete a[u.value.outlet]}),Object.entries(a).forEach(([u,f])=>op(f,n.getContext(u),i)),i}function op(t,e,n){const r=cl(t),i=t.value;Object.entries(r).forEach(([a,u])=>{op(u,i.component?e?e.children.getContext(a):null:e,n)}),n.canDeactivateChecks.push(new Jg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Xg(t){return"function"==typeof t}function HC(t){return t instanceof Sh||"EmptyError"===t?.name}const P0=Symbol("INITIAL_VALUE");function ap(){return(0,ti.w)(t=>fy(t.map(e=>e.pipe(xh(1),Mh(P0)))).pipe((0,kt.U)(e=>{for(const n of e)if(!0!==n){if(n===P0)return P0;if(!1===n||n instanceof kh)return n}return!0}),Wo(e=>e!==P0),xh(1)))}function GC(t){return(0,yC.z)((0,Is.b)(e=>{if(ll(e))throw Qg(0,e)}),(0,kt.U)(e=>!0===e))}class em{constructor(e){this.segmentGroup=e||null}}class U0{constructor(e){this.urlTree=e}}function lp(t){return Ah(new em(t))}function V0(t){return Ah(new U0(t))}class WC{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new d.vHH(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,Pt.of)(r);if(i.numberOfChildren>1||!i.children[tn])return Ah(new d.vHH(4e3,!1));i=i.children[tn]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const a=this.createSegmentGroup(e,n.root,r,i);return new kh(a,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,a])=>{if("string"==typeof a&&a.startsWith(":")){const f=a.substring(1);r[i]=n[f]}else r[i]=a}),r}createSegmentGroup(e,n,r,i){const a=this.createSegments(e,n.segments,r,i);let u={};return Object.entries(n.children).forEach(([f,_])=>{u[f]=this.createSegmentGroup(e,_,r,i)}),new Fn(a,u)}createSegments(e,n,r,i){return n.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new d.vHH(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Ly={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function up(t,e,n,r,i){const a=dl(t,e,n);return a.matched?(r=function Py(t,e){return t.providers&&!t._injector&&(t._injector=(0,d.MMx)(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function F0(t,e,n,r){const i=e.canMatch;if(!i||0===i.length)return(0,Pt.of)(!0);const a=i.map(u=>{const f=rd(u,t);return Nh(function jC(t){return t&&Xg(t.canMatch)}(f)?f.canMatch(e,n):t.runInContext(()=>f(e,n)))});return(0,Pt.of)(a).pipe(ap(),GC())}(r,e,n).pipe((0,kt.U)(u=>!0===u?a:{...Ly}))):(0,Pt.of)(a)}function dl(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Ly}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Vg)(n,t,e);if(!i)return{...Ly};const a={};Object.entries(i.posParams??{}).forEach(([f,_])=>{a[f]=_.path});const u=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function Bh(t,e,n,r){return n.length>0&&function ZC(t,e,n){return n.some(r=>id(t,e,r)&&qs(r)!==tn)}(t,n,r)?{segmentGroup:new Fn(e,Kx(r,new Fn(n,t.children))),slicedSegments:[]}:0===n.length&&function B0(t,e,n){return n.some(r=>id(t,e,r))}(t,n,r)?{segmentGroup:new Fn(t.segments,Zx(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Fn(t.segments,t.children),slicedSegments:n}}function Zx(t,e,n,r,i){const a={};for(const u of r)if(id(t,n,u)&&!i[qs(u)]){const f=new Fn([],{});a[qs(u)]=f}return{...i,...a}}function Kx(t,e){const n={};n[tn]=e;for(const r of t)if(""===r.path&&qs(r)!==tn){const i=new Fn([],{});n[qs(r)]=i}return n}function id(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class cp{constructor(e,n,r,i,a,u,f){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=a,this.paramsInheritanceStrategy=u,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new WC(this.urlSerializer,this.urlTree)}noMatchError(e){return new d.vHH(4002,!1)}recognize(){const e=Bh(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,tn).pipe(Da(n=>{if(n instanceof U0)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof em?this.noMatchError(n):n}),(0,kt.U)(n=>{const r=new rp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},tn,this.rootComponentType,null,{}),i=new ul(r,n),a=new Kg("",i),u=function Mn(t,e,n=null,r=null){return w0(ep(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(a._root),{state:a,tree:u}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,tn).pipe(Da(r=>{throw r instanceof em?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=Uh(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,wn.D)(i).pipe(Rh(a=>{const u=r.children[a],f=function Ux(t,e){const n=t.filter(r=>qs(r)===e);return n.push(...t.filter(r=>qs(r)!==e)),n}(n,a);return this.processSegmentGroup(e,f,u,a)}),Jc((a,u)=>(a.push(...u),a)),gy(null),function bC(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Wo((i,a)=>t(i,a,r)):Ku.y,_y(1),n?gy(e):wC(()=>new Sh))}(),(0,gi.z)(a=>{if(null===a)return lp(r);const u=H0(a);return function Fy(t){t.sort((e,n)=>e.value.outlet===tn?-1:n.value.outlet===tn?1:e.value.outlet.localeCompare(n.value.outlet))}(u),(0,Pt.of)(u)}))}processSegment(e,n,r,i,a,u){return(0,wn.D)(n).pipe(Rh(f=>this.processSegmentAgainstRoute(f._injector??e,n,f,r,i,a,u).pipe(Da(_=>{if(_ instanceof em)return(0,Pt.of)(null);throw _}))),Qc(f=>!!f),Da(f=>{if(HC(f))return function kP(t,e,n){return 0===e.length&&!t.children[n]}(r,i,a)?(0,Pt.of)([]):lp(r);throw f}))}processSegmentAgainstRoute(e,n,r,i,a,u,f){return function KC(t,e,n,r){return!!(qs(t)===r||r!==tn&&id(e,n,t))&&("**"===t.path||dl(e,t,n).matched)}(r,i,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,a,u,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,a,u):lp(i):lp(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,a,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const a=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?V0(a):this.applyRedirects.lineralizeSegments(r,a).pipe((0,gi.z)(u=>{const f=new Fn(u,{});return this.processSegment(e,n,f,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,a,u){const{matched:f,consumedSegments:_,remainingSegments:v,positionalParamSegments:S}=dl(n,i,a);if(!f)return lp(n);const M=this.applyRedirects.applyRedirectCommands(_,i.redirectTo,S);return i.redirectTo.startsWith("/")?V0(M):this.applyRedirects.lineralizeSegments(i,M).pipe((0,gi.z)(L=>this.processSegment(e,r,n,L.concat(v),u,!1)))}matchSegmentAgainstRoute(e,n,r,i,a,u){let f;if("**"===r.path){const _=i.length>0?px(i).parameters:{},v=new rp(i,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,QC(r),qs(r),r.component??r._loadedComponent??null,r,JC(r));f=(0,Pt.of)({snapshot:v,consumedSegments:[],remainingSegments:[]}),n.children={}}else f=up(n,r,i,e).pipe((0,kt.U)(({matched:_,consumedSegments:v,remainingSegments:S,parameters:M})=>_?{snapshot:new rp(v,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,QC(r),qs(r),r.component??r._loadedComponent??null,r,JC(r)),consumedSegments:v,remainingSegments:S}:null));return f.pipe((0,ti.w)(_=>null===_?lp(n):this.getChildConfig(e=r._injector??e,r,i).pipe((0,ti.w)(({routes:v})=>{const S=r._loadedInjector??e,{snapshot:M,consumedSegments:L,remainingSegments:H}=_,{segmentGroup:Q,slicedSegments:_e}=Bh(n,L,H,v);if(0===_e.length&&Q.hasChildren())return this.processChildren(S,v,Q).pipe((0,kt.U)(nt=>null===nt?null:[new ul(M,nt)]));if(0===v.length&&0===_e.length)return(0,Pt.of)([new ul(M,[])]);const Te=qs(r)===a;return this.processSegment(S,v,Q,_e,Te?tn:a,!0).pipe((0,kt.U)(nt=>[new ul(M,nt)]))}))))}getChildConfig(e,n,r){return n.children?(0,Pt.of)({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?(0,Pt.of)({routes:n._loadedRoutes,injector:n._loadedInjector}):function Wx(t,e,n,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,Pt.of)(!0);const a=i.map(u=>{const f=rd(u,t);return Nh(function $x(t){return t&&Xg(t.canLoad)}(f)?f.canLoad(e,n):t.runInContext(()=>f(e,n)))});return(0,Pt.of)(a).pipe(ap(),GC())}(e,n,r).pipe((0,gi.z)(i=>i?this.configLoader.loadChildren(e,n).pipe((0,Is.b)(a=>{n._loadedRoutes=a.routes,n._loadedInjector=a.injector})):function qC(t){return Ah(Ny(!1,3))}())):(0,Pt.of)({routes:[],injector:e})}}function YC(t){const e=t.value.routeConfig;return e&&""===e.path}function H0(t){const e=[],n=new Set;for(const r of t){if(!YC(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=H0(r.children);e.push(new ul(r.value,i))}return e.filter(r=>!n.has(r))}function QC(t){return t.data||{}}function JC(t){return t.resolve||{}}function $0(t){return"string"==typeof t.title||null===t.title}function Uy(t){return(0,ti.w)(e=>{const n=t(e);return n?(0,wn.D)(n).pipe((0,kt.U)(()=>e)):(0,Pt.of)(e)})}const tm=new d.OlP("ROUTES");let Vy=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return(0,Pt.of)(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Nh(r.loadComponent()).pipe((0,kt.U)(G0),(0,Is.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=u}),yy(()=>{this.componentLoaders.delete(r)})),a=new vC(i,()=>new Qu.x).pipe(h0());return this.componentLoaders.set(r,a),a}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,Pt.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const u=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,kt.U)(_=>{this.onLoadEndListener&&this.onLoadEndListener(i);let v,S;return Array.isArray(_)?S=_:(v=_.create(r).injector,S=v.get(tm,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:S.map(nd),injector:v}}),yy(()=>{this.childrenLoaders.delete(i)})),f=new vC(u,()=>new Qu.x).pipe(h0());return this.childrenLoaders.set(i,f),f}loadModuleFactoryOrRoutes(r){return Nh(r()).pipe((0,kt.U)(G0),(0,gi.z)(i=>i instanceof d.YKP||Array.isArray(i)?(0,Pt.of)(i):(0,wn.D)(this.compiler.compileModuleAsync(i))))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function G0(t){return function By(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let nm=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Qu.x,this.transitionAbortSubject=new Qu.x,this.configLoader=(0,d.f3M)(Vy),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Ph),this.rootContexts=(0,d.f3M)(Dy),this.inputBindingEnabled=null!==(0,d.f3M)(My,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Pt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new I0(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new xx(a))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,a){return this.transitions=new Es.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zg,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wo(u=>0!==u.id),(0,kt.U)(u=>({...u,extractedUrl:r.urlHandlingStrategy.extract(u.rawUrl)})),(0,ti.w)(u=>{this.currentTransition=u;let f=!1,_=!1;return(0,Pt.of)(u).pipe((0,Is.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ti.w)(v=>{const S=v.currentBrowserUrl.toString(),M=!r.navigated||v.extractedUrl.toString()!==S||S!==v.currentUrlTree.toString();if(!M&&"reload"!==(v.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const H="";return this.events.next(new td(v.id,this.urlSerializer.serialize(v.rawUrl),H,0)),v.resolve(null),Ca.E}if(r.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return(0,Pt.of)(v).pipe((0,ti.w)(H=>{const Q=this.transitions?.getValue();return this.events.next(new Fh(H.id,this.urlSerializer.serialize(H.extractedUrl),H.source,H.restoredState)),Q!==this.transitions?.getValue()?Ca.E:Promise.resolve(H)}),function Yx(t,e,n,r,i,a){return(0,gi.z)(u=>function j0(t,e,n,r,i,a,u="emptyOnly"){return new cp(t,e,n,r,i,u,a).recognize()}(t,e,n,r,u.extractedUrl,i,a).pipe((0,kt.U)(({state:f,tree:_})=>({...u,targetSnapshot:f,urlAfterRedirects:_}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),(0,Is.b)(H=>{u.targetSnapshot=H.targetSnapshot,u.urlAfterRedirects=H.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:H.urlAfterRedirects};const Q=new NC(H.id,this.urlSerializer.serialize(H.extractedUrl),this.urlSerializer.serialize(H.urlAfterRedirects),H.targetSnapshot);this.events.next(Q)}));if(M&&r.urlHandlingStrategy.shouldProcessUrl(v.currentRawUrl)){const{id:H,extractedUrl:Q,source:_e,restoredState:Te,extras:nt}=v,_t=new Fh(H,this.urlSerializer.serialize(Q),_e,Te);this.events.next(_t);const ot=Sy(0,this.rootComponentType).snapshot;return this.currentTransition=u={...v,targetSnapshot:ot,urlAfterRedirects:Q,extras:{...nt,skipLocationChange:!1,replaceUrl:!1}},(0,Pt.of)(u)}{const H="";return this.events.next(new td(v.id,this.urlSerializer.serialize(v.extractedUrl),H,1)),v.resolve(null),Ca.E}}),(0,Is.b)(v=>{const S=new kC(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(S)}),(0,kt.U)(v=>(this.currentTransition=u={...v,guards:N0(v.targetSnapshot,v.currentSnapshot,this.rootContexts)},u)),function O0(t,e){return(0,gi.z)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=n;return 0===u.length&&0===a.length?(0,Pt.of)({...n,guardsResult:!0}):function Jl(t,e,n,r){return(0,wn.D)(t).pipe((0,gi.z)(i=>function L0(t,e,n,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,Pt.of)(!0);const u=a.map(f=>{const _=ip(e)??i,v=rd(f,_);return Nh(function BC(t){return t&&Xg(t.canDeactivate)}(v)?v.canDeactivate(t,e,n,r):_.runInContext(()=>v(t,e,n,r))).pipe(Qc())});return(0,Pt.of)(u).pipe(ap())}(i.component,i.route,n,e,r)),Qc(i=>!0!==i,!0))}(u,r,i,t).pipe((0,gi.z)(f=>f&&function VC(t){return"boolean"==typeof t}(f)?function $C(t,e,n,r){return(0,wn.D)(e).pipe(Rh(i=>Lg(function NP(t,e){return null!==t&&e&&e(new PC(t)),(0,Pt.of)(!0)}(i.route.parent,r),function zx(t,e){return null!==t&&e&&e(new OC(t)),(0,Pt.of)(!0)}(i.route,r),function qx(t,e,n){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function MP(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Fg(()=>{const f=u.guards.map(_=>{const v=ip(u.node)??n,S=rd(_,v);return Nh(function RP(t){return t&&Xg(t.canActivateChild)}(S)?S.canActivateChild(r,t):v.runInContext(()=>S(r,t))).pipe(Qc())});return(0,Pt.of)(f).pipe(ap())}));return(0,Pt.of)(a).pipe(ap())}(t,i.path,n),function ji(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Pt.of)(!0);const i=r.map(a=>Fg(()=>{const u=ip(e)??n,f=rd(a,u);return Nh(function Gx(t){return t&&Xg(t.canActivate)}(f)?f.canActivate(e,t):u.runInContext(()=>f(e,t))).pipe(Qc())}));return(0,Pt.of)(i).pipe(ap())}(t,i.route,n))),Qc(i=>!0!==i,!0))}(r,a,t,e):(0,Pt.of)(f)),(0,kt.U)(f=>({...n,guardsResult:f})))})}(this.environmentInjector,v=>this.events.next(v)),(0,Is.b)(v=>{if(u.guardsResult=v.guardsResult,ll(v.guardsResult))throw Qg(0,v.guardsResult);const S=new np(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.events.next(S)}),Wo(v=>!!v.guardsResult||(this.cancelNavigationTransition(v,"",3),!1)),Uy(v=>{if(v.guards.canActivateChecks.length)return(0,Pt.of)(v).pipe((0,Is.b)(S=>{const M=new Sx(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(M)}),(0,ti.w)(S=>{let M=!1;return(0,Pt.of)(S).pipe(function XC(t,e){return(0,gi.z)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return(0,Pt.of)(n);let a=0;return(0,wn.D)(i).pipe(Rh(u=>function OP(t,e,n,r){const i=t.routeConfig,a=t._resolve;return void 0!==i?.title&&!$0(i)&&(a[Ug]=i.title),function Qx(t,e,n,r){const i=function LP(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return(0,Pt.of)({});const a={};return(0,wn.D)(i).pipe((0,gi.z)(u=>function FP(t,e,n,r){const i=ip(e)??r,a=rd(t,i);return Nh(a.resolve?a.resolve(e,n):i.runInContext(()=>a(e,n)))}(t[u],e,n,r).pipe(Qc(),(0,Is.b)(f=>{a[u]=f}))),_y(1),function EC(t){return(0,kt.U)(()=>t)}(a),Da(u=>HC(u)?Ca.E:Ah(u)))}(a,t,e,r).pipe((0,kt.U)(u=>(t._resolvedData=u,t.data=Uh(t,n).resolve,i&&$0(i)&&(t.data[Ug]=i.title),null)))}(u.route,r,t,e)),(0,Is.b)(()=>a++),_y(1),(0,gi.z)(u=>a===i.length?(0,Pt.of)(n):Ca.E))})}(r.paramsInheritanceStrategy,this.environmentInjector),(0,Is.b)({next:()=>M=!0,complete:()=>{M||this.cancelNavigationTransition(S,"",2)}}))}),(0,Is.b)(S=>{const M=new Ax(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(M)}))}),Uy(v=>{const S=M=>{const L=[];M.routeConfig?.loadComponent&&!M.routeConfig._loadedComponent&&L.push(this.configLoader.loadComponent(M.routeConfig).pipe((0,Is.b)(H=>{M.component=H}),(0,kt.U)(()=>{})));for(const H of M.children)L.push(...S(H));return L};return fy(S(v.targetSnapshot.root)).pipe(gy(),xh(1))}),Uy(()=>this.afterPreactivation()),(0,kt.U)(v=>{const S=function UC(t,e,n){const r=Yg(t,e._root,n?n._root:void 0);return new Ty(r,e)}(r.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return this.currentTransition=u={...v,targetRouterState:S},u}),(0,Is.b)(()=>{this.events.next(new LC)}),((t,e,n,r)=>(0,kt.U)(i=>(new Bx(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,v=>this.events.next(v),this.inputBindingEnabled),xh(1),(0,Is.b)({next:v=>{f=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ss(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects))),r.titleStrategy?.updateTitle(v.targetRouterState.snapshot),v.resolve(!0)},complete:()=>{f=!0}}),function cx(t){return(0,is.e)((e,n)=>{(0,Uo.Xf)(t).subscribe((0,vr.x)(n,()=>n.complete(),IC.Z)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe((0,Is.b)(v=>{throw v}))),yy(()=>{f||_||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),Da(v=>{if(_=!0,M0(v))this.events.next(new ed(u.id,this.urlSerializer.serialize(u.extractedUrl),v.message,v.cancellationCode)),function Px(t){return M0(t)&&ll(t.url)}(v)?this.events.next(new D0(v.url)):u.resolve(!1);else{this.events.next(new Cy(u.id,this.urlSerializer.serialize(u.extractedUrl),v,u.targetSnapshot??void 0));try{u.resolve(r.errorHandler(v))}catch(S){u.reject(S)}}return Ca.E}))}))}cancelNavigationTransition(r,i,a){const u=new ed(r.id,this.urlSerializer.serialize(r.extractedUrl),i,a);this.events.next(u),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function z0(t){return t!==zg}let Yt=(()=>{var t;class e{buildTitle(r){let i,a=r.root;for(;void 0!==a;)i=this.getResolvedTitleForRoute(a)??i,a=a.children.find(u=>u.outlet===tn);return i}getResolvedTitleForRoute(r){return r.data[Ug]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=d.Yz7({token:t,factory:function(){return(0,d.f3M)(eD)},providedIn:"root"}),e})(),eD=(()=>{var t;class e extends Yt{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(d.LFG(jl))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),tD=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=d.Yz7({token:t,factory:function(){return(0,d.f3M)(nD)},providedIn:"root"}),e})();class dp{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let nD=(()=>{var t;class e extends dp{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=d.n5z(t)))(i||t)}}(),t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const jy=new d.OlP("",{providedIn:"root",factory:()=>({})});let Hy=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=d.Yz7({token:t,factory:function(){return(0,d.f3M)(hp)},providedIn:"root"}),e})(),hp=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var jh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(jh||{});function fp(t,e){t.events.pipe(Wo(n=>n instanceof ss||n instanceof ed||n instanceof Cy||n instanceof td),(0,kt.U)(n=>n instanceof ss||n instanceof td?jh.COMPLETE:n instanceof ed&&(0===n.code||1===n.code)?jh.REDIRECTING:jh.FAILED),Wo(n=>n!==jh.REDIRECTING),xh(1)).subscribe(()=>{e()})}function rD(t){throw t}function q0(t,e,n){return e.parse("/")}const W0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Z0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cs=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this._events=new Qu.x,this.options=(0,d.f3M)(jy,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||rD,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||q0,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(Hy),this.routeReuseStrategy=(0,d.f3M)(tD),this.titleStrategy=(0,d.f3M)(Yt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(tm,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(nm),this.urlSerializer=(0,d.f3M)(Ph),this.location=(0,d.f3M)(qe),this.componentInputBindingEnabled=!!(0,d.f3M)(My,{optional:!0}),this.eventsSubscription=new d0.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new kh,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Sy(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:a}=this.navigationTransitions;if(null===a)return void(iD(i)&&this._events.next(i));if(i instanceof Fh)z0(a.source)&&(this.browserUrlTree=a.extractedUrl);else if(i instanceof td)this.rawUrlTree=a.rawUrl;else if(i instanceof NC){if("eager"===this.urlUpdateStrategy){if(!a.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl);this.setBrowserUrl(u,a)}this.browserUrlTree=a.urlAfterRedirects}}else if(i instanceof LC)this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects);else if(i instanceof ed)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(a);else if(i instanceof D0){const u=this.urlHandlingStrategy.merge(i.url,a.currentRawUrl),f={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||z0(a.source)};this.scheduleNavigation(u,zg,null,f,{resolve:a.resolve,reject:a.reject,promise:a.promise})}i instanceof Cy&&this.restoreHistory(a,!0),i instanceof ss&&(this.navigated=!0),iD(i)&&this._events.next(i)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),zg,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,a){const u={replaceUrl:!0},f=a?.navigationId?a:null;if(a){const v={...a};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(u.state=v)}const _=this.parseUrl(r);this.scheduleNavigation(_,i,f,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(nd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:a,queryParams:u,fragment:f,queryParamsHandling:_,preserveFragment:v}=i,S=v?this.currentUrlTree.fragment:f;let L,M=null;switch(_){case"merge":M={...this.currentUrlTree.queryParams,...u};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}null!==M&&(M=this.removeEmptyProps(M));try{L=ep(a?a.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),L=this.currentUrlTree.root}return w0(L,r,M,S??null)}navigateByUrl(r,i={skipLocationChange:!1}){const a=ll(r)?r:this.parseUrl(r),u=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(u,zg,null,i)}navigate(r,i={skipLocationChange:!1}){return function K0(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new d.vHH(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,r)}return i}isActive(r,i){let a;if(a=!0===i?{...W0}:!1===i?{...Z0}:i,ll(r))return CC(this.currentUrlTree,r,a);const u=this.parseUrl(r);return CC(this.currentUrlTree,u,a)}removeEmptyProps(r){return Object.keys(r).reduce((i,a)=>{const u=r[a];return null!=u&&(i[a]=u),i},{})}scheduleNavigation(r,i,a,u,f){if(this.disposed)return Promise.resolve(!1);let _,v,S;f?(_=f.resolve,v=f.reject,S=f.promise):S=new Promise((L,H)=>{_=L,v=H});const M=this.pendingTasks.add();return fp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(M))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:u,resolve:_,reject:v,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(L=>Promise.reject(L))}setBrowserUrl(r,i){const a=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl){const f={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(a,"",f)}else{const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(a,"",u)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function iD(t){return!(t instanceof LC||t instanceof D0)}let ec=(()=>{var t;class e{constructor(r,i,a,u,f,_){this.router=r,this.route=i,this.tabIndexAttribute=a,this.renderer=u,this.el=f,this.locationStrategy=_,this.href=null,this.commands=null,this.onChanges=new Qu.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const v=f.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===v||"area"===v,this.isAnchorElement?this.subscription=r.events.subscribe(S=>{S instanceof ss&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,a,u,f){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||i||a||u||f||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){const a=this.renderer,u=this.el.nativeElement;null!==i?a.setAttribute(u,r,i):a.removeAttribute(u,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(Cs),d.Y36(Yl),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Ge))},t.\u0275dir=d.lG2({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&d.NdJ("click",function(u){return i.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&r&&d.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]}),e})();class oD{}let Xx=(()=>{var t;class e{constructor(r,i,a,u,f){this.router=r,this.injector=a,this.preloadingStrategy=u,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(Wo(r=>r instanceof ss),Rh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const a=[];for(const u of i){u.providers&&!u._injector&&(u._injector=(0,d.MMx)(u.providers,r,`Route: ${u.path}`));const f=u._injector??r,_=u._loadedInjector??f;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&a.push(this.preloadConfig(f,u)),(u.children||u._loadedRoutes)&&a.push(this.processRoutes(_,u.children??u._loadedRoutes))}return(0,wn.D)(a).pipe((0,Yu.J)())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let a;a=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):(0,Pt.of)(null);const u=a.pipe((0,gi.z)(f=>null===f?(0,Pt.of)(void 0):(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,this.processRoutes(f.injector??r,f.routes))));if(i.loadComponent&&!i._loadedComponent){const f=this.loader.loadComponent(i);return(0,wn.D)([u,f]).pipe((0,Yu.J)())}return u})}}return(t=e).\u0275fac=function(r){return new(r||t)(d.LFG(Cs),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(oD),d.LFG(Vy))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const $y=new d.OlP("");let Y0=(()=>{var t;class e{constructor(r,i,a,u,f={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=a,this.zone=u,this.options=f,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},f.scrollPositionRestoration=f.scrollPositionRestoration||"disabled",f.anchorScrolling=f.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Fh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof ss?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof td&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Rx&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Rx(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){d.$Z()},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),e})();function ni(t,e){return{\u0275kind:t,\u0275providers:e}}function Q0(){const t=(0,d.f3M)(d.zs3);return e=>{const n=t.get(d.z2F);if(e!==n.components[0])return;const r=t.get(Cs),i=t.get(uD);1===t.get(J0)&&r.initialNavigation(),t.get(dD,null,d.XFs.Optional)?.setUpPreloading(),t.get($y,null,d.XFs.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const uD=new d.OlP("",{factory:()=>new Qu.x}),J0=new d.OlP("",{providedIn:"root",factory:()=>1}),dD=new d.OlP("");function X0(t){return ni(0,[{provide:dD,useExisting:Xx},{provide:oD,useExisting:t}])}const hl=new d.OlP("ROUTER_FORROOT_GUARD"),eb=[qe,{provide:Ph,useClass:Bg},Cs,Dy,{provide:Yl,useFactory:function aD(t){return t.routerState.root},deps:[Cs]},Vy,[]];function r1(){return new d.PXZ("Router",Cs)}let tb=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[eb,[],{provide:tm,multi:!0,useValue:r},{provide:hl,useFactory:Gy,deps:[[Cs,new d.FiY,new d.tp0]]},{provide:jy,useValue:i||{}},i?.useHash?{provide:Ge,useClass:Ue}:{provide:Ge,useClass:Xe},{provide:$y,useFactory:()=>{const t=(0,d.f3M)(yr),e=(0,d.f3M)(d.R0b),n=(0,d.f3M)(jy),r=(0,d.f3M)(nm),i=(0,d.f3M)(Ph);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Y0(i,r,t,e,n)}},i?.preloadingStrategy?X0(i.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:r1},i?.initialNavigation?nb(i):[],i?.bindToComponentInputs?ni(8,[Ry,{provide:My,useExisting:Ry}]).\u0275providers:[],[{provide:s1,useFactory:Q0},{provide:d.tb,multi:!0,useExisting:s1}]]}}static forChild(r){return{ngModule:e,providers:[{provide:tm,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(d.LFG(hl,8))},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})();function Gy(t){return"guarded"}function nb(t){return["disabled"===t.initialNavigation?ni(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Cs);return()=>{e.setUpLocationChangeListener()}}},{provide:J0,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?ni(2,[{provide:J0,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const n=e.get(Be,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Cs),a=e.get(uD);fp(i,()=>{r(!0)}),e.get(nm).afterPreactivation=()=>(r(!0),a.closed?(0,Pt.of)(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const s1=new d.OlP("");let Xl=(()=>{var t;class e{constructor(){this.isLoading=!0}showLoader(){setTimeout(()=>{this.isLoading=!0},0)}hideLoader(){setTimeout(()=>{this.isLoading=!1},0)}runLoader(r,i){this.showLoader(),setTimeout(()=>{this.hideLoader(),i&&i()},r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const rb=["aboutContainer"],u1=function(t,e){return{animate__animated:t,animate__fadeIn:e}};function mD(t,e){if(1&t&&(d.TgZ(0,"div",1,2)(2,"div",3)(3,"div",4)(4,"h2",5),d._uU(5,"About us"),d.qZA()(),d.TgZ(6,"div",6)(7,"div",7),d._UZ(8,"img",8),d.TgZ(9,"div",9)(10,"p",10),d._uU(11," At BlueCode Tech, we lead technological innovation. We are passionate about adaptive software development, creating solutions that evolve with every need. We collaborate with our clients as a team to design customized modules that align with their changing goals. "),d.qZA(),d.TgZ(12,"p",11)(13,"a",12),d._uU(14,"People illustrations by Storyset"),d.qZA()()()(),d.TgZ(15,"div",13),d._UZ(16,"img",14),d.TgZ(17,"div",9)(18,"p",10),d._uU(19," Guided by a team of experts, we explore new technologies to stay at the forefront. At BlueCode Tech, we are shaping a tomorrow where technology adapts and inspires. Join us on this journey towards a future where software drives innovation in an ever-evolving world. "),d.qZA(),d.TgZ(20,"p",11)(21,"a",12),d._uU(22,"People illustrations by Storyset"),d.qZA()()()()()(),d.TgZ(23,"div",15)(24,"div",16)(25,"div",17)(26,"h2",18),d._uU(27," Mission "),d.qZA()(),d._UZ(28,"img",19),d.TgZ(29,"div",20)(30,"p",21),d._uU(31," At BlueCode Tech, our mission is to revolutionize the digital world through the development of adaptive software. By creating custom modules managed by an expert team, we empower companies to embrace the ever-evolving technological potential. "),d.qZA(),d.TgZ(32,"p",22)(33,"a",12),d._uU(34,"People illustrations by Storyset"),d.qZA()()()()(),d.TgZ(35,"div",23)(36,"div",16)(37,"div",17)(38,"h2",18),d._uU(39," Vision "),d.qZA()(),d._UZ(40,"img",24),d.TgZ(41,"div",20)(42,"p",21),d._uU(43," Being leaders in adaptive software, we shape a technological future where agility breeds success. We craft customized solutions that evolve alongside change, empowering businesses to thrive in an ever-transforming world. "),d.qZA(),d.TgZ(44,"p",22)(45,"a",12),d._uU(46,"People illustrations by Storyset"),d.qZA()()()()()()),2&t){const n=d.oxw();d.Q6J("ngClass",d.WLB(1,u1,!n.loaderService.isLoading,!n.loaderService.isLoading))}}let c1=(()=>{var t;class e{constructor(r,i){this.route=r,this.loaderService=i}ngOnInit(){this.loaderService.runLoader(2e3,()=>{this.route.fragment.subscribe(r=>{r&&setTimeout(()=>this.scrollToFragment(r),350)})})}scrollToFragment(r){const i=document.getElementById(r);if(i){const a=this.aboutContainer.nativeElement;a.scrollTo({top:i.offsetTop-a.offsetTop,behavior:"smooth"})}}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(Yl),d.Y36(Xl))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-about"]],viewQuery:function(r,i){if(1&r&&d.Gf(rb,5),2&r){let a;d.iGM(a=d.CRH())&&(i.aboutContainer=a.first)}},decls:1,vars:1,consts:[["id","about-content","class","h-full w-full flex-1 overflow-y-scroll",3,"ngClass",4,"ngIf"],["id","about-content",1,"h-full","w-full","flex-1","overflow-y-scroll",3,"ngClass"],["aboutContainer",""],["id","about-us",1,"h-auto","w-full","px-5","text-center","md:h-full"],[1,"flex","h-[10%]","items-center","justify-center","py-8"],[1,"text-2xl","font-semibold"],[1,"flex","h-auto","flex-col","items-center","gap-5","pb-10","text-left","md:h-[90%]","md:flex-row","md:justify-between"],[1,"mb-10","block","h-full","overflow-auto","rounded-lg","bg-slate-700","shadow-md","md:mb-0","md:w-1/2"],["src","assets/images/vectors/coding.svg","alt","img-coding",1,"mx-auto","h-[50%]","md:w-auto"],[1,"h-[50%]"],[1,"w-auto","px-10","text-base","lg:text-sm","md:text-sm"],[1,"opacity-55","px-10","py-10","pb-5","text-right","text-sm","italic"],["href","https://storyset.com/people"],[1,"h-full","overflow-auto","rounded-lg","bg-slate-700","shadow-md","md:w-1/2"],["src","assets/images/vectors/idea.svg","alt","img-idea",1,"mx-auto","h-[50%]","md:w-auto"],["id","mission",1,"h-auto","w-full","px-5","py-5","text-center","sm:h-full"],[1,"h-full","w-full","overflow-auto","rounded-lg","bg-slate-700","pb-10","shadow-md"],[1,"flex","h-[10%]","w-full","flex-1","items-center","justify-center","rounded-t-sm","bg-slate-800","opacity-80","shadow-md"],[1,"flex","h-full","items-center","justify-center","py-10","text-2xl","font-semibold"],["src","assets/images/vectors/computer.svg","alt","img-coding",1,"mx-auto","h-[60%]","w-auto","lg:h-[70%]"],[1,"h-[20%]","text-base","md:text-sm"],[1,"px-5","pb-2","text-left"],[1,"opacity-55","mt-4","px-5","pb-8","text-right","text-sm","italic"],["id","vision",1,"h-auto","w-full","px-5","py-5","text-center","md:h-full"],["src","assets/images/vectors/talking.svg","alt","img-talking",1,"mx-auto","h-[60%]","w-auto","lg:h-[70%]"]],template:function(r,i){1&r&&d.YNc(0,mD,47,4,"div",0),2&r&&d.Q6J("ngIf",!i.loaderService.isLoading)},dependencies:[ci,di]}),e})();function zy(t,e){if(1&t&&(d.TgZ(0,"div",39),d._uU(1),d.ALo(2,"titlecase"),d.qZA()),2&t){const n=d.oxw().$implicit;d.xp6(1),d.hij(" * ",d.lcZ(2,1,n.id)," must have a value ")}}function rm(t,e){if(1&t&&(d.TgZ(0,"div",35),d._UZ(1,"input",36),d.TgZ(2,"label",37),d._uU(3),d.qZA(),d.YNc(4,zy,3,3,"div",38),d.qZA()),2&t){const n=e.$implicit,r=d.oxw(2);let i;d.xp6(1),d.Q6J("type",n.type)("name",n.name)("placeholder",n.placeholder)("id",n.id)("formControlName",n.formControl),d.xp6(1),d.Q6J("htmlFor",n.name),d.xp6(1),d.Oqu(n.label),d.xp6(1),d.Q6J("ngIf",(null==(i=r.contactForm.get(n.formControl))?null:i.invalid)&&((null==(i=r.contactForm.get(n.formControl))?null:i.dirty)||(null==(i=r.contactForm.get(n.formControl))?null:i.touched)))}}const _D=function(t,e){return{animate__animated:t,animate__fadeIn:e}};function qy(t,e){if(1&t){const n=d.EpF();d.TgZ(0,"div",1)(1,"h2",2),d._uU(2,"Contact us"),d.qZA(),d.TgZ(3,"div",3),d._UZ(4,"img",4),d.TgZ(5,"div",5)(6,"span",6),d._uU(7,"By "),d.TgZ(8,"a",7),d._uU(9,"Freepik"),d.qZA()()()(),d.TgZ(10,"div",8)(11,"form",9),d.NdJ("ngSubmit",function(){d.CHM(n);const i=d.oxw();return d.KtG(i.onSubmit())}),d.TgZ(12,"div",10),d.YNc(13,rm,5,8,"div",11),d.TgZ(14,"div",12)(15,"label",13),d._uU(16,"Select an option"),d.qZA(),d.TgZ(17,"select",14)(18,"option",15),d._uU(19," General Inquiry "),d.qZA(),d.TgZ(20,"option",16),d._uU(21," Technical Support "),d.qZA(),d.TgZ(22,"option",17),d._uU(23," Comments and Suggestions "),d.qZA(),d.TgZ(24,"option",18),d._uU(25," Quotation Request "),d.qZA(),d.TgZ(26,"option",19),d._uU(27," Job Application "),d.qZA(),d.TgZ(28,"option",20),d._uU(29,"Other"),d.qZA()()(),d.TgZ(30,"div",12)(31,"label",21),d._uU(32,"Select availability"),d.qZA(),d.TgZ(33,"select",22)(34,"option",23),d._uU(35," Monday to Friday "),d.qZA(),d.TgZ(36,"option",24),d._uU(37,"Weekends"),d.qZA(),d.TgZ(38,"option",25),d._uU(39,"Anytime"),d.qZA()()(),d.TgZ(40,"div",12)(41,"label",21),d._uU(42,"Select a priority"),d.qZA(),d.TgZ(43,"select",26)(44,"option",27),d._uU(45,"High"),d.qZA(),d.TgZ(46,"option",28),d._uU(47,"Medium"),d.qZA(),d.TgZ(48,"option",29),d._uU(49,"Low"),d.qZA()()()(),d.TgZ(50,"div",30)(51,"button",31),d.NdJ("mouseenter",function(){d.CHM(n);const i=d.oxw();return d.KtG(i.onTest())}),d._uU(52," Send "),d.qZA()()()(),d.TgZ(53,"div",32),d._UZ(54,"img",4),d.TgZ(55,"div",33)(56,"h3",34),d._uU(57," Contact us through alternative channels "),d.qZA(),d.TgZ(58,"span",6)(59,"p"),d._uU(60,"Email: info.code@bluecode.com"),d.qZA(),d.TgZ(61,"p"),d._uU(62,"Website: www.bluecodetech.com"),d.qZA()()()(),d._UZ(63,"br"),d.qZA()}if(2&t){const n=d.oxw();d.Q6J("ngClass",d.WLB(4,_D,!n.loaderService.isLoading,!n.loaderService.isLoading)),d.xp6(11),d.Q6J("formGroup",n.contactForm),d.xp6(2),d.Q6J("ngForOf",n.contactInputs),d.xp6(38),d.Q6J("disabled",!n.contactForm.valid)}}let ZP=(()=>{var t;class e{constructor(r,i){this.formBuilder=r,this.loaderService=i,this.contactInputs=[{type:"text",name:"floating_name",placeholder:" ",id:"name",formControl:"name",label:"Name"},{type:"text",name:"floating_surname",placeholder:" ",id:"surname",formControl:"surname",label:"Surname"},{type:"email",name:"floating_email",placeholder:" ",id:"email",formControl:"email",label:"Email"},{type:"text",name:"floating_phone",placeholder:" ",id:"phone",formControl:"phone",label:"Phone"},{type:"text",name:"floating_address",placeholder:" ",id:"address",formControl:"address",label:"Address"},{type:"text",name:"floating_city",placeholder:" ",id:"city",formControl:"city",label:"City"},{type:"text",name:"floating_country",placeholder:" ",id:"country",formControl:"country",label:"Country"},{type:"text",name:"floating_subject",placeholder:" ",id:"subject",formControl:"subject",label:"Subject"},{type:"textarea",name:"floating_message",placeholder:" ",id:"message",formControl:"message",rows:"4",label:"Message"}]}ngOnInit(){this.contactForm=this.formBuilder.group({name:["",jo.required],surname:["",jo.required],email:["",[jo.required,jo.email]],phone:["",[jo.required]],address:[""],city:[""],country:[""],subject:["",[jo.required]],message:["",[jo.required,jo.maxLength(255)]],options:["general-inquiry"],availability:["monday-friday"],priority:["high"]}),this.loaderService.runLoader(3e3,()=>{console.log("Loading contact...")})}onSubmit(){this.contactForm.valid&&console.log(`Formulario enviado ${JSON.stringify(this.contactForm.value,null,2)}`)}onTest(){console.log("Prueba")}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(uy),d.Y36(Xl))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-contact"]],decls:1,vars:1,consts:[["class","h-full w-full px-5","id","contact-us",3,"ngClass",4,"ngIf"],["id","contact-us",1,"h-full","w-full","px-5",3,"ngClass"],[1,"p-5","text-center","text-2xl","font-semibold"],[1,"relative","mx-auto","mb-5","h-[20%]","w-full"],["ngSrc","assets/images/backgrounds/contact-us.webp","alt","contact-us","fill","","priority","",1,"h-full","w-full","rounded-sm","object-cover","opacity-70","shadow-md"],[1,"absolute","bottom-0","right-0","bg-opacity-70","p-2","text-white"],[1,"text-xs","italic","opacity-70"],["href","https://www.freepik.es/vector-gratis/fondo-moderno-azul-clasico-abstracto_6764476.htm#query=svg%20backgrounds&position=19&from_view=keyword&track=ais"],[1,"rounded-md","bg-slate-700","p-10","text-white","shadow-md"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-1","gap-4","sm:grid-cols-2"],["class","group relative z-0 mb-6 w-full",4,"ngFor","ngForOf"],[1,"relative"],["for","options",1,"text-xs","opacity-50"],["id","options","formControlName","options",1,"peer","block","w-full","appearance-none","rounded-lg","border-0","border-b-2","border-gray-600","bg-slate-700","bg-transparent","p-2.5","px-0","py-2.5","text-sm","text-white","text-opacity-30","focus:border-blue-600","focus:outline-none","focus:ring-0","focus:ring-blue-500"],["value","general-inquiry",1,"text-black"],["value","technical-support",1,"text-black"],["value","comments-suggestions",1,"text-black"],["value","quotation-request",1,"text-black"],["value","job-application",1,"text-black"],["value","other",1,"text-black"],["for","availability",1,"text-xs","opacity-50"],["id","availability","formControlName","availability",1,"peer","block","w-full","appearance-none","rounded-lg","border-0","border-b-2","border-gray-600","bg-slate-700","bg-transparent","p-2.5","px-0","py-2.5","text-sm","text-white","text-opacity-30","focus:border-blue-500","focus:outline-none","focus:ring-0","focus:ring-blue-500"],["value","monday-friday",1,"text-black"],["value","weekends",1,"text-black"],["value","anytime",1,"text-black"],["id","priority","formControlName","priority",1,"peer","block","w-full","appearance-none","rounded-lg","border-0","border-b-2","border-gray-600","bg-slate-700","bg-transparent","p-2.5","px-0","py-2.5","text-sm","text-white","text-opacity-30","focus:border-blue-500","focus:outline-none","focus:ring-0","focus:ring-blue-500"],["value","high",1,"text-black"],["value","medium",1,"text-black"],["value","low",1,"text-black"],[1,"w-full","pt-10","text-center"],["type","submit","value","Submit",1,"w-32","rounded-md","bg-slate-800","p-3","text-sm","opacity-70","shadow-md","transition","delay-150","duration-300","ease-in-out","hover:-translate-y-1","hover:scale-105","hover:opacity-50",3,"disabled","mouseenter"],[1,"relative","mx-auto","mt-5","flex","h-[20%]","w-full","flex-col","items-center","justify-center","overflow-auto"],[1,"absolute","bg-opacity-70","p-2","text-center","text-white"],[1,"mb-1","text-lg","opacity-80"],[1,"group","relative","z-0","mb-6","w-full"],[1,"peer","block","w-full","appearance-none","border-0","border-b-2","border-gray-600","bg-transparent","px-0","py-2.5","text-sm","focus:border-blue-600","focus:outline-none","focus:ring-0",3,"type","name","placeholder","id","formControlName"],[1,"absolute","top-3","-z-10","origin-[0]","-translate-y-6","scale-75","transform","text-sm","text-gray-500","duration-300","peer-placeholder-shown:translate-y-0","peer-placeholder-shown:scale-100","peer-focus:left-0","peer-focus:-translate-y-6","peer-focus:scale-75","peer-focus:font-medium","peer-focus:text-blue-600",3,"htmlFor"],["class","text-xs text-red-500 opacity-70",4,"ngIf"],[1,"text-xs","text-red-500","opacity-70"]],template:function(r,i){1&r&&d.YNc(0,qy,64,7,"div",0),2&r&&d.Q6J("ngIf",!i.loaderService.isLoading)},dependencies:[ci,Os,di,Tg,Ih,Ch,po,ns,wa,Cg,Zc,zu,Tc,So]}),e})(),d1=(()=>{var t;class e{constructor(r){this.loaderService=r}ngOnInit(){this.loaderService.runLoader(1e3,()=>{console.log("Loading error...")})}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(Xl))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-custom-error"]],decls:3,vars:0,consts:[["id","custom-error",1,"h-full","w-full","p-5"],[1,"h-full","relative","w-full","rounded-md","bg-slate-700","shadow-md","bg-opacity-70"],["src","assets/images/vectors/404.svg","alt","error-img",1,"object-contain","h-full","w-full","opacity-80"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0)(1,"div",1),d._UZ(2,"img",2),d.qZA()())}}),e})();var Wy=F(6321),Cn=F(8186);function ib(){return(0,is.e)((t,e)=>{let n,r=!1;t.subscribe((0,vr.x)(e,i=>{const a=n;n=i,r&&e.next([a,i]),r=!0}))})}var ct,yD=F(3997),mi=F(6304),Hh=(F(5967),F(3106)),Se=F(5861),Ds=F(534),Sa=F(4537),fl=F(7879),U=F(9058),im=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pl={},sb=sb||{},Qt=im||self;function Zy(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function sm(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ob="closure_uid_"+(1e9*Math.random()>>>0),vD=0;function ab(t,e,n){return t.call.apply(t.bind,arguments)}function p1(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ci(t,e,n){return(Ci=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ab:p1).apply(null,arguments)}function Ky(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Hi(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[i].apply(r,u)}}function od(){this.s=this.s,this.o=this.o}od.prototype.s=!1,od.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function f1(t){Object.prototype.hasOwnProperty.call(t,ob)&&t[ob]||(t[ob]=++vD)}(this)},od.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function lb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function bD(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Zy(r)){const i=t.length||0,a=r.length||0;t.length=i+a;for(let u=0;u<a;u++)t[i+u]=r[u]}else t.push(r)}}function os(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}os.prototype.h=function(){this.defaultPrevented=!0};var ED=function(){if(!Qt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Qt.addEventListener("test",()=>{},e),Qt.removeEventListener("test",()=>{},e)}catch{}return t}();function om(t){return/^[\s\xa0]*$/.test(t)}function ub(){var t=Qt.navigator;return t&&(t=t.userAgent)?t:""}function gl(t){return-1!=ub().indexOf(t)}function Yy(t){return Yy[" "](t),t}Yy[" "]=function(){};var $i,t,Qy=gl("Opera"),pp=gl("Trident")||gl("MSIE"),ID=gl("Edge"),am=ID||pp,CD=gl("Gecko")&&!(-1!=ub().toLowerCase().indexOf("webkit")&&!gl("Edge"))&&!(gl("Trident")||gl("MSIE"))&&!gl("Edge"),eu=-1!=ub().toLowerCase().indexOf("webkit")&&!gl("Edge");function gp(){var t=Qt.document;return t?t.documentMode:void 0}e:{var tc="",mp=(t=ub(),CD?/rv:([^\);]+)(\)|;)/.exec(t):ID?/Edge\/([\d\.]+)/.exec(t):pp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):eu?/WebKit\/(\S+)/.exec(t):Qy?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(mp&&(tc=mp?mp[1]:""),pp){var yo=gp();if(null!=yo&&yo>parseFloat(tc)){$i=String(yo);break e}}$i=tc}var _p=Qt.document&&pp&&(gp()||parseInt($i,10))||void 0;function tu(t,e){if(os.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(CD){e:{try{Yy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:yp[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&tu.$.h.call(this)}}Hi(tu,os);var yp={2:"touch",3:"pen",4:"mouse"};tu.prototype.h=function(){tu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var nu="closure_listenable_"+(1e6*Math.random()|0),vp=0;function wp(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++vp,this.fa=this.ia=!1}function nc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ad(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function cb(t){const e={};for(const n in t)e[n]=t[n];return e}const db="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hb(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let a=0;a<db.length;a++)n=db[a],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function um(t){this.src=t,this.g={},this.h=0}function Jy(t,e){var n=e.type;if(n in t.g){var a,r=t.g[n],i=wD(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(nc(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Xy(t,e,n,r){for(var i=0;i<t.length;++i){var a=t[i];if(!a.fa&&a.listener==e&&a.capture==!!n&&a.la==r)return i}return-1}um.prototype.add=function(t,e,n,r,i){var a=t.toString();(t=this.g[a])||(t=this.g[a]=[],this.h++);var u=Xy(t,e,r,i);return-1<u?(e=t[u],n||(e.ia=!1)):((e=new wp(e,this.src,a,!!r,i)).ia=n,t.push(e)),e};var ev="closure_lm_"+(1e6*Math.random()|0),tv={};function nv(t,e,n,r,i){if(r&&r.once)return m1(t,e,n,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)nv(t,e[a],n,r,i);return null}return n=gb(n),t&&t[nu]?t.O(e,n,sm(r)?!!r.capture:!!r,i):TD(t,e,n,!1,r,i)}function TD(t,e,n,r,i,a){if(!e)throw Error("Invalid event type");var u=sm(i)?!!i.capture:!!i,f=AD(t);if(f||(t[ev]=f=new um(t)),(n=f.add(e,n,r,u,a)).proxy)return n;if(r=function YP(){const e=y1;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ED||(i=u),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_1(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function m1(t,e,n,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)m1(t,e[a],n,r,i);return null}return n=gb(n),t&&t[nu]?t.P(e,n,sm(r)?!!r.capture:!!r,i):TD(t,e,n,!0,r,i)}function SD(t,e,n,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)SD(t,e[a],n,r,i);else r=sm(r)?!!r.capture:!!r,n=gb(n),t&&t[nu]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Xy(a=t.g[e],n,r,i))&&(nc(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete t.g[e],t.h--))):t&&(t=AD(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Xy(e,n,r,i)),(n=-1<t?e[t]:null)&&fb(n))}function fb(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[nu])Jy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=AD(e))?(Jy(n,t),0==n.h&&(n.src=null,e[ev]=null)):nc(t)}}}function _1(t){return t in tv?tv[t]:tv[t]="on"+t}function y1(t,e){if(t.fa)t=!0;else{e=new tu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&fb(t),t=n.call(r,e)}return t}function AD(t){return(t=t[ev])instanceof um?t:null}var pb="__closure_events_fn_"+(1e9*Math.random()>>>0);function gb(t){return"function"==typeof t?t:(t[pb]||(t[pb]=function(e){return t.handleEvent(e)}),t[pb])}function Gi(){od.call(this),this.i=new um(this),this.S=this,this.J=null}function Di(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new os(e,t);else if(e instanceof os)e.target=e.target||t;else{var i=e;hb(e=new os(r,t),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var u=e.g=n[a];i=ld(u,r,!0,e)&&i}if(i=ld(u=e.g=t,r,!0,e)&&i,i=ld(u,r,!1,e)&&i,n)for(a=0;a<n.length;a++)i=ld(u=e.g=n[a],r,!1,e)&&i}function ld(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.fa&&u.capture==n){var f=u.listener,_=u.la||u.src;u.ia&&Jy(t.i,u),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Hi(Gi,od),Gi.prototype[nu]=!0,Gi.prototype.removeEventListener=function(t,e,n,r){SD(this,t,e,n,r)},Gi.prototype.N=function(){if(Gi.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)nc(n[r]);delete t.g[e],t.h--}}this.J=null},Gi.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Gi.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var cm=Qt.JSON.stringify;function xD(){var t=_b;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var mb=new class rv{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v1,t=>t.reset());class v1{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function hm(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function w1(t){Qt.setTimeout(()=>{throw t},0)}let fm,pm=!1,_b=new class dm{constructor(){this.h=this.g=null}add(e,n){const r=mb.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},iv=()=>{const t=Qt.Promise.resolve(void 0);fm=()=>{t.then(sv)}};var sv=()=>{for(var t;t=xD();){try{t.h.call(t.g)}catch(n){w1(n)}var e=mb;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}pm=!1};function Gh(t,e){Gi.call(this),this.h=t||1,this.g=e||Qt,this.j=Ci(this.qb,this),this.l=Date.now()}function MD(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function yb(t,e,n){if("function"==typeof t)n&&(t=Ci(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ci(t.handleEvent,t)}return 2147483647<Number(e)?-1:Qt.setTimeout(t,e||0)}function RD(t){t.g=yb(()=>{t.g=null,t.i&&(t.i=!1,RD(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Hi(Gh,Gi),(ct=Gh.prototype).ga=!1,ct.T=null,ct.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Di(this,"tick"),this.ga&&(MD(this),this.start()))}},ct.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.N=function(){Gh.$.N.call(this),MD(this),delete this.g};class vb extends od{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:RD(this)}N(){super.N(),this.g&&(Qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gm(t){od.call(this),this.h=t,this.g={}}Hi(gm,od);var wb=[];function ND(t,e,n,r){Array.isArray(n)||(n&&(wb[0]=n.toString()),n=wb);for(var i=0;i<n.length;i++){var a=nv(e,n[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}}function kD(t){ad(t.g,function(e,n){this.g.hasOwnProperty(n)&&fb(e)},t),t.g={}}function mm(){this.g=!0}function bp(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function E1(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return cm(n)}catch{return e}}(t,n)+(r?" "+r:"")})}gm.prototype.N=function(){gm.$.N.call(this),kD(this)},gm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mm.prototype.Ea=function(){this.g=!1},mm.prototype.info=function(){};var ud={},ov=null;function Ep(){return ov=ov||new Gi}function LD(t){os.call(this,ud.Ta,t)}function cd(t){const e=Ep();Di(e,new LD(e))}function _m(t,e){os.call(this,ud.STAT_EVENT,t),this.stat=e}function as(t){const e=Ep();Di(e,new _m(e,t))}function bb(t,e){os.call(this,ud.Ua,t),this.size=e}function ym(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Qt.setTimeout(function(){t()},e)}ud.Ta="serverreachability",Hi(LD,os),ud.STAT_EVENT="statevent",Hi(_m,os),ud.Ua="timingevent",Hi(bb,os);var av={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},FD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vm(){}function Eb(){}vm.prototype.h=null;var uv,Ip={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ib(){os.call(this,"d")}function Cb(){os.call(this,"c")}function Cp(){}function Dp(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new gm(this),this.P=UD,this.V=new Gh(t=am?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cv}function cv(){this.i=null,this.g="",this.h=!1}Hi(Ib,os),Hi(Cb,os),Hi(Cp,vm),Cp.prototype.g=function(){return new XMLHttpRequest},Cp.prototype.i=function(){return{}},uv=new Cp;var UD=45e3,Db={},wm={};function dv(t,e,n){t.L=1,t.v=Ap(Ts(e)),t.s=n,t.S=!0,Tb(t,null)}function Tb(t,e){t.G=Date.now(),bm(t),t.A=Ts(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Mb(n.i,"t",r),t.C=0,n=t.l.J,t.h=new cv,t.g=sT(t.l,n?e:null,!t.s),0<t.O&&(t.M=new vb(Ci(t.Pa,t,t.g),t.O)),ND(t.U,t.g,"readystatechange",t.nb),e=t.I?cb(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),cd(),function PD(t,e,n,r,i,a){t.info(function(){if(t.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var v=f[_].split("=");if(1<v.length){var S=v[0];v=v[1];var M=S.split("_");u=2<=M.length&&"type"==M[1]?u+(S+"=")+v+"&":u+(S+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+u})}(t.j,t.u,t.A,t.m,t.W,t.s)}function Sb(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function VD(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=I1(t,n),i==wm){4==e&&(t.o=4,as(14),r=!1),bp(t.j,t.m,null,"[Incomplete Response]");break}if(i==Db){t.o=4,as(15),bp(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}bp(t.j,t.m,i,null),fv(t,i)}Sb(t)&&i!=wm&&i!=Db&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,as(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gb(e),e.M=!0,as(11))):(bp(t.j,t.m,n,"[Invalid Chunked Response]"),dd(t),Sp(t))}function I1(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?wm:(n=Number(e.substring(n,r)),isNaN(n)?Db:(r+=1)+n>e.length?wm:(e=e.slice(r,r+n),t.C=r+n,e))}function bm(t){t.Y=Date.now()+t.P,hv(t,t.P)}function hv(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ym(Ci(t.lb,t),e)}function Tp(t){t.B&&(Qt.clearTimeout(t.B),t.B=null)}function Sp(t){0==t.l.H||t.J||tT(t.l,t)}function dd(t){Tp(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,MD(t.V),kD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function fv(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||Nb(n.i,t)))if(!t.K&&Nb(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Ev(n),xm(n)}$b(n),as(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ym(Ci(n.ib,n),6e3));if(1>=Rb(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Wh(n,11)}else if((t.K||n.g==t)&&Ev(n),!om(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(n.V=v[0],v=v[1],2==n.H)if("c"==v[0]){n.K=v[1],n.pa=v[2];const S=v[3];null!=S&&(n.ra=S,n.l.info("VER="+n.ra));const M=v[4];null!=M&&(n.Ga=M,n.l.info("SVER="+n.Ga));const L=v[5];null!=L&&"number"==typeof L&&0<L&&(n.L=r=1.5*L,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const H=t.g;if(H){const Q=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var a=r.i;a.g||-1==Q.indexOf("spdy")&&-1==Q.indexOf("quic")&&-1==Q.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(_v(a,a.h),a.h=null))}if(r.F){const _e=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;_e&&(r.Da=_e,Rn(r.I,r.F,_e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var u=t;if((r=n).wa=iT(r,r.J?r.pa:null,r.Y),u.K){x1(r.i,u);var f=u,_=r.L;_&&f.setTimeout(_),f.B&&(Tp(f),bm(f)),r.g=u}else Hb(r);0<n.j.length&&Mm(n)}else"stop"!=v[0]&&"close"!=v[0]||Wh(n,7);else 3==n.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Wh(n,7):Mp(n):"noop"!=v[0]&&n.h&&n.h.Aa(v),n.A=0)}cd()}catch{}}function Ab(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Zy(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function jD(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Zy(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function BD(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Zy(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],n&&n[a],t)}(ct=Dp.prototype).setTimeout=function(t){this.P=t},ct.nb=function(t){t=t.target;const e=this.M;e&&3==su(t)?e.l():this.Pa(t)},ct.Pa=function(t){try{if(t==this.g)e:{const S=su(this.g);var e=this.g.Ia();if(this.g.da(),!(3>S)&&(3!=S||am||this.g&&(this.h.h||this.g.ja()||Lb(this.g)))){this.J||4!=S||7==e||cd(),Tp(this);var n=this.g.da();this.ca=n;t:if(Sb(this)){var r=Lb(this.g);t="";var i=r.length,a=4==su(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){dd(this),Sp(this);var u="";break t}this.h.i=new Qt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==n,function OD(t,e,n,r,i,a,u){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.W,S,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!om(f)){var v=f;break t}}v=null}if(!(n=v)){this.i=!1,this.o=3,as(12),dd(this),Sp(this);break e}bp(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fv(this,n)}this.S?(VD(this,S,u),am&&this.i&&3==S&&(ND(this.U,this.V,"tick",this.mb),this.V.start())):(bp(this.j,this.m,u,null),fv(this,u)),4==S&&dd(this),this.i&&!this.J&&(4==S?tT(this.l,this):(this.i=!1,bm(this)))}else(function JD(t){const e={};t=(t.g&&2<=su(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(om(t[r]))continue;var n=hm(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const a=e[i]||[];e[i]=a,a.push(n)}!function DD(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<u.indexOf("Unknown SID")?(this.o=3,as(12)):(this.o=0,as(13)),dd(this),Sp(this)}}}catch{}},ct.mb=function(){if(this.g){var t=su(this.g),e=this.g.ja();this.C<e.length&&(Tp(this),VD(this,t,e),this.i&&4!=t&&bm(this))}},ct.cancel=function(){this.J=!0,dd(this)},ct.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function b1(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(cd(),as(17)),dd(this),this.o=2,Sp(this)):hv(this,this.Y-t)};var xb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ru(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ru){this.h=t.h,pv(this,t.j),this.s=t.s,this.g=t.g,gv(this,t.m),this.l=t.l;var e=t.i,n=new xr;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),mv(this,n),this.o=t.o}else t&&(e=String(t).match(xb))?(this.h=!1,pv(this,e[1]||"",!0),this.s=Em(e[2]||""),this.g=Em(e[3]||"",!0),gv(this,e[4]),this.l=Em(e[5]||"",!0),mv(this,e[6]||"",!0),this.o=Em(e[7]||"")):(this.h=!1,this.i=new xr(null,this.h))}function Ts(t){return new ru(t)}function pv(t,e,n){t.j=n?Em(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function gv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function mv(t,e,n){e instanceof xr?(t.i=e,function qD(t,e){e&&!t.j&&(rc(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(GD(this,r),Mb(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=zh(e,$D)),t.i=new xr(e,t.h))}function Rn(t,e,n){t.i.set(e,n)}function Ap(t){return Rn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Em(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,QP),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function QP(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ru.prototype.toString=function(){var t=[],e=this.j;e&&t.push(zh(e,C1,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(zh(e,C1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(zh(n,"/"==n.charAt(0)?T1:D1,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",zh(n,S1)),t.join("")};var C1=/[#\/\?@]/g,D1=/[#\?:]/g,T1=/[#\?]/g,$D=/[#\?@]/g,S1=/#/g;function xr(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function rc(t){t.g||(t.g=new Map,t.h=0,t.i&&function HD(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var a=t[n].substring(0,r);i=t[n].substring(r+1)}else a=t[n];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function GD(t,e){rc(t),e=xp(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function zD(t,e){return rc(t),e=xp(t,e),t.g.has(e)}function Mb(t,e,n){GD(t,e),0<n.length&&(t.i=null,t.g.set(xp(t,e),lb(n)),t.h+=n.length)}function xp(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function qh(t){this.l=t||A1,t=Qt.PerformanceNavigationTiming?0<(t=Qt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Qt.g&&Qt.g.Ka&&Qt.g.Ka()&&Qt.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=xr.prototype).add=function(t,e){rc(this),this.i=null,t=xp(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},ct.forEach=function(t,e){rc(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},ct.ta=function(){rc(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let a=0;a<i.length;a++)n.push(e[r])}return n},ct.Z=function(t){rc(this);let e=[];if("string"==typeof t)zD(this,t)&&(e=e.concat(this.g.get(xp(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},ct.set=function(t,e){return rc(this),this.i=null,zD(this,t=xp(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},ct.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const a=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var i=a;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),t.push(i)}}return this.i=t.join("&")};var A1=10;function ZD(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Rb(t){return t.h?1:t.g?t.g.size:0}function Nb(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function _v(t,e){t.g?t.g.add(e):t.h=e}function x1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function yv(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return lb(t.i)}qh.prototype.cancel=function(){if(this.i=yv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var kb=class{stringify(t){return Qt.JSON.stringify(t,void 0)}parse(t){return Qt.JSON.parse(t,void 0)}};function iu(){this.g=new kb}function M1(t,e,n){const r=n||"";try{Ab(t,function(i,a){let u=i;sm(i)&&(u=cm(i)),e.push(r+a+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Zo(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ws(t){this.l=t.fc||null,this.j=t.ob||!1}function vo(t,e){Gi.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=vv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hi(Ws,vm),Ws.prototype.g=function(){return new vo(this.l,this.j)},Ws.prototype.i=function(t){return function(){return t}}({}),Hi(vo,Gi);var vv=0;function Pb(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Im(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Cm(t)}function Cm(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(ct=vo.prototype).open=function(t,e){if(this.readyState!=vv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Cm(this)},ct.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Qt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Im(this)),this.readyState=vv},ct.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Cm(this)),this.g&&(this.readyState=3,Cm(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Qt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pb(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},ct.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Im(this):Cm(this),3==this.readyState&&Pb(this)}},ct.Za=function(t){this.g&&(this.response=this.responseText=t,Im(this))},ct.Ya=function(t){this.g&&(this.response=t,Im(this))},ct.ka=function(){this.g&&Im(this)},ct.setRequestHeader=function(t,e){this.v.append(t,e)},ct.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(vo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var N1=Qt.JSON.parse;function Br(t){Gi.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wv,this.L=this.M=!1}Hi(Br,Gi);var wv="",Dm=/^https?$/i,k1=["POST","PUT"];function YD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,QD(t),Tm(t)}function QD(t){t.F||(t.F=!0,Di(t,"complete"),Di(t,"error"))}function Ob(t){if(t.h&&typeof sb<"u"&&(!t.C[1]||4!=su(t)||2!=t.da()))if(t.v&&4==su(t))yb(t.La,0,t);else if(Di(t,"readystatechange"),4==su(t)){t.h=!1;try{const u=t.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===u){var i=String(t.I).match(xb)[1]||null;!i&&Qt.self&&Qt.self.location&&(i=Qt.self.location.protocol.slice(0,-1)),r=!Dm.test(i?i.toLowerCase():"")}n=r}if(n)Di(t,"complete"),Di(t,"success");else{t.m=6;try{var a=2<su(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.da()+"]",QD(t)}}finally{Tm(t)}}}function Tm(t,e){if(t.g){Sm(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Di(t,"ready");try{n.onreadystatechange=r}catch{}}}function Sm(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Qt.clearTimeout(t.A),t.A=null)}function su(t){return t.g?t.g.readyState:0}function Lb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case wv:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Fb(t){let e="";return ad(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function Ub(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Fb(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Rn(t,e,n))}function Am(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function bv(t){this.Ga=0,this.j=[],this.l=new mm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Am("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Am("baseRetryDelayMs",5e3,t),this.hb=Am("retryDelaySeedMs",1e4,t),this.eb=Am("forwardChannelMaxRetries",2,t),this.xa=Am("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new qh(t&&t.concurrentRequestLimit),this.Ja=new iu,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Mp(t){if(Vb(t),3==t.H){var e=t.W++,n=Ts(t.I);if(Rn(n,"SID",t.K),Rn(n,"RID",e),Rn(n,"TYPE","terminate"),Rp(t,n),(e=new Dp(t,t.l,e)).L=2,e.v=Ap(Ts(n)),n=!1,Qt.navigator&&Qt.navigator.sendBeacon)try{n=Qt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Qt.Image&&((new Image).src=e.v,n=!0),n||(e.g=sT(e.l,null),e.g.ha(e.v)),e.G=Date.now(),bm(e)}rT(t)}function xm(t){t.g&&(Gb(t),t.g.cancel(),t.g=null)}function Vb(t){xm(t),t.u&&(Qt.clearTimeout(t.u),t.u=null),Ev(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Qt.clearTimeout(t.m),t.m=null)}function Mm(t){if(!ZD(t.i)&&!t.m){t.m=!0;var e=t.Na;fm||iv(),pm||(fm(),pm=!0),_b.add(e,t),t.C=0}}function Bb(t,e){var n;n=e?e.m:t.W++;const r=Ts(t.I);Rn(r,"SID",t.K),Rn(r,"RID",n),Rn(r,"AID",t.V),Rp(t,r),t.o&&t.s&&Ub(r,t.o,t.s),n=new Dp(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=jb(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),_v(t.i,n),dv(n,r,e)}function Rp(t,e){t.na&&ad(t.na,function(n,r){Rn(e,r,n)}),t.h&&Ab({},function(n,r){Rn(e,r,n)})}function jb(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ci(t.h.Va,t.h,t):null;e:{var i=t.j;let a=-1;for(;;){const u=["count="+n];-1==a?0<n?(a=i[0].g,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<n;_++){let v=i[_].g;const S=i[_].map;if(v-=a,0>v)a=Math.max(0,i[_].g-100),f=!1;else try{M1(S,u,"req"+v+"_")}catch{r&&r(S)}}if(f){r=u.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Hb(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;fm||iv(),pm||(fm(),pm=!0),_b.add(e,t),t.A=0}}function $b(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=ym(Ci(t.Ma,t),nT(t,t.A)),t.A++,0))}function Gb(t){null!=t.B&&(Qt.clearTimeout(t.B),t.B=null)}function eT(t){t.g=new Dp(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ts(t.wa);Rn(e,"RID","rpc"),Rn(e,"SID",t.K),Rn(e,"AID",t.V),Rn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Rn(e,"TO",t.qa),Rn(e,"TYPE","xmlhttp"),Rp(t,e),t.o&&t.s&&Ub(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ap(Ts(e)),n.s=null,n.S=!0,Tb(n,t)}function Ev(t){null!=t.v&&(Qt.clearTimeout(t.v),t.v=null)}function tT(t,e){var n=null;if(t.g==e){Ev(t),Gb(t),t.g=null;var r=2}else{if(!Nb(t.i,e))return;n=e.F,x1(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Di(r=Ep(),new bb(r,n)),Mm(t)}else Hb(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function XD(t,e){return!(Rb(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=ym(Ci(t.Na,t,e),nT(t,t.C)),t.C++,0)))}(t,e)||2==r&&$b(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Wh(t,5);break;case 4:Wh(t,10);break;case 3:Wh(t,6);break;default:Wh(t,2)}}function nT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Wh(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Ci(t.pb,t);n||(n=new ru("//www.google.com/images/cleardot.gif"),Qt.location&&"http"==Qt.location.protocol||pv(n,"https"),Ap(n)),function R1(t,e){const n=new mm;if(Qt.Image){const r=new Image;r.onload=Ky(Zo,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ky(Zo,n,r,"TestLoadImage: error",!1,e),r.onabort=Ky(Zo,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ky(Zo,n,r,"TestLoadImage: timeout",!1,e),Qt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else as(2);t.H=0,t.h&&t.h.za(e),rT(t),Vb(t)}function rT(t){if(t.H=0,t.ma=[],t.h){const e=yv(t.i);(0!=e.length||0!=t.j.length)&&(bD(t.ma,e),bD(t.ma,t.j),t.i.i.length=0,lb(t.j),t.j.length=0),t.h.ya()}}function iT(t,e,n){var r=n instanceof ru?Ts(n):new ru(n);if(""!=r.g)e&&(r.g=e+"."+r.g),gv(r,r.m);else{var i=Qt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new ru(null);r&&pv(a,r),e&&(a.g=e),i&&gv(a,i),n&&(a.l=n),r=a}return e=t.Da,(n=t.F)&&e&&Rn(r,n,e),Rn(r,"VER",t.ra),Rp(t,r),r}function sT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Br(n&&t.Ha&&!t.va?new Ws({ob:!0}):t.va)).Oa(t.J),e}function oT(){}function Iv(){if(pp&&!(10<=Number(_p)))throw Error("Environmental error: no available transport.")}function Ko(t,e){Gi.call(this),this.g=new bv(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!om(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!om(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Np(this)}function aT(t){Ib.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function lT(){Cb.call(this),this.status=1}function Np(t){this.g=t}function ml(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Cv(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var a=t.g[3],u=(e=t.g[0])+(a^(n=t.g[1])&((i=t.g[2])^a))+r[0]+3614090360&4294967295;u=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=n+(u<<7&4294967295|u>>>25))+((u=a+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=i+(n^a&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=a+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=i+(n^a&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=a+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=i+(n^a&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=a+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=i+(n^a&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=a+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^n&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=n+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=a+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^n&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=n+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=a+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^n&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=n+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=a+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^n&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=n+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=i+(a^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=n+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=i+(a^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=n+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=i+(a^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=n+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=i+(a^e^n)+r[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=n+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=a+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=n+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=a+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=n+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=a+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=n+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((a=(e=n+((u=e+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=a+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((i=a+((u=i+(e^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(u<<21&4294967295|u>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+a&4294967295}function Un(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var a=0|t[i];r&&a==e||(n[i]=a,r=!1)}this.g=n}(ct=Br.prototype).Oa=function(t){this.M=t},ct.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():uv.g(),this.C=function lv(t){return t.h||(t.h=t.i())}(this.u?this.u:uv),this.g.onreadystatechange=Ci(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(a){return void YD(this,a)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())n.set(a,r.get(a))}r=Array.from(n.keys()).find(a=>"content-type"==a.toLowerCase()),i=Qt.FormData&&t instanceof Qt.FormData,!(0<=wD(k1,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of n)this.g.setRequestHeader(a,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Sm(this),0<this.B&&((this.L=function KD(t){return pp&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ci(this.ua,this)):this.A=yb(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(a){YD(this,a)}},ct.ua=function(){typeof sb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Di(this,"timeout"),this.abort(8))},ct.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Di(this,"complete"),Di(this,"abort"),Tm(this))},ct.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tm(this,!0)),Br.$.N.call(this)},ct.La=function(){this.s||(this.G||this.v||this.l?Ob(this):this.kb())},ct.kb=function(){Ob(this)},ct.isActive=function(){return!!this.g},ct.da=function(){try{return 2<su(this)?this.g.status:-1}catch{return-1}},ct.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ct.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),N1(e)}},ct.Ia=function(){return this.m},ct.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=bv.prototype).ra=8,ct.H=1,ct.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Dp(this,this.l,t);let a=this.s;if(this.U&&(a?(a=cb(a),hb(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=jb(this,i,e),Rn(n=Ts(this.I),"RID",t),Rn(n,"CVER",22),this.F&&Rn(n,"X-HTTP-Session-Id",this.F),Rp(this,n),a&&(this.O?e="headers="+encodeURIComponent(String(Fb(a)))+"&"+e:this.o&&Ub(n,this.o,a)),_v(this.i,i),this.bb&&Rn(n,"TYPE","init"),this.P?(Rn(n,"$req",e),Rn(n,"SID","null"),i.aa=!0,dv(i,n,null)):dv(i,n,e),this.H=2}}else 3==this.H&&(t?Bb(this,t):0==this.j.length||ZD(this.i)||Bb(this))},ct.Ma=function(){if(this.u=null,eT(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ym(Ci(this.jb,this),t)}},ct.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,as(10),xm(this),eT(this))},ct.ib=function(){null!=this.v&&(this.v=null,xm(this),$b(this),as(19))},ct.pb=function(t){t?(this.l.info("Successfully pinged google.com"),as(2)):(this.l.info("Failed to ping google.com"),as(1))},ct.isActive=function(){return!!this.h&&this.h.isActive(this)},(ct=oT.prototype).Ba=function(){},ct.Aa=function(){},ct.za=function(){},ct.ya=function(){},ct.isActive=function(){return!0},ct.Va=function(){},Iv.prototype.g=function(t,e){return new Ko(t,e)},Hi(Ko,Gi),Ko.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;as(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=iT(t,null,t.Y),Mm(t)},Ko.prototype.close=function(){Mp(this.g)},Ko.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=cm(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Mm(e)},Ko.prototype.N=function(){this.g.h=null,delete this.j,Mp(this.g),delete this.g,Ko.$.N.call(this)},Hi(aT,Ib),Hi(lT,Cb),Hi(Np,oT),Np.prototype.Ba=function(){Di(this.g,"a")},Np.prototype.Aa=function(t){Di(this.g,new aT(t))},Np.prototype.za=function(t){Di(this.g,new lT)},Np.prototype.ya=function(){Di(this.g,"b")},Hi(ml,function P1(){this.blockSize=-1}),ml.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ml.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=n;)Cv(this,t,a),a+=this.blockSize;if("string"==typeof t){for(;a<e;)if(r[i++]=t.charCodeAt(a++),i==this.blockSize){Cv(this,r),i=0;break}}else for(;a<e;)if(r[i++]=t[a++],i==this.blockSize){Cv(this,r),i=0;break}}this.h=i,this.i+=e},ml.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var uT={};function Dv(t){return-128<=t&&128>t?function KP(t,e){var n=uT;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Un([0|e],0>e?-1:0)}):new Un([0|t],0>t?-1:0)}function _l(t){if(isNaN(t)||!isFinite(t))return Zh;if(0>t)return ls(_l(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Tv;return new Un(e,0)}var Tv=4294967296,Zh=Dv(0),Sv=Dv(1),qb=Dv(16777216);function ou(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function zi(t){return-1==t.h}function ls(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Un(n,~t.h).add(Sv)}function Av(t,e){return t.add(ls(e))}function ic(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function xv(t,e){this.g=t,this.h=e}function kp(t,e){if(ou(e))throw Error("division by zero");if(ou(t))return new xv(Zh,Zh);if(zi(t))return e=kp(ls(t),e),new xv(ls(e.g),ls(e.h));if(zi(e))return e=kp(t,ls(e)),new xv(ls(e.g),e.h);if(30<t.g.length){if(zi(t)||zi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Sv,r=e;0>=r.X(t);)n=O1(n),r=O1(r);var i=Kh(n,1),a=Kh(r,1);for(r=Kh(r,2),n=Kh(n,2);!ou(r);){var u=a.add(r);0>=u.X(t)&&(i=i.add(n),a=u),r=Kh(r,1),n=Kh(n,1)}return e=Av(t,i.R(e)),new xv(i,e)}for(i=Zh;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(a=_l(n)).R(e);zi(u)||0<u.X(t);)u=(a=_l(n-=r)).R(e);ou(a)&&(a=Sv),i=i.add(a),t=Av(t,u)}return new xv(i,t)}function O1(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Un(n,t.h)}function Kh(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],a=0;a<r;a++)i[a]=0<e?t.D(a+n)>>>e|t.D(a+n+1)<<32-e:t.D(a+n);return new Un(i,t.h)}(ct=Un.prototype).ea=function(){if(zi(this))return-ls(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Tv+r)*e,e*=Tv}return t},ct.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ou(this))return"0";if(zi(this))return"-"+ls(this).toString(t);for(var e=_l(Math.pow(t,6)),n=this,r="";;){var i=kp(n,e).g,a=((0<(n=Av(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ou(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},ct.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},ct.X=function(t){return zi(t=Av(this,t))?-1:ou(t)?0:1},ct.abs=function(){return zi(this)?ls(this):this},ct.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&t.D(i)),u=(a>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=u>>>16,n[i]=(u&=65535)<<16|(a&=65535)}return new Un(n,-2147483648&n[n.length-1]?-1:0)},ct.R=function(t){if(ou(this)||ou(t))return Zh;if(zi(this))return zi(t)?ls(this).R(ls(t)):ls(ls(this).R(t));if(zi(t))return ls(this.R(ls(t)));if(0>this.X(qb)&&0>t.X(qb))return _l(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var a=this.D(r)>>>16,u=65535&this.D(r),f=t.D(i)>>>16,_=65535&t.D(i);n[2*r+2*i]+=u*_,ic(n,2*r+2*i),n[2*r+2*i+1]+=a*_,ic(n,2*r+2*i+1),n[2*r+2*i+1]+=u*f,ic(n,2*r+2*i+1),n[2*r+2*i+2]+=a*f,ic(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Un(n,0)},ct.gb=function(t){return kp(this,t).h},ct.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Un(n,this.h&t.h)},ct.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Un(n,this.h|t.h)},ct.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Un(n,this.h^t.h)},Iv.prototype.createWebChannel=Iv.prototype.g,Ko.prototype.send=Ko.prototype.u,Ko.prototype.open=Ko.prototype.m,Ko.prototype.close=Ko.prototype.close,av.NO_ERROR=0,av.TIMEOUT=8,av.HTTP_ERROR=6,FD.COMPLETE="complete",Eb.EventType=Ip,Ip.OPEN="a",Ip.CLOSE="b",Ip.ERROR="c",Ip.MESSAGE="d",Gi.prototype.listen=Gi.prototype.O,Br.prototype.listenOnce=Br.prototype.P,Br.prototype.getLastError=Br.prototype.Sa,Br.prototype.getLastErrorCode=Br.prototype.Ia,Br.prototype.getStatus=Br.prototype.da,Br.prototype.getResponseJson=Br.prototype.Wa,Br.prototype.getResponseText=Br.prototype.ja,Br.prototype.send=Br.prototype.ha,Br.prototype.setWithCredentials=Br.prototype.Oa,ml.prototype.digest=ml.prototype.l,ml.prototype.reset=ml.prototype.reset,ml.prototype.update=ml.prototype.j,Un.prototype.add=Un.prototype.add,Un.prototype.multiply=Un.prototype.R,Un.prototype.modulo=Un.prototype.gb,Un.prototype.compare=Un.prototype.X,Un.prototype.toNumber=Un.prototype.ea,Un.prototype.toString=Un.prototype.toString,Un.prototype.getBits=Un.prototype.D,Un.fromNumber=_l,Un.fromString=function zb(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return ls(zb(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=_l(Math.pow(e,8)),r=Zh,i=0;i<t.length;i+=8){var a=Math.min(8,t.length-i),u=parseInt(t.substring(i,i+a),e);8>a?(a=_l(Math.pow(e,a)),r=r.R(a).add(_l(u))):r=(r=r.R(n)).add(_l(u))}return r};var cT=pl.createWebChannelTransport=function(){return new Iv},JP=pl.getStatEventTarget=function(){return Ep()},hd=pl.ErrorCode=av,L1=pl.EventType=FD,F1=pl.Event=ud,dT=pl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Pp=pl.FetchXmlHttpFactory=Ws,Mv=pl.WebChannel=Eb,Rv=pl.XhrIo=Br,Nv=pl.Md5=ml,Ti=pl.Integer=Un;const U1="@firebase/firestore";class Si{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Si.UNAUTHENTICATED=new Si(null),Si.GOOGLE_CREDENTIALS=new Si("google-credentials-uid"),Si.FIRST_PARTY=new Si("first-party-uid"),Si.MOCK_USER=new Si("mock-user");let Yh="9.23.0";const fd=new fl.Yd("@firebase/firestore");function kv(){return fd.logLevel}function $e(t,...e){if(fd.logLevel<=fl.in.DEBUG){const n=e.map(Wb);fd.debug(`Firestore (${Yh}): ${t}`,...n)}}function jr(t,...e){if(fd.logLevel<=fl.in.ERROR){const n=e.map(Wb);fd.error(`Firestore (${Yh}): ${t}`,...n)}}function Aa(t,...e){if(fd.logLevel<=fl.in.WARN){const n=e.map(Wb);fd.warn(`Firestore (${Yh}): ${t}`,...n)}}function Wb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function vt(t="Unexpected state"){const e=`FIRESTORE (${Yh}) INTERNAL ASSERTION FAILED: `+t;throw jr(e),new Error(e)}function Ct(t,e){t||vt()}function lt(t,e){return t}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends U.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Zb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Si.UNAUTHENTICATED))}shutdown(){}}class B1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Rm{constructor(e){this.t=e,this.currentUser=Si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const a=v=>this.i!==i?(i=this.i,n(v)):Promise.resolve();let u=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _i,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=u;e.enqueueRetryable((0,Se.Z)(function*(){yield v.promise,yield a(r.currentUser)}))},_=v=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>_(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?_(v):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _i)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct("string"==typeof r.accessToken),new Zb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new Si(e)}}class Nm{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Si.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class j1{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Nm(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Si.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H1{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=a=>{null!=a.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.T;return this.T=a.token,$e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ct("string"==typeof n.token),this.T=n.token,new pT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gT(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Kb{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=gT(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[a]%62))}return r}}function Kt(t,e){return t<e?-1:t>e?1:0}function Qh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function mT(t){return t+"\0"}class br{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return br.fromMillis(Date.now())}static fromDate(e){return br.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new br(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new br(0,0))}static max(){return new Rt(new br(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Pv{constructor(e,n,r){void 0===n?n=0:n>e.length&&vt(),void 0===r?r=e.length-n:r>e.length-n&&vt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Pv.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pv?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),u=n.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Dn extends Pv{construct(e,n,r){return new Dn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Dn(n)}static emptyPath(){return new Dn([])}}const XP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends Pv{construct(e,n,r){return new Mr(e,n,r)}static isValidIdentifier(e){return XP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Oe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Oe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(r+=f,i++):(a(),i++)}if(a(),u)throw new Oe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(n)}static emptyPath(){return new Mr([])}}class tt{constructor(e){this.path=e}static fromPath(e){return new tt(Dn.fromString(e))}static fromName(e){return new tt(Dn.fromString(e).popFirst(5))}static empty(){return new tt(Dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Dn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new Dn(e.slice()))}}class Ov{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Yb(t){return t.fields.find(e=>2===e.kind)}function pd(t){return t.fields.filter(e=>2!==e.kind)}Ov.UNKNOWN_ID=-1;class Lv{constructor(e,n){this.fieldPath=e,this.kind=n}}class Pm{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Pm(0,Yo.min())}}function _T(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Rt.fromTimestamp(1e9===r?new br(n+1,0):new br(n,r));return new Yo(i,tt.empty(),e)}function z1(t){return new Yo(t.readTime,t.key,-1)}class Yo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yo(Rt.min(),tt.empty(),-1)}static max(){return new Yo(Rt.max(),tt.empty(),-1)}}function Fv(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=tt.comparator(t.documentKey,e.documentKey),0!==n?n:Kt(t.largestBatchId,e.largestBatchId))}const yT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xa(t){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,Se.Z)(function*(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==yT)throw t;$e("LocalStore","Unexpectedly lost primary lease")}),Qb.apply(this,arguments)}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):de.reject(n)}static resolve(e){return new de((n,r)=>{n(e)})}static reject(e){return new de((n,r)=>{r(e)})}static waitFor(e){return new de((n,r)=>{let i=0,a=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++a,u&&a===i&&n()},_=>r(_))}),u=!0,a===i&&n()})}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next(i=>i?de.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new de((r,i)=>{const a=e.length,u=new Array(a);let f=0;for(let _=0;_<a;_++){const v=_;n(e[v]).next(S=>{u[v]=S,++f,f===a&&r(u)},S=>i(S))}})}static doWhile(e,n){return new de((r,i)=>{const a=()=>{!0===e()?n().next(()=>{a()},i):r()};a()})}}class Uv{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new _i,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new Op(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=Vv(r.target.error);this.v.reject(new Op(e,i))}}static open(e,n,r,i){try{return new Uv(n,e.transaction(i,r))}catch(a){throw new Op(n,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||($e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Jb(n)}}class Ma{constructor(e,n,r){this.name=e,this.version=n,this.V=r,12.2===Ma.S((0,U.z$)())&&jr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $e("SimpleDb","Removing database:",e),Jh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,U.hl)())return!1;if(Ma.C())return!0;const e=(0,U.z$)(),n=Ma.S(e),r=0<n&&n<10,i=Ma.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var n=this;return(0,Se.Z)(function*(){return n.db||($e("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const a=indexedDB.open(n.name,n.version);a.onsuccess=u=>{r(u.target.result)},a.onblocked=()=>{i(new Op(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;i("VersionError"===f.name?new Oe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Oe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Op(e,f))},a.onupgradeneeded=u=>{$e("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',u.oldVersion),n.V.O(u.target.result,a.transaction,u.oldVersion,n.version).next(()=>{$e("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.F&&(n.db.onversionchange=r=>n.F(r)),n.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var a=this;return(0,Se.Z)(function*(){const u="readonly"===n;let f=0;for(;;){++f;try{a.db=yield a.$(e);const _=Uv.open(a.db,e,u?"readonly":"readwrite",r),v=i(_).next(S=>(_.P(),S)).catch(S=>(_.abort(S),de.reject(S))).toPromise();return v.catch(()=>{}),yield _.R,v}catch(_){const v=_,S="FirebaseError"!==v.name&&f<3;if($e("SimpleDb","Transaction failed with error:",v.message,"Retrying:",S),a.close(),!S)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class q1{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Jh(this.L.delete())}}class Op extends Oe{constructor(e,n){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function gd(t){return"IndexedDbTransactionError"===t.name}class Jb{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?($e("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Jh(r)}add(e){return $e("SimpleDb","ADD",this.store.name,e,e),Jh(this.store.add(e))}get(e){return Jh(this.store.get(e)).next(n=>(void 0===n&&(n=null),$e("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return $e("SimpleDb","DELETE",this.store.name,e),Jh(this.store.delete(e))}count(){return $e("SimpleDb","COUNT",this.store.name),Jh(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(u,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new de((a,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}H(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new de((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}J(e,n){$e("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,u,f)=>f.delete())}X(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Z(e){const n=this.cursor({});return new de((r,i)=>{n.onerror=a=>{const u=Vv(a.target.error);i(u)},n.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():r()}):r()}})}W(e,n){const r=[];return new de((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void i();const _=new q1(f),v=n(f.primaryKey,f.value,_);if(v instanceof de){const S=v.catch(M=>(_.done(),de.reject(M)));r.push(S)}_.isDone?i():null===_.K?f.continue():f.continue(_.K)}}).next(()=>de.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Jh(t){return new de((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=Vv(r.target.error);n(i)}})}let Xb=!1;function Vv(t){const e=Ma.S((0,U.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Xb||(Xb=!0,setTimeout(()=>{throw r},0)),r}}return t}class W1{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var n=this;$e("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Se.Z)(function*(){n.task=null;try{$e("IndexBackiller",`Documents written: ${yield n.tt.nt()}`)}catch(r){gd(r)?$e("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield xa(r)}yield n.et(6e4)}))}}class Z1{constructor(e,n){this.localStore=e,this.persistence=n}nt(e=50){var n=this;return(0,Se.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.st(r,e))})()}st(e,n){const r=new Set;let i=n,a=!0;return de.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return $e("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,i).next(f=>{i-=f,r.add(u)});a=!1})).next(()=>n-i)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(i,a)).next(f=>($e("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,n,f))).next(()=>u.size)}))}rt(e,n){let r=e;return n.changes.forEach((i,a)=>{const u=z1(a);Fv(u,r)>0&&(r=u)}),new Yo(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Qo=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Xh(t){return null==t}function Om(t){return 0===t&&1/t==-1/0}function eE(t){return"number"==typeof t&&Number.isInteger(t)&&!Om(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ss(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=wT(e)),e=K1(t.get(n),e);return wT(e)}function K1(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function wT(t){return t+"\x01\x01"}function au(t){const e=t.length;if(Ct(e>=2),2===e)return Ct("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Dn.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const u=t.indexOf("\x01",a);switch((u<0||u>n)&&vt(),t.charAt(u+1)){case"\x01":const f=t.substring(a,u);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=t.substring(a,u),i+="\0";break;case"\x11":i+=t.substring(a,u+1);break;default:vt()}a=u+2}return new Dn(r)}const bT=["userId","batchId"];function Bv(t,e){return[t,Ss(e)]}function ET(t,e,n){return[t,Ss(e),n]}const Y1={},IT=["prefixPath","collectionGroup","readTime","documentId"],CT=["prefixPath","collectionGroup","documentId"],Q1=["collectionGroup","readTime","prefixPath","documentId"],J1=["canonicalId","targetId"],DT=["targetId","path"],X1=["path","targetId"],eM=["collectionId","parent"],tM=["indexId","uid"],nM=["uid","sequenceNumber"],tE=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nE=["indexId","uid","orderedDocumentKey"],TT=["userId","collectionPath","documentId"],rE=["userId","collectionPath","largestBatchId"],rM=["userId","collectionGroup","largestBatchId"],ST=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],iE=[...ST,"documentOverlays"],AT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sE=AT,ef=[...sE,"indexConfiguration","indexState","indexEntries"];class jv extends vT{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function qi(t,e){const n=lt(t);return Ma.M(n.ht,e)}function iM(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class sr{constructor(e,n){this.comparator=e,this.root=n||Wi.EMPTY}insert(e,n){return new sr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wi.BLACK,null,null))}remove(e){return new sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lm(this.root,e,this.comparator,!0)}}class Lm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wi{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Wi.RED,this.left=i??Wi.EMPTY,this.right=a??Wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Wi(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===a?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Wi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const e=this.left.check();if(e!==this.right.check())throw vt();return e+(this.isRed()?0:1)}}Wi.EMPTY=null,Wi.RED=!0,Wi.BLACK=!1,Wi.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Wi(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dr{constructor(e){this.comparator=e,this.data=new sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oE(this.data.getIterator())}getIteratorFrom(e){return new oE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dr(this.comparator);return n.data=e,n}}class oE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function md(t){return t.hasNext()?t.getNext():void 0}class Zs{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new Zs([])}unionWith(e){let n=new dr(Mr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class aE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new aE("Invalid base64 string: "+i):i}}(e);return new yi(n)}static fromUint8Array(e){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new yi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yi.EMPTY_BYTE_STRING=new yi("");const sM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _d(t){if(Ct(!!t),"string"==typeof t){let e=0;const n=sM.exec(t);if(Ct(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Hr(t.seconds),nanos:Hr(t.nanos)}}function Hr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function sc(t){return"string"==typeof t?yi.fromBase64String(t):yi.fromUint8Array(t)}function Fm(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function lE(t){const e=t.mapValue.fields.__previous_value__;return Fm(e)?lE(e):e}function Lp(t){const e=_d(t.mapValue.fields.__local_write_time__.timestampValue);return new br(e.seconds,e.nanos)}class oM{constructor(e,n,r,i,a,u,f,_,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=_,this.useFetchStreams=v}}class yd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new yd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yd&&e.projectId===this.projectId&&e.database===this.database}}const tf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$v={nullValue:"NULL_VALUE"};function vd(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fm(t)?4:hE(t)?9007199254740991:10:vt()}function uu(t,e){if(t===e)return!0;const n=vd(t);if(n!==vd(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lp(t).isEqual(Lp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=_d(r.timestampValue),u=_d(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,sc(t.bytesValue).isEqual(sc(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Hr(r.geoPointValue.latitude)===Hr(i.geoPointValue.latitude)&&Hr(r.geoPointValue.longitude)===Hr(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Hr(r.integerValue)===Hr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Hr(r.doubleValue),u=Hr(i.doubleValue);return a===u?Om(a)===Om(u):isNaN(a)&&isNaN(u)}return!1}(t,e);case 9:return Qh(t.arrayValue.values||[],e.arrayValue.values||[],uu);case 10:return function(r,i){const a=r.mapValue.fields||{},u=i.mapValue.fields||{};if(iM(a)!==iM(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!uu(a[f],u[f])))return!1;return!0}(t,e);default:return vt()}var i}function Um(t,e){return void 0!==(t.values||[]).find(n=>uu(n,e))}function oc(t,e){if(t===e)return 0;const n=vd(t),r=vd(e);if(n!==r)return Kt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kt(t.booleanValue,e.booleanValue);case 2:return function(i,a){const u=Hr(i.integerValue||i.doubleValue),f=Hr(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(t,e);case 3:return MT(t.timestampValue,e.timestampValue);case 4:return MT(Lp(t),Lp(e));case 5:return Kt(t.stringValue,e.stringValue);case 6:return function(i,a){const u=sc(i),f=sc(a);return u.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const u=i.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const v=Kt(u[_],f[_]);if(0!==v)return v}return Kt(u.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const u=Kt(Hr(i.latitude),Hr(a.latitude));return 0!==u?u:Kt(Hr(i.longitude),Hr(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,a){const u=i.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const v=oc(u[_],f[_]);if(v)return v}return Kt(u.length,f.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===tf.mapValue&&a===tf.mapValue)return 0;if(i===tf.mapValue)return 1;if(a===tf.mapValue)return-1;const u=i.fields||{},f=Object.keys(u),_=a.fields||{},v=Object.keys(_);f.sort(),v.sort();for(let S=0;S<f.length&&S<v.length;++S){const M=Kt(f[S],v[S]);if(0!==M)return M;const L=oc(u[f[S]],_[v[S]]);if(0!==L)return L}return Kt(f.length,v.length)}(t.mapValue,e.mapValue);default:throw vt()}}function MT(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Kt(t,e);const n=_d(t),r=_d(e),i=Kt(n.seconds,r.seconds);return 0!==i?i:Kt(n.nanos,r.nanos)}function nf(t){return uE(t)}function uE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=_d(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?sc(t.bytesValue).toBase64():"referenceValue"in t?tt.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",a=!0;for(const u of r.values||[])a?a=!1:i+=",",i+=uE(u);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const f of i)u?u=!1:a+=",",a+=`${f}:${uE(r.fields[f])}`;return a+"}"}(t.mapValue):vt();var e}function rf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cE(t){return!!t&&"integerValue"in t}function Vm(t){return!!t&&"arrayValue"in t}function Fp(t){return!!t&&"nullValue"in t}function dE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bm(t){return!!t&&"mapValue"in t}function Up(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Up(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Up(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hE(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function RT(t){return"nullValue"in t?$v:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?rf(yd.empty(),tt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:vt()}function NT(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?rf(yd.empty(),tt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?tf:vt()}function kT(t,e){const n=oc(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function aM(t,e){const n=oc(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class As{constructor(e){this.value=e}static empty(){return new As({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Up(n)}setAll(e){let n=Mr.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!n.isImmediateParentOf(f)){const _=this.getFieldsMap(n);this.applyChanges(_,r,i),r={},i=[],n=f.popLast()}u?r[f.lastSegment()]=Up(u):i.push(f.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Bm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return uu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){lu(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new As(Up(this.value))}}function fE(t){const e=[];return lu(t.fields,(n,r)=>{const i=new Mr([n]);if(Bm(r)){const a=fE(r.mapValue).fields;if(0===a.length)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new Zs(e)}class hr{constructor(e,n,r,i,a,u,f){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new hr(e,0,Rt.min(),Rt.min(),Rt.min(),As.empty(),0)}static newFoundDocument(e,n,r,i){return new hr(e,1,n,Rt.min(),r,i,0)}static newNoDocument(e,n){return new hr(e,2,n,Rt.min(),Rt.min(),As.empty(),0)}static newUnknownDocument(e,n){return new hr(e,3,n,Rt.min(),Rt.min(),As.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Rt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=As.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=As.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wd{constructor(e,n){this.position=e,this.inclusive=n}}function PT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],u=t.position[i];if(r=a.field.isKeyField()?tt.comparator(tt.fromName(u.referenceValue),n.key):oc(u,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function OT(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!uu(t.position[n],e.position[n]))return!1;return!0}class cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function lM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class zv{}class _n extends zv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new uM(e,n,r):"array-contains"===n?new cM(e,r):"in"===n?new mE(e,r):"not-in"===n?new dM(e,r):"array-contains-any"===n?new hM(e,r):new _n(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new VT(e,r):new qv(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(oc(n,this.value)):null!==n&&vd(this.value)===vd(n)&&this.matchesComparison(oc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Gn extends zv{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Gn(e,n)}matches(e){return Vp(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Vp(t){return"and"===t.op}function LT(t){return"or"===t.op}function sf(t){return FT(t)&&Vp(t)}function FT(t){for(const e of t.filters)if(e instanceof Gn)return!1;return!0}function pE(t){if(t instanceof _n)return t.field.canonicalString()+t.op.toString()+nf(t.value);if(sf(t))return t.filters.map(e=>pE(e)).join(",");{const e=t.filters.map(n=>pE(n)).join(",");return`${t.op}(${e})`}}function UT(t,e){return t instanceof _n?(n=t,(r=e)instanceof _n&&n.op===r.op&&n.field.isEqual(r.field)&&uu(n.value,r.value)):t instanceof Gn?function(n,r){return r instanceof Gn&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,a,u)=>i&&UT(a,r.filters[u]),!0)}(t,e):void vt();var n,r}function jm(t,e){const n=t.filters.concat(e);return Gn.create(n,t.op)}function gE(t){return t instanceof _n?`${(e=t).field.canonicalString()} ${e.op} ${nf(e.value)}`:t instanceof Gn?function(e){return e.op.toString()+" {"+e.getFilters().map(gE).join(" ,")+"}"}(t):"Filter";var e}class uM extends _n{constructor(e,n,r){super(e,n,r),this.key=tt.fromName(r.referenceValue)}matches(e){const n=tt.comparator(e.key,this.key);return this.matchesComparison(n)}}class VT extends _n{constructor(e,n){super(e,"in",n),this.keys=BT(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qv extends _n{constructor(e,n){super(e,"not-in",n),this.keys=BT(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BT(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>tt.fromName(r.referenceValue))}class cM extends _n{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vm(n)&&Um(n.arrayValue,this.value)}}class mE extends _n{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Um(this.value.arrayValue,n)}}class dM extends _n{constructor(e,n){super(e,"not-in",n)}matches(e){if(Um(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Um(this.value.arrayValue,n)}}class hM extends _n{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Um(this.value.arrayValue,r))}}class jT{constructor(e,n=null,r=[],i=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=f,this.dt=null}}function Bp(t,e=null,n=[],r=[],i=null,a=null,u=null){return new jT(t,e,n,r,i,a,u)}function af(t){const e=lt(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nf(r)).join(",")),e.dt=n}return e.dt}function Hm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OT(t.startAt,e.startAt)&&OT(t.endAt,e.endAt)}function $m(t){return tt.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function Gm(t,e){return t.filters.filter(n=>n instanceof _n&&n.field.isEqual(e))}function Wv(t,e,n){let r=$v,i=!0;for(const a of Gm(t,e)){let u=$v,f=!0;switch(a.op){case"<":case"<=":u=RT(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=$v}kT({value:r,inclusive:i},{value:u,inclusive:f})<0&&(r=u,i=f)}if(null!==n)for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const u=n.position[a];kT({value:r,inclusive:i},{value:u,inclusive:n.inclusive})<0&&(r=u,i=n.inclusive);break}return{value:r,inclusive:i}}function _E(t,e,n){let r=tf,i=!0;for(const a of Gm(t,e)){let u=tf,f=!0;switch(a.op){case">=":case">":u=NT(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=tf}aM({value:r,inclusive:i},{value:u,inclusive:f})>0&&(r=u,i=f)}if(null!==n)for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const u=n.position[a];aM({value:r,inclusive:i},{value:u,inclusive:n.inclusive})>0&&(r=u,i=n.inclusive);break}return{value:r,inclusive:i}}class ac{constructor(e,n=null,r=[],i=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this.wt=null,this._t=null}}function yE(t,e,n,r,i,a,u,f){return new ac(t,e,n,r,i,a,u,f)}function lf(t){return new ac(t)}function HT(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function vE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function jp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function zm(t){return null!==t.collectionGroup}function bd(t){const e=lt(t);if(null===e.wt){e.wt=[];const n=jp(e),r=vE(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new cu(n)),e.wt.push(new cu(Mr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new cu(Mr.keyField(),a))}}}return e.wt}function us(t){const e=lt(t);if(!e._t)if("F"===e.limitType)e._t=Bp(e.path,e.collectionGroup,bd(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const a of bd(e))n.push(new cu(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new wd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new wd(e.startAt.position,e.startAt.inclusive):null;e._t=Bp(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function qm(t,e){e.getFirstInequalityField(),jp(t);const n=t.filters.concat([e]);return new ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zv(t,e,n){return new ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wm(t,e){return Hm(us(t),us(e))&&t.limitType===e.limitType}function $T(t){return`${af(us(t))}|lt:${t.limitType}`}function wE(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>gE(r)).join(", ")}]`),Xh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nf(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nf(r)).join(",")),`Target(${n})`}(us(t))}; limitType=${t.limitType})`}function Hp(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):tt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of bd(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,a,u){const f=PT(i,a,u);return i.inclusive?f<=0:f<0}(n.startAt,bd(n),r)||n.endAt&&!function(i,a,u){const f=PT(i,a,u);return i.inclusive?f>=0:f>0}(n.endAt,bd(n),r)));var n,r}function Kv(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bE(t){return(e,n)=>{let r=!1;for(const i of bd(t)){const a=GT(i,e,n);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function GT(t,e,n){const r=t.field.isKeyField()?tt.comparator(e.key,n.key):function(i,a,u){const f=a.data.field(i),_=u.data.field(i);return null!==f&&null!==_?oc(f,_):vt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return vt()}}class du{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){lu(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Hv(this.inner)}size(){return this.innerSize}}const zT=new sr(tt.comparator);function wo(){return zT}const EE=new sr(tt.comparator);function $p(...t){let e=EE;for(const n of t)e=e.insert(n.key,n);return e}function qT(t){let e=EE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yl(){return Ai()}function WT(){return Ai()}function Ai(){return new du(t=>t.toString(),(t,e)=>t.isEqual(e))}const Gp=new sr(tt.comparator),fM=new dr(tt.comparator);function nn(...t){let e=fM;for(const n of t)e=e.add(n);return e}const eO=new dr(Kt);function ZT(){return eO}function IE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Om(e)?"-0":e}}function Yv(t){return{integerValue:""+t}}function pM(t,e){return eE(e)?Yv(e):IE(t,e)}class CE{constructor(){this._=void 0}}function tO(t,e,n){return t instanceof Ed?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Fm(i)&&(i=lE(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof uf?DE(t,e):t instanceof cf?YT(t,e):function(r,i){const a=KT(r,i),u=Qv(a)+Qv(r.gt);return cE(a)&&cE(r.gt)?Yv(u):IE(r.serializer,u)}(t,e)}function Zm(t,e,n){return t instanceof uf?DE(t,e):t instanceof cf?YT(t,e):n}function KT(t,e){return t instanceof zp?cE(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Ed extends CE{}class uf extends CE{constructor(e){super(),this.elements=e}}function DE(t,e){const n=TE(e);for(const r of t.elements)n.some(i=>uu(i,r))||n.push(r);return{arrayValue:{values:n}}}class cf extends CE{constructor(e){super(),this.elements=e}}function YT(t,e){let n=TE(e);for(const r of t.elements)n=n.filter(i=>!uu(i,r));return{arrayValue:{values:n}}}class zp extends CE{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Qv(t){return Hr(t.integerValue||t.doubleValue)}function TE(t){return Vm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Km{constructor(e,n){this.field=e,this.transform=n}}class SE{constructor(e,n){this.version=e,this.transformResults=n}}class Rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ym(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Xv{}function AE(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Wp(t.key,Rr.none()):new Jm(t.key,t.data,Rr.none());{const n=t.data,r=As.empty();let i=new dr(Mr.comparator);for(let a of e.fields)if(!i.has(a)){let u=n.field(a);null===u&&a.length>1&&(a=a.popLast(),u=n.field(a)),null===u?r.delete(a):r.set(a,u),i=i.add(a)}return new lc(t.key,r,new Zs(i.toArray()),Rr.none())}}function qp(t,e,n){t instanceof Jm?function(r,i,a){const u=r.value.clone(),f=JT(r.fieldTransforms,i,a.transformResults);u.setAll(f),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):t instanceof lc?function(r,i,a){if(!Ym(r.precondition,i))return void i.convertToUnknownDocument(a.version);const u=JT(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(gM(r)),f.setAll(u),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Qm(t,e,n,r){return t instanceof Jm?function(i,a,u,f){if(!Ym(i.precondition,a))return u;const _=i.value.clone(),v=XT(i.fieldTransforms,f,a);return _.setAll(v),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(t,e,n,r):t instanceof lc?function(i,a,u,f){if(!Ym(i.precondition,a))return u;const _=XT(i.fieldTransforms,f,a),v=a.data;return v.setAll(gM(i)),v.setAll(_),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(S=>S.field))}(t,e,n,r):(u=n,Ym(t.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function QT(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=KT(r.transform,i||null);null!=a&&(null===n&&(n=As.empty()),n.set(r.field,a))}return n||null}function ew(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Qh(n,r,(i,a)=>function Jv(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof uf&&r instanceof uf||n instanceof cf&&r instanceof cf?Qh(n.elements,r.elements,uu):n instanceof zp&&r instanceof zp?uu(n.gt,r.gt):n instanceof Ed&&r instanceof Ed);var n,r}(i,a))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Jm extends Xv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class lc extends Xv{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function gM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function JT(t,e,n){const r=new Map;Ct(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],u=a.transform,f=e.data.field(a.field);r.set(a.field,Zm(u,f,n[i]))}return r}function XT(t,e,n){const r=new Map;for(const i of t){const a=i.transform,u=n.data.field(i.field);r.set(i.field,tO(a,u,e))}return r}class Wp extends Xv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tw extends Xv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nw{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&qp(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WT();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=n.has(i.key)?null:f;const _=AE(u,f);null!==_&&r.set(i.key,_),u.isValidDocument()||u.convertToNoDocument(Rt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nn())}isEqual(e){return this.batchId===e.batchId&&Qh(this.mutations,e.mutations,(n,r)=>ew(n,r))&&Qh(this.baseMutations,e.baseMutations,(n,r)=>ew(n,r))}}class xE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ct(e.mutations.length===r.length);let i=Gp;const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new xE(e,n,r,i)}}class rw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class mM{constructor(e,n){this.count=e,this.unchangedNames=n}}var vi,bn;function tS(t){switch(t){default:return vt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function ME(t){if(void 0===t)return jr("GRPC error has no .code"),me.UNKNOWN;switch(t){case vi.OK:return me.OK;case vi.CANCELLED:return me.CANCELLED;case vi.UNKNOWN:return me.UNKNOWN;case vi.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case vi.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case vi.INTERNAL:return me.INTERNAL;case vi.UNAVAILABLE:return me.UNAVAILABLE;case vi.UNAUTHENTICATED:return me.UNAUTHENTICATED;case vi.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case vi.NOT_FOUND:return me.NOT_FOUND;case vi.ALREADY_EXISTS:return me.ALREADY_EXISTS;case vi.PERMISSION_DENIED:return me.PERMISSION_DENIED;case vi.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case vi.ABORTED:return me.ABORTED;case vi.OUT_OF_RANGE:return me.OUT_OF_RANGE;case vi.UNIMPLEMENTED:return me.UNIMPLEMENTED;case vi.DATA_LOSS:return me.DATA_LOSS;default:return vt()}}(bn=vi||(vi={}))[bn.OK=0]="OK",bn[bn.CANCELLED=1]="CANCELLED",bn[bn.UNKNOWN=2]="UNKNOWN",bn[bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bn[bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bn[bn.NOT_FOUND=5]="NOT_FOUND",bn[bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",bn[bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",bn[bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",bn[bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bn[bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bn[bn.ABORTED=10]="ABORTED",bn[bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",bn[bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",bn[bn.INTERNAL=13]="INTERNAL",bn[bn.UNAVAILABLE=14]="UNAVAILABLE",bn[bn.DATA_LOSS=15]="DATA_LOSS";class iw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Xm}static getOrCreateInstance(){return null===Xm&&(Xm=new iw),Xm}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Xm=null;function RE(){return new TextEncoder}const _M=new Ti([4294967295,4294967295],0);function nS(t){const e=RE().encode(t),n=new Nv;return n.update(e),new Uint8Array(n.digest())}function yM(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ti([n,r],0),new Ti([i,a],0)]}class sw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ow(`Invalid padding: ${n}`);if(r<0)throw new ow(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new ow(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new ow(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ti.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Ti.fromNumber(r)));return 1===i.compare(_M)&&(i=new Ti([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=nS(e),[r,i]=yM(n);for(let a=0;a<this.hashCount;a++){const u=this.Et(r,i,a);if(!this.At(u))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new sw(a,i,n);return r.forEach(f=>u.insert(f)),u}insert(e){if(0===this.It)return;const n=nS(e),[r,i]=yM(n);for(let a=0;a<this.hashCount;a++){const u=this.Et(r,i,a);this.Rt(u)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class ow extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class aw{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,lw.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new aw(Rt.min(),i,new sr(Kt),wo(),nn())}}class lw{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lw(r,n,nn(),nn(),nn())}}class NE{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class vM{constructor(e,n){this.targetId=e,this.Vt=n}}class wM{constructor(e,n,r=yi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class bM{constructor(){this.St=0,this.Dt=kE(),this.Ct=yi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=nn(),n=nn(),r=nn();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:vt()}}),new lw(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=kE()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class nO{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=wo(),this.zt=EM(),this.Wt=new sr(Kt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:vt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const u=a.target;if($m(u))if(0===i){const f=new tt(u.path);this.Yt(r,f,hr.newNoDocument(f,Rt.min()))}else Ct(1===i);else{const f=this.ie(r);if(f!==i){const _=this.re(e,f);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=iw.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(v,S,M){var L,H,Q,_e,Te,nt;const _t={localCacheCount:S,existenceFilterCount:M.count},ot=M.unchangedNames;return ot&&(_t.bloomFilter={applied:0===v,hashCount:null!==(L=ot?.hashCount)&&void 0!==L?L:0,bitmapLength:null!==(_e=null===(Q=null===(H=ot?.bits)||void 0===H?void 0:H.bitmap)||void 0===Q?void 0:Q.length)&&void 0!==_e?_e:0,padding:null!==(nt=null===(Te=ot?.bits)||void 0===Te?void 0:Te.padding)&&void 0!==nt?nt:0}),_t}(_,f,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:u=0},hashCount:f=0}=r;let _,v;try{_=sc(a).toUint8Array()}catch(S){if(S instanceof aE)return Aa("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw S}try{v=new sw(_,u,f)}catch(S){return Aa(S instanceof ow?"BloomFilter error: ":"Applying bloom filter failed: ",S),1}return 0===v.It?1:i!==n-this.oe(e.targetId,v)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const u=this.Gt.ue(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;n.vt(f)||(this.Yt(e,a,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((a,u)=>{const f=this.se(u);if(f){if(a.current&&$m(f.target)){const _=new tt(f.target.path);null!==this.jt.get(_)||this.ae(u,_)||this.Yt(u,_,hr.newNoDocument(_,e))}a.Mt&&(n.set(u,a.Ot()),a.Ft())}});let r=nn();this.zt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const v=this.se(_);return!v||"TargetPurposeLimboResolution"===v.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.jt.forEach((a,u)=>u.setReadTime(e));const i=new aw(e,n,this.Wt,this.jt,r);return this.jt=wo(),this.zt=EM(),this.Wt=new sr(Kt),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new bM,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new dr(Kt),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||$e("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new bM),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function EM(){return new sr(tt.comparator)}function kE(){return new sr(tt.comparator)}const PE={asc:"ASCENDING",desc:"DESCENDING"},rS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IM={and:"AND",or:"OR"};class uw{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function OE(t,e){return t.useProto3Json||Xh(e)?e:{value:e}}function e_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DM(t,e){return e_(t,e.toTimestamp())}function $r(t){return Ct(!!t),Rt.fromTimestamp(function(e){const n=_d(e);return new br(n.seconds,n.nanos)}(t))}function LE(t,e){return(n=t,new Dn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function iS(t){const e=Dn.fromString(t);return Ct(VE(e)),e}function t_(t,e){return LE(t.databaseId,e.path)}function uc(t,e){const n=iS(e);if(n.get(1)!==t.databaseId.projectId)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new tt(sS(n))}function FE(t,e){return LE(t.databaseId,e)}function Zp(t){const e=iS(t);return 4===e.length?Dn.emptyPath():sS(e)}function Id(t){return new Dn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sS(t){return Ct(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function oS(t,e,n){return{name:t_(t,e),fields:n.value.mapValue.fields}}function aS(t,e,n){const r=uc(t,e.name),i=$r(e.updateTime),a=e.createTime?$r(e.createTime):Rt.min(),u=new As({mapValue:{fields:e.fields}}),f=hr.newFoundDocument(r,i,a,u);return n&&f.setHasCommittedMutations(),n?f.setHasCommittedMutations():f}function n_(t,e){let n;if(e instanceof Jm)n={update:oS(t,e.key,e.value)};else if(e instanceof Wp)n={delete:t_(t,e.key)};else if(e instanceof lc)n={update:oS(t,e.key,e.data),updateMask:kM(e.fieldMask)};else{if(!(e instanceof tw))return vt();n={verify:t_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const u=a.transform;if(u instanceof Ed)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof uf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof cf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof zp)return{fieldPath:a.field.canonicalString(),increment:u.gt};throw vt()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:DM(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:vt()),n;var i}function r_(t,e){const n=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Rr.updateTime($r(i.updateTime)):void 0!==i.exists?Rr.exists(i.exists):Rr.none():Rr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,u){let f=null;"setToServerValue"in u?(Ct("REQUEST_TIME"===u.setToServerValue),f=new Ed):"appendMissingElements"in u?f=new uf(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new cf(u.removeAllFromArray.values||[]):"increment"in u?f=new zp(a,u.increment):vt();const _=Mr.fromServerFormat(u.fieldPath);return new Km(_,f)}(t,i)):[];var i;if(e.update){const i=uc(t,e.update.name),a=new As({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Zs((e.updateMask.fieldPaths||[]).map(v=>Mr.fromServerFormat(v)));return new lc(i,a,u,n,r)}return new Jm(i,a,n,r)}if(e.delete){const i=uc(t,e.delete);return new Wp(i,n)}if(e.verify){const i=uc(t,e.verify);return new tw(i,n)}return vt()}function lS(t,e){return{documents:[FE(t,e.path)]}}function UE(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=FE(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=FE(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return dS(Gn.create(_,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(v=>{return{field:cc((S=v).field),direction:MM(S.dir)};var S})}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=OE(t,e.limit);var f,_;return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(n.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),n}function uS(t){let e=Zp(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ct(1===r);const S=n.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let a=[];n.where&&(a=function(S){const M=cS(S);return M instanceof Gn&&sf(M)?M.getFilters():[M]}(n.where));let u=[];n.orderBy&&(u=n.orderBy.map(S=>{return new cu(Cd((M=S).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;n.limit&&(f=function(S){let M;return M="object"==typeof S?S.value:S,Xh(M)?null:M}(n.limit));let _=null;var S;n.startAt&&(_=new wd((S=n.startAt).values||[],!!S.before));let v=null;return n.endAt&&(v=function(S){return new wd(S.values||[],!S.before)}(n.endAt)),yE(e,i,u,a,f,"F",_,v)}function cS(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Cd(e.unaryFilter.field);return _n.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Cd(e.unaryFilter.field);return _n.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Cd(e.unaryFilter.field);return _n.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Cd(e.unaryFilter.field);return _n.create(a,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}(t):void 0!==t.fieldFilter?_n.create(Cd((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Gn.create(e.compositeFilter.filters.map(n=>cS(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return vt()}}(e.compositeFilter.op))}(t):vt();var e}function MM(t){return PE[t]}function RM(t){return rS[t]}function NM(t){return IM[t]}function cc(t){return{fieldPath:t.canonicalString()}}function Cd(t){return Mr.fromServerFormat(t.fieldPath)}function dS(t){return t instanceof _n?function(e){if("=="===e.op){if(dE(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NAN"}};if(Fp(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(dE(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NOT_NAN"}};if(Fp(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cc(e.field),op:RM(e.op),value:e.value}}}(t):t instanceof Gn?function(e){const n=e.getFilters().map(r=>dS(r));return 1===n.length?n[0]:{compositeFilter:{op:NM(e.op),filters:n}}}(t):vt()}function kM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VE(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class hu{constructor(e,n,r,i,a=Rt.min(),u=Rt.min(),f=yi.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=_}withSequenceNumber(e){return new hu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class PM{constructor(e){this.fe=e}}function BE(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:i_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:t_(i=t.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:e_(i,a.version.toTimestamp()),createTime:e_(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:df(e.version)};else{if(!e.isUnknownDocument())return vt();r.unknownDocument={path:n.path.toArray(),version:df(e.version)}}var i,a;return r}function i_(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function df(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Dd(t){const e=new br(t.seconds,t.nanoseconds);return Rt.fromTimestamp(e)}function hf(t,e){const n=(e.baseMutations||[]).map(a=>r_(t.fe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>r_(t.fe,a)),i=br.fromMillis(e.localWriteTimeMs);return new nw(e.batchId,i,n,r)}function ff(t){const e=Dd(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Dd(t.lastLimboFreeSnapshotVersion):Rt.min();let r;var i;return void 0!==t.query.documents?(Ct(1===(i=t.query).documents.length),r=us(lf(Zp(i.documents[0])))):r=us(uS(t.query)),new hu(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,yi.fromBase64String(t.resumeToken))}function dc(t,e){const n=df(e.snapshotVersion),r=df(e.lastLimboFreeSnapshotVersion);let i;i=$m(e.target)?lS(t.fe,e.target):UE(t.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:af(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function cw(t){const e=uS({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Zv(e,e.limit,"L"):e}function s_(t,e){return new rw(e.largestBatchId,r_(t.fe,e.overlayMutation))}function dw(t,e){const n=e.path.lastSegment();return[t,Ss(e.path.popLast()),n]}function hS(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:df(r.readTime),documentKey:Ss(r.documentKey.path),largestBatchId:r.largestBatchId}}class rO{getBundleMetadata(e,n){return jE(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Dd(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return jE(e).put({bundleId:(r=n).id,createTime:df($r(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return fS(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:cw(i.bundledQuery),readTime:Dd(i.readTime)};var i})}saveNamedQuery(e,n){return fS(e).put({name:(r=n).name,readTime:df($r(r.readTime)),bundledQuery:r.bundledQuery});var r}}function jE(t){return qi(t,"bundles")}function fS(t){return qi(t,"namedQueries")}class hw{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){return new hw(e,n.uid||"")}getOverlay(e,n){return o_(e).get(dw(this.userId,n)).next(r=>r?s_(this.serializer,r):null)}getOverlays(e,n){const r=yl();return de.forEach(n,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((a,u)=>{const f=new rw(n,u);i.push(this.we(e,f))}),de.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(u=>i.add(Ss(u.getCollectionPath())));const a=[];return i.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(o_(e).J("collectionPathOverlayIndex",f))}),de.waitFor(a)}getOverlaysForCollection(e,n,r){const i=yl(),a=Ss(n),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return o_(e).j("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const v=s_(this.serializer,_);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const a=yl();let u;const f=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return o_(e).X({index:"collectionGroupOverlayIndex",range:f},(_,v,S)=>{const M=s_(this.serializer,v);a.size()<i||M.largestBatchId===u?(a.set(M.getKey(),M),u=M.largestBatchId):S.done()}).next(()=>a)}we(e,n){return o_(e).put(function(r,i,a){const[u,f,_]=dw(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:n_(r.fe,a.mutation)}}(this.serializer,this.userId,n))}}function o_(t){return qi(t,"documentOverlays")}class pf{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Hr(e.integerValue));else if("doubleValue"in e){const r=Hr(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Om(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(sc(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?hE(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):vt()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),tt.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}function pS(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function OM(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const a=pS(255&n[i]);if(r+=a,8!==a)break}return r}(t);return Math.ceil(e/8)}pf.Ve=new pf;class gS{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=n.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=n.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const n=this.Fe(e),r=OM(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Le(e){const n=this.Fe(e),r=OM(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}De(e){const n=255&e;0===n?(this.Ue(0),this.Ue(255)):255===n?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;0===n?(this.Ge(0),this.Ge(255)):255===n?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class LM{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class mS{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class fw{constructor(){this.je=new gS,this.ze=new LM(this.je),this.We=new mS(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class hc{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new hc(this.indexId,this.documentKey,this.arrayValue,r)}}function fc(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=HE(t.arrayValue,e.arrayValue),0!==n?n:(n=HE(t.directionalValue,e.directionalValue),0!==n?n:tt.comparator(t.documentKey,e.documentKey)))}function HE(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class FM{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Ct(e.collectionGroup===this.collectionId);const n=Yb(e);if(void 0!==n&&!this.en(n))return!1;const r=pd(e);let i=new Set,a=0,u=0;for(;a<r.length&&this.en(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const f=r[a];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[u++],f))return!1}++a}for(;a<r.length;++a)if(u>=this.Ye.length||!this.sn(this.Ye[u++],r[a]))return!1;return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function $E(t){var e,n;if(Ct(t instanceof _n||t instanceof Gn),t instanceof _n){if(t instanceof mE){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(a=>_n.create(t.field,"==",a)))||[];return Gn.create(i,"or")}return t}const r=t.filters.map(i=>$E(i));return Gn.create(r,t.op)}function _S(t){if(0===t.getFilters().length)return[];const e=pw($E(t));return Ct(GE(e)),Td(e)||Kp(e)?[e]:e.getFilters()}function Td(t){return t instanceof _n}function Kp(t){return t instanceof Gn&&sf(t)}function GE(t){return Td(t)||Kp(t)||function(e){if(e instanceof Gn&&LT(e)){for(const n of e.getFilters())if(!Td(n)&&!Kp(n))return!1;return!0}return!1}(t)}function pw(t){if(Ct(t instanceof _n||t instanceof Gn),t instanceof _n)return t;if(1===t.filters.length)return pw(t.filters[0]);const e=t.filters.map(r=>pw(r));let n=Gn.create(e,t.op);return n=qE(n),GE(n)?n:(Ct(n instanceof Gn),Ct(Vp(n)),Ct(n.filters.length>1),n.filters.reduce((r,i)=>zE(r,i)))}function zE(t,e){let n;return Ct(t instanceof _n||t instanceof Gn),Ct(e instanceof _n||e instanceof Gn),n=t instanceof _n?e instanceof _n?Gn.create([t,e],"and"):yS(t,e):e instanceof _n?yS(e,t):function(r,i){if(Ct(r.filters.length>0&&i.filters.length>0),Vp(r)&&Vp(i))return jm(r,i.getFilters());const a=LT(r)?r:i,u=LT(r)?i:r,f=a.filters.map(_=>zE(_,u));return Gn.create(f,"or")}(t,e),qE(n)}function yS(t,e){if(Vp(e))return jm(e,t.getFilters());{const n=e.filters.map(r=>zE(t,r));return Gn.create(n,"or")}}function qE(t){if(Ct(t instanceof _n||t instanceof Gn),t instanceof _n)return t;const e=t.getFilters();if(1===e.length)return qE(e[0]);if(FT(t))return t;const n=e.map(i=>qE(i)),r=[];return n.forEach(i=>{i instanceof _n?r.push(i):i instanceof Gn&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Gn.create(r,t.op)}class vS{constructor(){this.rn=new WE}addToCollectionParentIndex(e,n){return this.rn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(Yo.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(Yo.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class WE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dr(Dn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dr(Dn.comparator)).toArray()}}const gw=new Uint8Array(0);class iO{constructor(e,n){this.user=e,this.databaseId=n,this.on=new WE,this.un=new du(r=>af(r),(r,i)=>Hm(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const a={collectionId:r,parent:Ss(i)};return UM(e).put(a)}return de.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[mT(n),""],!1,!0);return UM(e).j(i).next(a=>{for(const u of a){if(u.collectionId!==n)break;r.push(au(u.parent))}return r})}addFieldIndex(e,n){const r=a_(e),i={indexId:(u=n).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete i.indexId;const a=r.add(i);if(n.indexState){const u=l_(e);return a.next(f=>{u.put(hS(f,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return a.next()}deleteFieldIndex(e,n){const r=a_(e),i=l_(e),a=mw(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=mw(e);let i=!0;const a=new Map;return de.forEach(this.cn(n),u=>this.an(e,u).next(f=>{i&&(i=!!f),a.set(u,f)})).next(()=>{if(i){let u=nn();const f=[];return de.forEach(a,(_,v)=>{var S;$e("IndexedDbIndexManager",`Using index ${S=_,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(ot=>`${ot.fieldPath}:${ot.kind}`).join(",")}`} to execute ${af(n)}`);const M=function(ot,wt){const qt=Yb(wt);if(void 0===qt)return null;for(const cn of Gm(ot,qt.fieldPath))switch(cn.op){case"array-contains-any":return cn.value.arrayValue.values||[];case"array-contains":return[cn.value]}return null}(v,_),L=function(ot,wt){const qt=new Map;for(const cn of pd(wt))for(const Zi of Gm(ot,cn.fieldPath))switch(Zi.op){case"==":case"in":qt.set(cn.fieldPath.canonicalString(),Zi.value);break;case"not-in":case"!=":return qt.set(cn.fieldPath.canonicalString(),Zi.value),Array.from(qt.values())}return null}(v,_),H=function(ot,wt){const qt=[];let cn=!0;for(const Zi of pd(wt)){const El=0===Zi.kind?Wv(ot,Zi.fieldPath,ot.startAt):_E(ot,Zi.fieldPath,ot.startAt);qt.push(El.value),cn&&(cn=El.inclusive)}return new wd(qt,cn)}(v,_),Q=function(ot,wt){const qt=[];let cn=!0;for(const Zi of pd(wt)){const El=0===Zi.kind?_E(ot,Zi.fieldPath,ot.endAt):Wv(ot,Zi.fieldPath,ot.endAt);qt.push(El.value),cn&&(cn=El.inclusive)}return new wd(qt,cn)}(v,_),_e=this.hn(_,v,H),Te=this.hn(_,v,Q),nt=this.ln(_,v,L),_t=this.fn(_.indexId,M,_e,H.inclusive,Te,Q.inclusive,nt);return de.forEach(_t,ot=>r.H(ot,n.limit).next(wt=>{wt.forEach(qt=>{const cn=tt.fromSegments(qt.documentKey);u.has(cn)||(u=u.add(cn),f.push(cn))})}))}).next(()=>f)}return de.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:_S(Gn.create(e.filters,"and")).map(r=>Bp(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,i,a,u,f){const _=(null!=n?n.length:1)*Math.max(r.length,a.length),v=_/(null!=n?n.length:1),S=[];for(let M=0;M<_;++M){const L=n?this.dn(n[M/v]):gw,H=this.wn(e,L,r[M%v],i),Q=this._n(e,L,a[M%v],u),_e=f.map(Te=>this.wn(e,L,Te,!0));S.push(...this.createRange(H,Q,_e))}return S}wn(e,n,r,i){const a=new hc(e,tt.empty(),n,r);return i?a:a.Je()}_n(e,n,r,i){const a=new hc(e,tt.empty(),n,r);return i?a.Je():a}an(e,n){const r=new FM(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let u=null;for(const f of a)r.tn(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,n){let r=2;const i=this.cn(n);return de.forEach(i,a=>this.an(e,a).next(u=>{u?0!==r&&u.fields.length<function(f){let _=new dr(Mr.comparator),v=!1;for(const S of f.filters)for(const M of S.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?v=!0:_=_.add(M.field));for(const S of f.orderBy)S.field.isKeyField()||(_=_.add(S.field));return _.size+(v?1:0)}(a)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}mn(e,n){const r=new fw;for(const i of pd(e)){const a=n.data.field(i.fieldPath);if(null==a)return null;const u=r.He(i.kind);pf.Ve._e(a,u)}return r.Qe()}dn(e){const n=new fw;return pf.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new fw;return pf.Ve._e(rf(this.databaseId,n),r.He(function(i){const a=pd(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(null===r)return[];let i=[];i.push(new fw);let a=0;for(const u of pd(e)){const f=r[a++];for(const _ of i)if(this.yn(n,u.fieldPath)&&Vm(f))i=this.pn(i,u,f);else{const v=_.He(u.kind);pf.Ve._e(f,v)}}return this.In(i)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const i=[...e],a=[];for(const u of r.arrayValue.values||[])for(const f of i){const _=new fw;_.seed(f.Qe()),pf.Ve._e(u,_.He(n.kind)),a.push(_)}return a}yn(e,n){return!!e.filters.find(r=>r instanceof _n&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=a_(e),i=l_(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(a=>{const u=[];return de.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{u.push(function(v,S){const M=S?new Pm(S.sequenceNumber,new Yo(Dd(S.readTime),new tt(au(S.documentKey)),S.largestBatchId)):Pm.empty(),L=v.fields.map(([H,Q])=>new Lv(Mr.fromServerFormat(H),Q));return new Ov(v.indexId,v.collectionGroup,L,M)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Kt(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=a_(e),a=l_(e);return this.Tn(e).next(u=>i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(f=>de.forEach(f,_=>a.put(hS(_.indexId,this.user,u,r)))))}updateIndexEntries(e,n){const r=new Map;return de.forEach(n,(i,a)=>{const u=r.get(i.collectionGroup);return(u?de.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),de.forEach(f,_=>this.En(e,i,_).next(v=>{const S=this.An(a,_);return v.isEqual(S)?de.resolve():this.vn(e,a,_,v,S)}))))})}Rn(e,n,r,i){return mw(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,i){return mw(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const i=mw(e);let a=new dr(fc);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(u,f)=>{a=a.add(new hc(r.indexId,n,f.arrayValue,f.directionalValue))}).next(()=>a)}An(e,n){let r=new dr(fc);const i=this.mn(n,e);if(null==i)return r;const a=Yb(n);if(null!=a){const u=e.data.field(a.fieldPath);if(Vm(u))for(const f of u.arrayValue.values||[])r=r.add(new hc(n.indexId,e.key,this.dn(f),i))}else r=r.add(new hc(n.indexId,e.key,gw,i));return r}vn(e,n,r,i,a){$e("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const u=[];return function(f,_,v,S,M){const L=f.getIterator(),H=_.getIterator();let Q=md(L),_e=md(H);for(;Q||_e;){let Te=!1,nt=!1;if(Q&&_e){const _t=v(Q,_e);_t<0?nt=!0:_t>0&&(Te=!0)}else null!=Q?nt=!0:Te=!0;Te?(S(_e),_e=md(H)):nt?(M(Q),Q=md(L)):(Q=md(L),_e=md(H))}}(i,a,fc,f=>{u.push(this.Rn(e,n,r,f))},f=>{u.push(this.Pn(e,n,r,f))}),de.waitFor(u)}Tn(e){let n=1;return l_(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((u,f)=>fc(u,f)).filter((u,f,_)=>!f||0!==fc(u,_[f-1]));const i=[];i.push(e);for(const u of r){const f=fc(u,e),_=fc(u,n);if(0===f)i[0]=e.Je();else if(f>0&&_<0)i.push(u),i.push(u.Je());else if(_>0)break}i.push(n);const a=[];for(let u=0;u<i.length;u+=2){if(this.bn(i[u],i[u+1]))return[];a.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,gw,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,gw,[]]))}return a}bn(e,n){return fc(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(wS)}getMinOffset(e,n){return de.mapArray(this.cn(n),r=>this.an(e,r).next(i=>i||vt())).next(wS)}}function UM(t){return qi(t,"collectionParents")}function mw(t){return qi(t,"indexEntries")}function a_(t){return qi(t,"indexConfiguration")}function l_(t){return qi(t,"indexState")}function wS(t){Ct(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Fv(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Yo(e.readTime,e.documentKey,n)}const bS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ks{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ks(e,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function VM(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),a=[],u=IDBKeyRange.only(n.batchId);let f=0;const _=r.X({range:u},(S,M,L)=>(f++,L.delete()));a.push(_.next(()=>{Ct(1===f)}));const v=[];for(const S of n.mutations){const M=ET(e,S.key.path,n.batchId);a.push(i.delete(M)),v.push(S.key)}return de.waitFor(a).next(()=>v)}function ZE(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw vt();e=t.noDocument}return JSON.stringify(e).length}Ks.DEFAULT_COLLECTION_PERCENTILE=10,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ks.DEFAULT=new Ks(41943040,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ks.DISABLED=new Ks(-1,0,0);class KE{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,n,r,i){Ct(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new KE(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sd(e).X({index:"userMutationsIndex",range:r},(i,a,u)=>{n=!1,u.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const a=pc(e),u=Sd(e);return u.add({}).next(f=>{Ct("number"==typeof f);const _=new nw(f,n,r,i),v=function(L,H,Q){const _e=Q.baseMutations.map(nt=>n_(L.fe,nt)),Te=Q.mutations.map(nt=>n_(L.fe,nt));return{userId:H,batchId:Q.batchId,localWriteTimeMs:Q.localWriteTime.toMillis(),baseMutations:_e,mutations:Te}}(this.serializer,this.userId,_),S=[];let M=new dr((L,H)=>Kt(L.canonicalString(),H.canonicalString()));for(const L of i){const H=ET(this.userId,L.key.path,f);M=M.add(L.key.path.popLast()),S.push(u.put(v)),S.push(a.put(H,Y1))}return M.forEach(L=>{S.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.Vn[f]=_.keys()}),de.waitFor(S).next(()=>_)})}lookupMutationBatch(e,n){return Sd(e).get(n).next(r=>r?(Ct(r.userId===this.userId),hf(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?de.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Sd(e).X({index:"userMutationsIndex",range:i},(u,f,_)=>{f.userId===this.userId&&(Ct(f.batchId>=r),a=hf(this.serializer,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Sd(e).X({index:"userMutationsIndex",range:n,reverse:!0},(i,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sd(e).j("userMutationsIndex",n).next(r=>r.map(i=>hf(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Bv(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return pc(e).X({range:i},(u,f,_)=>{const[v,S,M]=u,L=au(S);if(v===this.userId&&n.path.isEqual(L))return Sd(e).get(M).next(H=>{if(!H)throw vt();Ct(H.userId===this.userId),a.push(hf(this.serializer,H))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dr(Kt);const i=[];return n.forEach(a=>{const u=Bv(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=pc(e).X({range:f},(v,S,M)=>{const[L,H,Q]=v,_e=au(H);L===this.userId&&a.path.isEqual(_e)?r=r.add(Q):M.done()});i.push(_)}),de.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=Bv(this.userId,r),u=IDBKeyRange.lowerBound(a);let f=new dr(Kt);return pc(e).X({range:u},(_,v,S)=>{const[M,L,H]=_,Q=au(L);M===this.userId&&r.isPrefixOf(Q)?Q.length===i&&(f=f.add(H)):S.done()}).next(()=>this.Dn(e,f))}Dn(e,n){const r=[],i=[];return n.forEach(a=>{i.push(Sd(e).get(a).next(u=>{if(null===u)throw vt();Ct(u.userId===this.userId),r.push(hf(this.serializer,u))}))}),de.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return VM(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),de.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return de.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return pc(e).X({range:r},(a,u,f)=>{if(a[0]===this.userId){const _=au(a[1]);i.push(_)}else f.done()}).next(()=>{Ct(0===i.length)})})}containsKey(e,n){return BM(e,this.userId,n)}xn(e){return ES(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function BM(t,e,n){const r=Bv(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return pc(t).X({range:a,Y:!0},(f,_,v)=>{const[S,M,L]=f;S===e&&M===i&&(u=!0),v.done()}).next(()=>u)}function Sd(t){return qi(t,"mutations")}function pc(t){return qi(t,"documentMutations")}function ES(t){return qi(t,"mutationQueues")}class gf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new gf(0)}static Mn(){return new gf(-1)}}class IS{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new gf(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>Rt.fromTimestamp(new br(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.On(e,i)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ra(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(Ct(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let i=0;const a=[];return Ra(e).X((u,f)=>{const _=ff(f);_.sequenceNumber<=n&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>de.waitFor(a)).next(()=>i)}forEachTarget(e,n){return Ra(e).X((r,i)=>{const a=ff(i);n(a)})}$n(e){return YE(e).get("targetGlobalKey").next(n=>(Ct(null!==n),n))}On(e,n){return YE(e).put("targetGlobalKey",n)}Fn(e,n){return Ra(e).put(dc(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=af(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Ra(e).X({range:i,index:"queryTargetsIndex"},(u,f,_)=>{const v=ff(f);Hm(n,v.target)&&(a=v,_.done())}).next(()=>a)}addMatchingKeys(e,n,r){const i=[],a=fu(e);return n.forEach(u=>{const f=Ss(u.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,u))}),de.waitFor(i)}removeMatchingKeys(e,n,r){const i=fu(e);return de.forEach(n,a=>{const u=Ss(a.path);return de.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,n){const r=fu(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=fu(e);let a=nn();return i.X({range:r,Y:!0},(u,f,_)=>{const v=au(u[1]),S=new tt(v);a=a.add(S)}).next(()=>a)}containsKey(e,n){const r=Ss(n.path),i=IDBKeyRange.bound([r],[mT(r)],!1,!0);let a=0;return fu(e).X({index:"documentTargetsIndex",Y:!0,range:i},([u,f],_,v)=>{0!==u&&(a++,v.done())}).next(()=>a>0)}le(e,n){return Ra(e).get(n).next(r=>r?ff(r):null)}}function Ra(t){return qi(t,"targets")}function YE(t){return qi(t,"targetGlobal")}function fu(t){return qi(t,"targetDocuments")}function _w([t,e],[n,r]){const i=Kt(t,n);return 0===i?Kt(e,r):i}class jM{constructor(e){this.Ln=e,this.buffer=new dr(_w),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();_w(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yw{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var n=this;$e("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Se.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){gd(r)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield xa(r)}yield n.Qn(3e5)}))}}class QE{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return de.resolve(Qo.ct);const r=new jM(n);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(bS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bS):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,i,a,u,f,_,v;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,u=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,f=Date.now(),this.removeTargets(e,r,n))).next(M=>(a=M,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(v=Date.now(),kv()<=fl.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-S}ms\n\tDetermined least recently used ${i} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${M} documents in `+(v-_)+`ms\nTotal Duration: ${v-S}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:M})))}}class sO{constructor(e,n){this.db=e,this.garbageCollector=function u_(t,e){return new QE(t,e)}(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,i)=>n(i))}addReference(e,n,r){return JE(e,r)}removeReference(e,n,r){return JE(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return JE(e,n)}Xn(e,n){return function(r,i){let a=!1;return ES(r).Z(u=>BM(r,u,i).next(f=>(f&&(a=!0),de.resolve(!f)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Yn(e,(u,f)=>{if(f<=n){const _=this.Xn(e,u).next(v=>{if(!v)return a++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Rt.min()),fu(e).delete([0,Ss(u.path)])))});i.push(_)}}).next(()=>de.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return JE(e,n)}Yn(e,n){const r=fu(e);let i,a=Qo.ct;return r.X({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:v})=>{0===u?(a!==Qo.ct&&n(new tt(au(i)),a),a=v,i=_):a=Qo.ct}).next(()=>{a!==Qo.ct&&n(new tt(au(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function JE(t,e){return fu(t).put((r=t.currentSequenceNumber,{targetId:0,path:Ss(e.path),sequenceNumber:r}));var r}class HM{constructor(){this.changes=new du(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class CS{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return mf(e).put(r)}removeEntry(e,n,r){return mf(e).delete(function(i,a){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],i_(a),u[u.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=hr.newInvalidDocument(n);return mf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Yp(n))},(i,a)=>{r=this.ts(n,a)}).next(()=>r)}es(e,n){let r={size:0,document:hr.newInvalidDocument(n)};return mf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Yp(n))},(i,a)=>{r={document:this.ts(n,a),size:ZE(a)}}).next(()=>r)}getEntries(e,n){let r=wo();return this.ns(e,n,(i,a)=>{const u=this.ts(i,a);r=r.insert(i,u)}).next(()=>r)}ss(e,n){let r=wo(),i=new sr(tt.comparator);return this.ns(e,n,(a,u)=>{const f=this.ts(a,u);r=r.insert(a,f),i=i.insert(a,ZE(u))}).next(()=>({documents:r,rs:i}))}ns(e,n,r){if(n.isEmpty())return de.resolve();let i=new dr(eI);n.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(Yp(i.first()),Yp(i.last())),u=i.getIterator();let f=u.getNext();return mf(e).X({index:"documentKeyIndex",range:a},(_,v,S)=>{const M=tt.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&eI(f,M)<0;)r(f,null),f=u.getNext();f&&f.isEqual(M)&&(r(f,v),f=u.hasNext()?u.getNext():null),f?S.G(Yp(f)):S.done()}).next(()=>{for(;f;)r(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,n,r,i){const a=n.path,u=[a.popLast().toArray(),a.lastSegment(),i_(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return mf(e).j(IDBKeyRange.bound(u,f,!0)).next(_=>{let v=wo();for(const S of _){const M=this.ts(tt.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);M.isFoundDocument()&&(Hp(n,M)||i.has(M.key))&&(v=v.insert(M.key,M))}return v})}getAllFromCollectionGroup(e,n,r,i){let a=wo();const u=XE(n,r),f=XE(n,Yo.max());return mf(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,v,S)=>{const M=this.ts(tt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(M.key,M),a.size===i&&S.done()}).next(()=>a)}newChangeBuffer(e){return new $M(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return TS(e).get("remoteDocumentGlobalKey").next(n=>(Ct(!!n),n))}Zn(e,n){return TS(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=function bo(t,e){let n;if(e.document)n=aS(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=tt.fromSegments(e.noDocument.path),i=Dd(e.noDocument.readTime);n=hr.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return vt();{const r=tt.fromSegments(e.unknownDocument.path),i=Dd(e.unknownDocument.version);n=hr.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new br(r[0],r[1]);return Rt.fromTimestamp(i)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(Rt.min()))return r}return hr.newInvalidDocument(e)}}function DS(t){return new CS(t)}class $M extends HM{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new du(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new dr((a,u)=>Kt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.us.get(a);if(n.push(this.os.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=BE(this.os.serializer,u);i=i.add(a.path.popLast());const v=ZE(_);r+=v-f.size,n.push(this.os.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=BE(this.os.serializer,u.convertToNoDocument(Rt.min()));n.push(this.os.addEntry(e,a,_))}}),i.forEach(a=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),n.push(this.os.updateMetadata(e,r)),de.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:i})=>(i.forEach((a,u)=>{this.us.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function TS(t){return qi(t,"remoteDocumentGlobal")}function mf(t){return qi(t,"remoteDocumentsV14")}function Yp(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function XE(t,e){const n=e.documentKey.path.toArray();return[t,i_(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function eI(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=Kt(n[a],r[a]),i)return i;return i=Kt(n.length,r.length),i||(i=Kt(n[n.length-2],r[r.length-2]),i||Kt(n[n.length-1],r[r.length-1]))}class GM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class SS{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Qm(r.mutation,i,Zs.empty(),br.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,nn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=nn()){const i=yl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let u=$p();return a.forEach((f,_)=>{u=u.insert(f,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=yl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,nn()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,f)=>{n.set(u,f)})})}computeViews(e,n,r,i){let a=wo();const u=Ai(),f=Ai();return n.forEach((_,v)=>{const S=r.get(v.key);i.has(v.key)&&(void 0===S||S.mutation instanceof lc)?a=a.insert(v.key,v):void 0!==S?(u.set(v.key,S.mutation.getFieldMask()),Qm(S.mutation,v,S.mutation.getFieldMask(),br.now())):u.set(v.key,Zs.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((v,S)=>u.set(v,S)),n.forEach((v,S)=>{var M;return f.set(v,new GM(S,null!==(M=u.get(v))&&void 0!==M?M:null))}),f))}recalculateAndSaveOverlays(e,n){const r=Ai();let i=new sr((u,f)=>u-f),a=nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const f of u)f.keys().forEach(_=>{const v=n.get(_);if(null===v)return;let S=r.get(_)||Zs.empty();S=f.applyToLocalView(v,S),r.set(_,S);const M=(i.get(f.batchId)||nn()).add(_);i=i.insert(f.batchId,M)})}).next(()=>{const u=[],f=i.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),v=_.key,S=_.value,M=WT();S.forEach(L=>{if(!a.has(L)){const H=AE(n.get(L),r.get(L));null!==H&&M.set(L,H),a=a.add(L)}}),u.push(this.documentOverlayCache.saveOverlays(e,v,M))}return de.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return tt.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):zm(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):de.resolve(yl());let f=-1,_=a;return u.next(v=>de.forEach(v,(S,M)=>(f<M.largestBatchId&&(f=M.largestBatchId),a.get(S)?de.resolve():this.remoteDocumentCache.getEntry(e,S).next(L=>{_=_.insert(S,L)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,_,v,nn())).next(S=>({batchId:f,changes:qT(S)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new tt(n)).next(r=>{let i=$p();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let a=$p();return this.indexManager.getCollectionParents(e,i).next(u=>de.forEach(u,f=>{const _=(v=n,S=f.child(i),new ac(S,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,S;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(v=>{v.forEach((S,M)=>{a=a.insert(S,M)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(a=>{i.forEach((f,_)=>{const v=_.getKey();null===a.get(v)&&(a=a.insert(v,hr.newInvalidDocument(v)))});let u=$p();return a.forEach((f,_)=>{const v=i.get(f);void 0!==v&&Qm(v.mutation,_,Zs.empty(),br.now()),Hp(n,_)&&(u=u.insert(f,_))}),u})}}class AS{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return de.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:$r(r.createTime)}),de.resolve()}getNamedQuery(e,n){return de.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:cw(r.bundledQuery),readTime:$r(r.readTime)}),de.resolve();var r}}class tI{constructor(){this.overlays=new sr(tt.comparator),this.ls=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yl();return de.forEach(n,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.we(e,n,a)}),de.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const i=yl(),a=n.length+1,u=new tt(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,v=_.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return de.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new sr((v,S)=>v-S);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>r){let S=a.get(v.largestBatchId);null===S&&(S=yl(),a=a.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const f=yl(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,S)=>f.set(v,S)),!(f.size()>=i)););return de.resolve(f)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new rw(n,r));let a=this.ls.get(n);void 0===a&&(a=nn(),this.ls.set(n,a)),this.ls.set(n,a.add(r.key))}}class xS{constructor(){this.fs=new dr(xi.ds),this.ws=new dr(xi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new xi(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new xi(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new tt(new Dn([])),r=new xi(n,e),i=new xi(n,e+1),a=[];return this.ws.forEachInRange([r,i],u=>{this.ys(u),a.push(u.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new tt(new Dn([])),r=new xi(n,e),i=new xi(n,e+1);let a=nn();return this.ws.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new xi(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class xi{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return tt.comparator(e.key,n.key)||Kt(e.As,n.As)}static _s(e,n){return Kt(e.As,n.As)||tt.comparator(e.key,n.key)}}class nI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new dr(xi.ds)}checkEmpty(e){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const a=this.vs;this.vs++;const u=new nw(a,n,r,i);this.mutationQueue.push(u);for(const f of i)this.Rs=this.Rs.add(new xi(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,n){return de.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),a=i<0?0:i;return de.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xi(n,0),i=new xi(n,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],u=>{const f=this.Ps(u.As);a.push(f)}),de.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dr(Kt);return n.forEach(i=>{const a=new xi(i,0),u=new xi(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,u],f=>{r=r.add(f.As)})}),de.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;tt.isDocumentKey(a)||(a=a.child(""));const u=new xi(new tt(a),0);let f=new dr(Kt);return this.Rs.forEachWhile(_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(f=f.add(_.As)),!0)},u),de.resolve(this.Vs(f))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Ct(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return de.forEach(n.mutations,i=>{const a=new xi(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new xi(n,0),i=this.Rs.firstAfterOrEqual(r);return de.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return de.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class zM{constructor(e){this.Ds=e,this.docs=new sr(tt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,u=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():hr.newInvalidDocument(n))}getEntries(e,n){let r=wo();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():hr.newInvalidDocument(i))}),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=wo();const u=n.path,f=new tt(u.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!u.isPrefixOf(v.path))break;v.path.length>u.length+1||Fv(z1(S),r)<=0||(i.has(S.key)||Hp(n,S))&&(a=a.insert(S.key,S.mutableCopy()))}return de.resolve(a)}getAllFromCollectionGroup(e,n,r,i){vt()}Cs(e,n){return de.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new qM(this)}getSize(e){return de.resolve(this.size)}}class qM extends HM{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),de.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class oO{constructor(e){this.persistence=e,this.xs=new du(n=>af(n),Hm),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new xS,this.targetCount=0,this.Ms=gf.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),de.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new gf(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Fn(n),de.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.xs.forEach((u,f)=>{f.sequenceNumber<=n&&null===r.get(f.targetId)&&(this.xs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),de.waitFor(a).next(()=>i)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),de.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.ks.containsKey(n))}}class MS{constructor(e,n){this.$s={},this.overlays={},this.Os=new Qo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new oO(this),this.indexManager=new vS,this.remoteDocumentCache=new zM(r=>this.referenceDelegate.Ls(r)),this.serializer=new PM(n),this.qs=new AS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new nI(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){$e("MemoryPersistence","Starting transaction:",e);const i=new WM(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,n){return de.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class WM extends vT{constructor(e){super(),this.currentSequenceNumber=e}}class vw{constructor(e){this.persistence=e,this.Qs=new xS,this.js=null}static zs(e){return new vw(e)}get Ws(){if(this.js)return this.js;throw vt()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),de.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Ws,r=>{const i=tt.fromPath(r);return this.Hs(e,i).next(a=>{a||n.removeEntry(i,Rt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return de.or([()=>de.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class ZM{constructor(e){this.serializer=e}O(e,n,r,i){const a=new Uv("createOrUpgrade",n);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bT,{unique:!0}),f.createObjectStore("documentMutations"),rI(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=de.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),rI(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",v)}(a))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(f,_){return _.store("mutations").j().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bT,{unique:!0});const S=_.store("mutations"),M=v.map(L=>S.put(L));return de.waitFor(M)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Ys(a))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),r<7&&i>=7&&(u=u.next(()=>this.Zs(a))),r<8&&i>=8&&(u=u.next(()=>this.ti(e,a))),r<9&&i>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.ei(a))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:TT});_.createIndex("collectionPathOverlayIndex",rE,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",rM,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:IT});_.createIndex("documentKeyIndex",CT),_.createIndex("collectionGroupIndex",Q1)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.si(e,a))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:tM}).createIndex("sequenceNumberIndex",nM,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:tE}).createIndex("documentKeyIndex",nE,{unique:!1})}(e))),u}Xs(e){let n=0;return e.store("remoteDocuments").X((r,i)=>{n+=ZE(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(i=>de.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",u).next(f=>de.forEach(f,_=>{Ct(_.userId===a.userId);const v=hf(this.serializer,_);return VM(e,a.userId,v).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((u,f)=>{const _=new Dn(u),v=[0,Ss(_)];a.push(n.get(v).next(S=>S?de.resolve():n.put({targetId:0,path:Ss(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>de.waitFor(a))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:eM});const r=n.store("collectionParents"),i=new WE,a=u=>{if(i.add(u)){const f=u.lastSegment(),_=u.popLast();return r.put({collectionId:f,parent:Ss(_)})}};return n.store("remoteDocuments").X({Y:!0},(u,f)=>{const _=new Dn(u);return a(_.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([u,f,_],v)=>{const S=au(f);return a(S.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,i)=>{const a=ff(i),u=dc(this.serializer,a);return n.put(u)})}ni(e,n){const r=n.store("remoteDocuments"),i=[];return r.X((a,u)=>{const f=n.store("remoteDocumentsV14"),_=(v=u,v.document?new tt(Dn.fromString(v.document.name).popFirst(5)):v.noDocument?tt.fromSegments(v.noDocument.path):v.unknownDocument?tt.fromSegments(v.unknownDocument.path):vt()).path.toArray();var v;const S={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(f.put(S))}).next(()=>de.waitFor(i))}si(e,n){const r=n.store("mutations"),i=DS(this.serializer),a=new MS(vw.zs,this.serializer.fe);return r.j().next(u=>{const f=new Map;return u.forEach(_=>{var v;let S=null!==(v=f.get(_.userId))&&void 0!==v?v:nn();hf(this.serializer,_).keys().forEach(M=>S=S.add(M)),f.set(_.userId,S)}),de.forEach(f,(_,v)=>{const S=new Si(v),M=hw.de(this.serializer,S),L=a.getIndexManager(S),H=KE.de(S,this.serializer,L,a.referenceDelegate);return new SS(i,H,M,L).recalculateAndSaveOverlaysForDocumentKeys(new jv(n,Qo.ct),_).next()})})}}function rI(t){t.createObjectStore("targetDocuments",{keyPath:DT}).createIndex("documentTargetsIndex",X1,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",J1,{unique:!0}),t.createObjectStore("targetGlobal")}const bw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class iI{constructor(e,n,r,i,a,u,f,_,v,S,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=u,this.document=f,this.ri=v,this.oi=S,this.ui=M,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=L=>Promise.resolve(),!iI.D())throw new Oe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sO(this,i),this.di=n+"main",this.serializer=new PM(_),this.wi=new Ma(this.di,this.ui,new ZM(this.serializer)),this.Bs=new IS(this.referenceDelegate,this.serializer),this.remoteDocumentCache=DS(this.serializer),this.qs=new rO,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===S&&jr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,bw);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Qo(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var n=this;return this.fi=function(){var r=(0,Se.Z)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var n=(0,Se.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Se.Z)(function*(){n.started&&(yield n.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>c_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(gd(e))return $e("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Qp(e).get("owner").next(n=>de.resolve(this.Ri(n)))}Pi(e){return c_(e).delete(this.clientId)}bi(){var e=this;return(0,Se.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=qi(r,"clientMetadata");return i.j().next(a=>{const u=e.Si(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return de.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const r of n)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?de.resolve(!0):Qp(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,bw);return!1}}return!(!this.networkEnabled||!this.inForeground)||c_(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&$e("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,Se.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new jv(n,Qo.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>c_(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return KE.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new iO(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return hw.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){$e("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",a=15===(u=this.ui)?ef:14===u?sE:13===u?AT:12===u?iE:11===u?ST:void vt();var u;let f;return this.wi.runTransaction(e,i,a,_=>(f=new jv(_,this.Os?this.Os.next():Qo.ct),"readwrite-primary"===n?this.Ti(f).next(v=>!!v||this.Ei(f)).next(v=>{if(!v)throw jr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Oe(me.FAILED_PRECONDITION,yT);return r(f)}).next(v=>this.vi(f).next(()=>v)):this.Oi(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Oi(e){return Qp(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Oe(me.FAILED_PRECONDITION,bw)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qp(e).put("owner",n)}static D(){return Ma.D()}Ai(e){const n=Qp(e);return n.get("owner").next(r=>this.Ri(r)?($e("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):de.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n||e>r&&(jr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,U.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=null!==(null===(n=this._i)||void 0===n?void 0:n.getItem(this.Di(e)));return $e("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return jr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){jr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Qp(t){return qi(t,"owner")}function c_(t){return qi(t,"clientMetadata")}function RS(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class sI{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=nn(),i=nn();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new sI(e,n.fromCache,r,i)}}class Ew{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(a=>a||this.Gi(e,n,i,r)).next(a=>a||this.Qi(e,n))}Ki(e,n){if(HT(n))return de.resolve(null);let r=us(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Zv(n,null,"F"),r=us(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=nn(...a);return this.Ui.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(_=>{const v=this.ji(n,f);return this.zi(n,v,u,_.readTime)?this.Ki(e,Zv(n,null,"F")):this.Wi(e,v,n,_)}))})))}Gi(e,n,r,i){return HT(n)||i.isEqual(Rt.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(a=>{const u=this.ji(n,a);return this.zi(n,u,r,i)?this.Qi(e,n):(kv()<=fl.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wE(n)),this.Wi(e,u,n,_T(i,-1)))})}ji(e,n){let r=new dr(bE(e));return n.forEach((i,a)=>{Hp(e,a)&&(r=r.add(a))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const a="F"===e.limitType?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,n){return kv()<=fl.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",wE(n)),this.Ui.getDocumentsMatchingQuery(e,n,Yo.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}class NS{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new sr(Kt),this.Yi=new du(a=>af(a),Hm),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SS(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function oI(t,e,n,r){return new NS(t,e,n,r)}function kS(t,e){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,Se.Z)(function*(t,e){const n=lt(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let _=nn();for(const v of i){u.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of a){f.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return n.localDocuments.getDocuments(r,_).next(v=>({er:v,removedBatchIds:u,addedBatchIds:f}))})})}),Jp.apply(this,arguments)}function PS(t){const e=lt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function aI(t,e,n){let r=nn(),i=nn();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let u=wo();return n.forEach((f,_)=>{const v=a.get(f);_.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(f)),_.isNoDocument()&&_.version.isEqual(Rt.min())?(e.removeEntry(f,_.readTime),u=u.insert(f,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||0===_.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(_),u=u.insert(f,_)):$e("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",_.version)}),{nr:u,sr:i}})}function aO(t,e){const n=lt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xp(t,e){const n=lt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(a=>a?(i=a,de.resolve(i)):n.Bs.allocateTargetId(r).next(u=>(i=new hu(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}function d_(t,e,n){return lI.apply(this,arguments)}function lI(){return lI=(0,Se.Z)(function*(t,e,n){const r=lt(t),i=r.Ji.get(e),a=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!gd(u))throw u;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),lI.apply(this,arguments)}function uI(t,e,n){const r=lt(t);let i=Rt.min(),a=nn();return r.persistence.runTransaction("Execute query","readonly",u=>function(f,_,v){const S=lt(f),M=S.Yi.get(v);return void 0!==M?de.resolve(S.Ji.get(M)):S.Bs.getTargetData(_,v)}(r,u,us(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(u,e,n?i:Rt.min(),n?a:nn())).next(f=>(FS(r,Kv(e),f),{documents:f,ir:a})))}function YM(t,e){const n=lt(t),r=lt(n.Bs),i=n.Ji.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",a=>r.le(a,e).next(u=>u?u.target:null))}function LS(t,e){const n=lt(t),r=n.Xi.get(e)||Rt.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Zi.getAllFromCollectionGroup(i,e,_T(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(FS(n,e,i),i))}function FS(t,e,n){let r=t.Xi.get(e)||Rt.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Xi.set(e,r)}function US(){return US=(0,Se.Z)(function*(t,e,n,r){const i=lt(t);let a=nn(),u=wo();for(const v of n){const S=e.rr(v.metadata.name);v.document&&(a=a.add(S));const M=e.ur(v);M.setReadTime(e.cr(v.metadata.readTime)),u=u.insert(S,M)}const f=i.Zi.newChangeBuffer({trackRemovals:!0}),_=yield Xp(i,(v=r,us(lf(Dn.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>aI(v,f,u).next(S=>(f.apply(v),S)).next(S=>i.Bs.removeMatchingKeysForTargetId(v,_.targetId).next(()=>i.Bs.addMatchingKeys(v,a,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(v,S.nr,S.sr)).next(()=>S.nr)))}),US.apply(this,arguments)}function lO(t,e){return VS.apply(this,arguments)}function VS(){return VS=(0,Se.Z)(function*(t,e,n=nn()){const r=yield Xp(t,us(cw(e.bundledQuery))),i=lt(t);return i.persistence.runTransaction("Save named query","readwrite",a=>{const u=$r(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.qs.saveNamedQuery(a,e);const f=r.withResumeToken(yi.EMPTY_BYTE_STRING,u);return i.Ji=i.Ji.insert(f.targetId,f),i.Bs.updateTargetData(a,f).next(()=>i.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Bs.addMatchingKeys(a,n,r.targetId)).next(()=>i.qs.saveNamedQuery(a,e))})}),VS.apply(this,arguments)}function JM(t,e){return`firestore_clients_${t}_${e}`}function BS(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function jS(t,e){return`firestore_targets_${t}_${e}`}class cI{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static ar(e,n,r){const i=JSON.parse(r);let a,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new Oe(i.error.code,i.error.message))),u?new cI(e,n,i.state,a):(jr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Iw{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static ar(e,n){const r=JSON.parse(n);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Oe(r.error.code,r.error.message))),a?new Iw(e,r.state,i):(jr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dI{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ZT();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=eE(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new dI(e,a):(jr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class HS{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new HS(n.clientId,n.onlineState):(jr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class hI{constructor(){this.activeTargetIds=ZT()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $S{constructor(e,n,r,i,a){this.window=e,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new sr(Kt),this.started=!1,this.yr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=JM(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new hI),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Se.Z)(function*(){const n=yield e.syncEngine.$i();for(const i of n){if(i===e.wr)continue;const a=e.getItem(JM(e.persistenceKey,i));if(a){const u=dI.ar(i,a);u&&(e.gr=e.gr.insert(u.clientId,u))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,r){this.Dr(e,n,r),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(jS(this.persistenceKey,e));if(r){const i=Iw.ar(e,r);i&&(n=i.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jS(this.persistenceKey,e))}updateQueryState(e,n,r){this.kr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return $e("SharedClientState","READ",e,n),n}setItem(e,n){$e("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){$e("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var n=this;const r=e;if(r.storageArea===this.storage){if($e("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void jr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Se.Z)(function*(){if(n.started){if(null!==r.key)if(n.Tr.test(r.key)){if(null==r.newValue){const i=n.Or(r.key);return n.Fr(i,null)}{const i=n.Br(r.key,r.newValue);if(i)return n.Fr(i.clientId,i)}}else if(n.Er.test(r.key)){if(null!==r.newValue){const i=n.Lr(r.key,r.newValue);if(i)return n.qr(i)}}else if(n.Ar.test(r.key)){if(null!==r.newValue){const i=n.Ur(r.key,r.newValue);if(i)return n.Kr(i)}}else if(r.key===n.vr){if(null!==r.newValue){const i=n.br(r.newValue);if(i)return n.Vr(i)}}else if(r.key===n.Ir){const i=function(a){let u=Qo.ct;if(null!=a)try{const f=JSON.parse(a);Ct("number"==typeof f),u=f}catch(f){jr("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(r.newValue);i!==Qo.ct&&n.sequenceNumberHandler(i)}else if(r.key===n.Rr){const i=n.Gr(r.newValue);yield Promise.all(i.map(a=>n.syncEngine.Qr(a)))}}else n.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,r){const i=new cI(this.currentUser,e,n,r),a=BS(this.persistenceKey,this.currentUser,e);this.setItem(a,i.hr())}Cr(e){const n=BS(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,n,r){const i=jS(this.persistenceKey,e),a=new Iw(e,n,r);this.setItem(i,a.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const r=this.Or(e);return dI.ar(r,n)}Lr(e,n){const r=this.Er.exec(e),i=Number(r[1]);return cI.ar(new Si(void 0!==r[2]?r[2]:null),i,n)}Ur(e,n){const r=this.Ar.exec(e),i=Number(r[1]);return Iw.ar(i,n)}br(e){return HS.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var n=this;return(0,Se.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.jr(e.batchId,e.state,e.error);$e("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const r=n?this.gr.insert(e,n):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),u=[],f=[];return a.forEach(_=>{i.has(_)||u.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Wr(u,f).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=ZT();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class s{constructor(){this.Hr=new hI,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new hI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class o{Yr(e){}shutdown(){}}class l{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let c=null;function h(){return null===c?c=268435456+Math.round(2147483648*Math.random()):c++,"0x"+c.toString(16)}const g={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class y{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const E="WebChannelConnection";class D extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,a){const u=h(),f=this.To(e,n);$e("RestConnection",`Sending RPC '${e}' ${u}:`,f,r);const _={};return this.Eo(_,i,a),this.Ao(e,f,_,r).then(v=>($e("RestConnection",`Received RPC '${e}' ${u}: `,v),v),v=>{throw Aa("RestConnection",`RPC '${e}' ${u} failed with error: `,v,"url: ",f,"request:",r),v})}vo(e,n,r,i,a,u){return this.Io(e,n,r,i,a)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,n){return`${this.mo}/v1/${n}:${g[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const a=h();return new Promise((u,f)=>{const _=new Rv;_.setWithCredentials(!0),_.listenOnce(L1.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case hd.NO_ERROR:const S=_.getResponseJson();$e(E,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(S)),u(S);break;case hd.TIMEOUT:$e(E,`RPC '${e}' ${a} timed out`),f(new Oe(me.DEADLINE_EXCEEDED,"Request time out"));break;case hd.HTTP_ERROR:const M=_.getStatus();if($e(E,`RPC '${e}' ${a} failed with status:`,M,"response text:",_.getResponseText()),M>0){let L=_.getResponseJson();Array.isArray(L)&&(L=L[0]);const H=L?.error;if(H&&H.status&&H.message){const Q=function(_e){const Te=_e.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(Te)>=0?Te:me.UNKNOWN}(H.status);f(new Oe(Q,H.message))}else f(new Oe(me.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new Oe(me.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{$e(E,`RPC '${e}' ${a} completed.`)}});const v=JSON.stringify(i);$e(E,`RPC '${e}' ${a} sending request:`,i),_.send(n,"POST",v,r,15)})}Ro(e,n,r){const i=h(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=cT(),f=JP(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.xmlHttpFactory=new Pp({})),this.Eo(_.initMessageHeaders,n,r),_.encodeInitMessageHeaders=!0;const S=a.join("");$e(E,`Creating RPC '${e}' stream ${i}: ${S}`,_);const M=u.createWebChannel(S,_);let L=!1,H=!1;const Q=new y({ro:Te=>{H?$e(E,`Not sending because RPC '${e}' stream ${i} is closed:`,Te):(L||($e(E,`Opening RPC '${e}' stream ${i} transport.`),M.open(),L=!0),$e(E,`RPC '${e}' stream ${i} sending:`,Te),M.send(Te))},oo:()=>M.close()}),_e=(Te,nt,_t)=>{Te.listen(nt,ot=>{try{_t(ot)}catch(wt){setTimeout(()=>{throw wt},0)}})};return _e(M,Mv.EventType.OPEN,()=>{H||$e(E,`RPC '${e}' stream ${i} transport opened.`)}),_e(M,Mv.EventType.CLOSE,()=>{H||(H=!0,$e(E,`RPC '${e}' stream ${i} transport closed`),Q.wo())}),_e(M,Mv.EventType.ERROR,Te=>{H||(H=!0,Aa(E,`RPC '${e}' stream ${i} transport errored:`,Te),Q.wo(new Oe(me.UNAVAILABLE,"The operation could not be completed")))}),_e(M,Mv.EventType.MESSAGE,Te=>{var nt;if(!H){const _t=Te.data[0];Ct(!!_t);const wt=_t.error||(null===(nt=_t[0])||void 0===nt?void 0:nt.error);if(wt){$e(E,`RPC '${e}' stream ${i} received error:`,wt);const qt=wt.status;let cn=function(El){const Xw=vi[El];if(void 0!==Xw)return ME(Xw)}(qt),Zi=wt.message;void 0===cn&&(cn=me.INTERNAL,Zi="Unknown error status: "+qt+" with message "+wt.message),H=!0,Q.wo(new Oe(cn,Zi)),M.close()}else $e(E,`RPC '${e}' stream ${i} received:`,_t),Q._o(_t)}}),_e(f,F1.STAT_EVENT,Te=>{Te.stat===dT.PROXY?$e(E,`RPC '${e}' stream ${i} detected buffering proxy`):Te.stat===dT.NOPROXY&&$e(E,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{Q.fo()},0),Q}}function R(){return typeof window<"u"?window:null}function P(){return typeof document<"u"?document:null}function $(t){return new uw(t,!0)}class J{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&$e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class te{constructor(e,n,r,i,a,u,f,_){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new J(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Se.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Se.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return(0,Se.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===me.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new Oe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,Se.Z)(function*(){e.state=0,e.start()}))}tu(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ae extends te{constructor(e,n,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,u),this.serializer=a}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function SM(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:vt(),i=e.targetChange.targetIds||[],a=function(_,v){return _.useProto3Json?(Ct(void 0===v||"string"==typeof v),yi.fromBase64String(v||"")):(Ct(void 0===v||v instanceof Uint8Array),yi.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const v=void 0===_.code?me.UNKNOWN:ME(_.code);return new Oe(v,_.message||"")}(u);n=new wM(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=uc(t,r.document.name),a=$r(r.document.updateTime),u=r.document.createTime?$r(r.document.createTime):Rt.min(),f=new As({mapValue:{fields:r.document.fields}}),_=hr.newFoundDocument(i,a,u,f);n=new NE(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=uc(t,r.document),a=r.readTime?$r(r.readTime):Rt.min(),u=hr.newNoDocument(i,a);n=new NE([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=uc(t,r.document);n=new NE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return vt();{const r=e.filter,{count:i=0,unchangedNames:a}=r,u=new mM(i,a);n=new vM(r.targetId,u)}}var _;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Rt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Rt.min():a.readTime?$r(a.readTime):Rt.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Id(this.serializer),n.addTarget=function(i,a){let u;const f=a.target;if(u=$m(f)?{documents:lS(i,f)}:{query:UE(i,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=CM(i,a.resumeToken);const _=OE(i,a.expectedCount);null!==_&&(u.expectedCount=_)}else if(a.snapshotVersion.compareTo(Rt.min())>0){u.readTime=e_(i,a.snapshotVersion.toTimestamp());const _=OE(i,a.expectedCount);null!==_&&(u.expectedCount=_)}return u}(this.serializer,e);const r=function xM(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Id(this.serializer),n.removeTarget=e,this.Wo(n)}}class ze extends te{constructor(e,n,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,u),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function AM(t,e){return t&&t.length>0?(Ct(void 0!==e),t.map(n=>function(r,i){let a=$r(r.updateTime?r.updateTime:i);return a.isEqual(Rt.min())&&(a=$r(i)),new SE(a,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=$r(e.commitTime);return this.listener.cu(r,n)}return Ct(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Id(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>n_(this.serializer,r))};this.Wo(n)}}class ut extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,n,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(me.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.vo(e,n,r,a,u,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Oe(me.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class Zt{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(jr(n),this.mu=!1):$e("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class un{constructor(e,n,r,i,a){var u=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{r.enqueueAndForget((0,Se.Z)(function*(){var _;tg(u)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Se.Z)(function*(v){const S=lt(v);S.vu.add(4),yield Eo(S),S.bu.set("Unknown"),S.vu.delete(4),yield Tn(S)}),function(v){return _.apply(this,arguments)})(u))}))}),this.bu=new Zt(r,i)}}function Tn(t){return xs.apply(this,arguments)}function xs(){return xs=(0,Se.Z)(function*(t){if(tg(t))for(const e of t.Ru)yield e(!0)}),xs.apply(this,arguments)}function Eo(t){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,Se.Z)(function*(t){for(const e of t.Ru)yield e(!1)}),Ad.apply(this,arguments)}function eg(t,e){const n=lt(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),eR(n)?XM(n):Dw(n).Ko()&&fI(n,e))}function h_(t,e){const n=lt(t),r=Dw(n);n.Au.delete(e),r.Ko()&&uO(n,e),0===n.Au.size&&(r.Ko()?r.jo():tg(n)&&n.bu.set("Unknown"))}function fI(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dw(t).su(e)}function uO(t,e){t.Vu.qt(e),Dw(t).iu(e)}function XM(t){t.Vu=new nO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Dw(t).start(),t.bu.gu()}function eR(t){return tg(t)&&!Dw(t).Uo()&&t.Au.size>0}function tg(t){return 0===lt(t).vu.size}function cO(t){t.Vu=void 0}function oV(t){return tR.apply(this,arguments)}function tR(){return tR=(0,Se.Z)(function*(t){t.Au.forEach((e,n)=>{fI(t,e)})}),tR.apply(this,arguments)}function aV(t,e){return nR.apply(this,arguments)}function nR(){return nR=(0,Se.Z)(function*(t,e){cO(t),eR(t)?(t.bu.Iu(e),XM(t)):t.bu.set("Unknown")}),nR.apply(this,arguments)}function lV(t,e,n){return rR.apply(this,arguments)}function rR(){return rR=(0,Se.Z)(function*(t,e,n){if(t.bu.set("Online"),e instanceof wM&&2===e.state&&e.cause)try{yield(r=(0,Se.Z)(function*(i,a){const u=a.cause;for(const f of a.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,u),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(t,e)}catch(r){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield GS(t,r)}else if(e instanceof NE?t.Vu.Ht(e):e instanceof vM?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Rt.min()))try{const r=yield PS(t.localStore);n.compareTo(r)>=0&&(yield function(i,a){const u=i.Vu.ce(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const v=i.Au.get(_);v&&i.Au.set(_,v.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach((f,_)=>{const v=i.Au.get(f);if(!v)return;i.Au.set(f,v.withResumeToken(yi.EMPTY_BYTE_STRING,v.snapshotVersion)),uO(i,f);const S=new hu(v.target,f,_,v.sequenceNumber);fI(i,S)}),i.remoteSyncer.applyRemoteEvent(u)}(t,n))}catch(r){$e("RemoteStore","Failed to raise snapshot:",r),yield GS(t,r)}var r}),rR.apply(this,arguments)}function GS(t,e,n){return iR.apply(this,arguments)}function iR(){return iR=(0,Se.Z)(function*(t,e,n){if(!gd(e))throw e;t.vu.add(1),yield Eo(t),t.bu.set("Offline"),n||(n=()=>PS(t.localStore)),t.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Tn(t)}))}),iR.apply(this,arguments)}function dO(t,e){return e().catch(n=>GS(t,n,e))}function Cw(t){return sR.apply(this,arguments)}function sR(){return sR=(0,Se.Z)(function*(t){const e=lt(t),n=ng(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;uV(e);)try{const i=yield aO(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,cV(e,i)}catch(i){yield GS(e,i)}hO(e)&&fO(e)}),sR.apply(this,arguments)}function uV(t){return tg(t)&&t.Eu.length<10}function cV(t,e){t.Eu.push(e);const n=ng(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function hO(t){return tg(t)&&!ng(t).Uo()&&t.Eu.length>0}function fO(t){ng(t).start()}function dV(t){return oR.apply(this,arguments)}function oR(){return oR=(0,Se.Z)(function*(t){ng(t).hu()}),oR.apply(this,arguments)}function hV(t){return aR.apply(this,arguments)}function aR(){return aR=(0,Se.Z)(function*(t){const e=ng(t);for(const n of t.Eu)e.uu(n.mutations)}),aR.apply(this,arguments)}function fV(t,e,n){return lR.apply(this,arguments)}function lR(){return lR=(0,Se.Z)(function*(t,e,n){const r=t.Eu.shift(),i=xE.from(r,e,n);yield dO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Cw(t)}),lR.apply(this,arguments)}function pV(t,e){return uR.apply(this,arguments)}function uR(){return uR=(0,Se.Z)(function*(t,e){var n;e&&ng(t).ou&&(yield(n=(0,Se.Z)(function*(r,i){if(tS(a=i.code)&&a!==me.ABORTED){const u=r.Eu.shift();ng(r).Qo(),yield dO(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield Cw(r)}var a}),function(r,i){return n.apply(this,arguments)})(t,e)),hO(t)&&fO(t)}),uR.apply(this,arguments)}function pO(t,e){return cR.apply(this,arguments)}function cR(){return cR=(0,Se.Z)(function*(t,e){const n=lt(t);n.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const r=tg(n);n.vu.add(3),yield Eo(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Tn(n)}),cR.apply(this,arguments)}function dR(t,e){return hR.apply(this,arguments)}function hR(){return hR=(0,Se.Z)(function*(t,e){const n=lt(t);e?(n.vu.delete(2),yield Tn(n)):e||(n.vu.add(2),yield Eo(n),n.bu.set("Unknown"))}),hR.apply(this,arguments)}function Dw(t){return t.Su||(t.Su=function(e,n,r){const i=lt(e);return i.fu(),new Ae(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:oV.bind(null,t),ao:aV.bind(null,t),nu:lV.bind(null,t)}),t.Ru.push(function(){var e=(0,Se.Z)(function*(n){n?(t.Su.Qo(),eR(t)?XM(t):t.bu.set("Unknown")):(yield t.Su.stop(),cO(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function ng(t){return t.Du||(t.Du=function(e,n,r){const i=lt(e);return i.fu(),new ze(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:dV.bind(null,t),ao:pV.bind(null,t),au:hV.bind(null,t),cu:fV.bind(null,t)}),t.Ru.push(function(){var e=(0,Se.Z)(function*(n){n?(t.Du.Qo(),yield Cw(t)):(yield t.Du.stop(),t.Eu.length>0&&($e("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class fR{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,n,r,i,a){const u=Date.now()+r,f=new fR(e,n,u,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tw(t,e){if(jr("AsyncQueue",`${e}: ${t}`),gd(t))return new Oe(me.UNAVAILABLE,`${e}: ${t}`);throw t}class Sw{constructor(e){this.comparator=e?(n,r)=>e(n,r)||tt.comparator(n.key,r.key):(n,r)=>tt.comparator(n.key,r.key),this.keyedMap=$p(),this.sortedSet=new sr(this.comparator)}static emptySet(e){return new Sw(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sw)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Sw;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class gO{constructor(){this.Cu=new sr(tt.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):vt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Aw{constructor(e,n,r,i,a,u,f,_,v){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,n,r,i,a){const u=[];return n.forEach(f=>{u.push({type:0,doc:f})}),new Aw(e,n,Sw.emptySet(n),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class gV{constructor(){this.Nu=void 0,this.listeners=[]}}class mV{constructor(){this.queries=new du(e=>$T(e),Wm),this.onlineState="Unknown",this.ku=new Set}}function pR(t,e){return gR.apply(this,arguments)}function gR(){return gR=(0,Se.Z)(function*(t,e){const n=lt(t),r=e.query;let i=!1,a=n.queries.get(r);if(a||(i=!0,a=new gV),i)try{a.Nu=yield n.onListen(r)}catch(u){const f=Tw(u,`Initialization of query '${wE(e.query)}' failed`);return void e.onError(f)}n.queries.set(r,a),a.listeners.push(e),e.Mu(n.onlineState),a.Nu&&e.$u(a.Nu)&&yR(n)}),gR.apply(this,arguments)}function mR(t,e){return _R.apply(this,arguments)}function _R(){return _R=(0,Se.Z)(function*(t,e){const n=lt(t),r=e.query;let i=!1;const a=n.queries.get(r);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),i=0===a.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),_R.apply(this,arguments)}function _V(t,e){const n=lt(t);let r=!1;for(const i of e){const u=n.queries.get(i.query);if(u){for(const f of u.listeners)f.$u(i)&&(r=!0);u.Nu=i}}r&&yR(n)}function yV(t,e,n){const r=lt(t),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(n);r.queries.delete(e)}function yR(t){t.ku.forEach(e=>{e.next()})}class vR{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Aw(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Aw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class vV{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}class mO{constructor(e){this.serializer=e}rr(e){return uc(this.serializer,e)}ur(e){return e.metadata.exists?aS(this.serializer,e.document,!1):hr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return $r(e)}}class wV{constructor(e,n,r){this.ju=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=_O(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const r=Dn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,r=new mO(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.rr(i.metadata.name);for(const u of i.metadata.queries){const f=(n.get(u)||nn()).add(a);n.set(u,f)}}return n}complete(){var e=this;return(0,Se.Z)(function*(){const n=yield function QM(t,e,n,r){return US.apply(this,arguments)}(e.localStore,new mO(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield lO(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:n}})()}}function _O(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class yO{constructor(e){this.key=e}}class vO{constructor(e){this.key=e}}class wO{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=nn(),this.mutatedKeys=nn(),this.tc=bE(e),this.ec=new Sw(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new gO,i=n?n.ec:this.ec;let a=n?n.mutatedKeys:this.mutatedKeys,u=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,M)=>{const L=i.get(S),H=Hp(this.query,M)?M:null,Q=!!L&&this.mutatedKeys.has(L.key),_e=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Te=!1;L&&H?L.data.isEqual(H.data)?Q!==_e&&(r.track({type:3,doc:H}),Te=!0):this.rc(L,H)||(r.track({type:2,doc:H}),Te=!0,(_&&this.tc(H,_)>0||v&&this.tc(H,v)<0)&&(f=!0)):!L&&H?(r.track({type:0,doc:H}),Te=!0):L&&!H&&(r.track({type:1,doc:L}),Te=!0,(_||v)&&(f=!0)),Te&&(H?(u=u.add(H),a=_e?a.add(S):a.delete(S)):(u=u.delete(S),a=a.delete(S)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const S="F"===this.query.limitType?u.last():u.first();u=u.delete(S.key),a=a.delete(S.key),r.track({type:1,doc:S})}return{ec:u,ic:r,zi:f,mutatedKeys:a}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((v,S)=>function(M,L){const H=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return H(M)-H(L)}(v.type,S.type)||this.tc(v.doc,S.doc)),this.oc(r);const u=n?this.uc():[],f=0===this.Zu.size&&this.current?1:0,_=f!==this.Xu;return this.Xu=f,0!==a.length||_?{snapshot:new Aw(this.query,e.ec,i,a,e.mutatedKeys,0===f,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new gO,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=nn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new vO(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new yO(r))}),n}hc(e){this.Yu=e.ir,this.Zu=nn();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Aw.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class bV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class EV{constructor(e){this.key=e,this.fc=!1}}class IV{constructor(e,n,r,i,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new du(f=>$T(f),Wm),this._c=new Map,this.mc=new Set,this.gc=new sr(tt.comparator),this.yc=new Map,this.Ic=new xS,this.Tc={},this.Ec=new Map,this.Ac=gf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function CV(t,e){return wR.apply(this,arguments)}function wR(){return wR=(0,Se.Z)(function*(t,e){const n=$R(t);let r,i;const a=n.wc.get(e);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const u=yield Xp(n.localStore,us(e)),f=n.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield bR(n,e,r,"current"===f,u.resumeToken),n.isPrimaryClient&&eg(n.remoteStore,u)}return i}),wR.apply(this,arguments)}function bR(t,e,n,r,i){return ER.apply(this,arguments)}function ER(){return ER=(0,Se.Z)(function*(t,e,n,r,i){t.Rc=(M,L,H)=>{return(Q=(0,Se.Z)(function*(_e,Te,nt,_t){let ot=Te.view.sc(nt);ot.zi&&(ot=yield uI(_e.localStore,Te.query,!1).then(({documents:cn})=>Te.view.sc(cn,ot)));const wt=_t&&_t.targetChanges.get(Te.targetId),qt=Te.view.applyChanges(ot,_e.isPrimaryClient,wt);return NR(_e,Te.targetId,qt.cc),qt.snapshot}),function(_e,Te,nt,_t){return Q.apply(this,arguments)})(t,M,L,H);var Q};const a=yield uI(t.localStore,e,!0),u=new wO(e,a.ir),f=u.sc(a.documents),_=lw.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),v=u.applyChanges(f,t.isPrimaryClient,_);NR(t,n,v.cc);const S=new bV(e,n,u);return t.wc.set(e,S),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),v.snapshot}),ER.apply(this,arguments)}function DV(t,e){return IR.apply(this,arguments)}function IR(){return IR=(0,Se.Z)(function*(t,e){const n=lt(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(a=>!Wm(a,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield d_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),h_(n.remoteStore,r.targetId),xw(n,r.targetId)}).catch(xa))):(xw(n,r.targetId),yield d_(n.localStore,r.targetId,!0))}),IR.apply(this,arguments)}function CR(){return CR=(0,Se.Z)(function*(t,e,n){const r=GR(t);try{const i=yield function(a,u){const f=lt(a),_=br.now(),v=u.reduce((L,H)=>L.add(H.key),nn());let S,M;return f.persistence.runTransaction("Locally write mutations","readwrite",L=>{let H=wo(),Q=nn();return f.Zi.getEntries(L,v).next(_e=>{H=_e,H.forEach((Te,nt)=>{nt.isValidDocument()||(Q=Q.add(Te))})}).next(()=>f.localDocuments.getOverlayedDocuments(L,H)).next(_e=>{S=_e;const Te=[];for(const nt of u){const _t=QT(nt,S.get(nt.key).overlayedDocument);null!=_t&&Te.push(new lc(nt.key,_t,fE(_t.value.mapValue),Rr.exists(!0)))}return f.mutationQueue.addMutationBatch(L,_,Te,u)}).next(_e=>{M=_e;const Te=_e.applyToLocalDocumentSet(S,Q);return f.documentOverlayCache.saveOverlays(L,_e.batchId,Te)})}).then(()=>({batchId:M.batchId,changes:qT(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,f){let _=a.Tc[a.currentUser.toKey()];_||(_=new sr(Kt)),_=_.insert(u,f),a.Tc[a.currentUser.toKey()]=_}(r,i.batchId,n),yield _f(r,i.changes),yield Cw(r.remoteStore)}catch(i){const a=Tw(i,"Failed to persist write");n.reject(a)}}),CR.apply(this,arguments)}function bO(t,e){return DR.apply(this,arguments)}function DR(){return DR=(0,Se.Z)(function*(t,e){const n=lt(t);try{const r=yield function OS(t,e){const n=lt(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const f=[];e.targetChanges.forEach((S,M)=>{const L=i.get(M);if(!L)return;f.push(n.Bs.removeMatchingKeys(a,S.removedDocuments,M).next(()=>n.Bs.addMatchingKeys(a,S.addedDocuments,M)));let H=L.withSequenceNumber(a.currentSequenceNumber);var Q,_e,Te;null!==e.targetMismatches.get(M)?H=H.withResumeToken(yi.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):S.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(S.resumeToken,r)),i=i.insert(M,H),_e=H,Te=S,(0===(Q=L).resumeToken.approximateByteSize()||_e.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8||Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0)&&f.push(n.Bs.updateTargetData(a,H))});let _=wo(),v=nn();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(a,S))}),f.push(aI(a,u,e.documentUpdates).next(S=>{_=S.nr,v=S.sr})),!r.isEqual(Rt.min())){const S=n.Bs.getLastRemoteSnapshotVersion(a).next(M=>n.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(S)}return de.waitFor(f).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,_,v)).next(()=>_)}).then(a=>(n.Ji=i,a))}(n.localStore,e);e.targetChanges.forEach((i,a)=>{const u=n.yc.get(a);u&&(Ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.fc=!0:i.modifiedDocuments.size>0?Ct(u.fc):i.removedDocuments.size>0&&(Ct(u.fc),u.fc=!1))}),yield _f(n,r,e)}catch(r){yield xa(r)}}),DR.apply(this,arguments)}function EO(t,e,n){const r=lt(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((a,u)=>{const f=u.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(a,u){const f=lt(a);f.onlineState=u;let _=!1;f.queries.forEach((v,S)=>{for(const M of S.listeners)M.Mu(u)&&(_=!0)}),_&&yR(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function SV(t,e,n){return TR.apply(this,arguments)}function TR(){return TR=(0,Se.Z)(function*(t,e,n){const r=lt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),a=i&&i.key;if(a){let u=new sr(tt.comparator);u=u.insert(a,hr.newNoDocument(a,Rt.min()));const f=nn().add(a),_=new aw(Rt.min(),new Map,new sr(Kt),u,f);yield bO(r,_),r.gc=r.gc.remove(a),r.yc.delete(e),kR(r)}else yield d_(r.localStore,e,!1).then(()=>xw(r,e,n)).catch(xa)}),TR.apply(this,arguments)}function AV(t,e){return SR.apply(this,arguments)}function SR(){return SR=(0,Se.Z)(function*(t,e){const n=lt(t),r=e.batch.batchId;try{const i=yield function KM(t,e){const n=lt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Zi.newChangeBuffer({trackRemovals:!0});return function(u,f,_,v){const S=_.batch,M=S.keys();let L=de.resolve();return M.forEach(H=>{L=L.next(()=>v.getEntry(f,H)).next(Q=>{const _e=_.docVersions.get(H);Ct(null!==_e),Q.version.compareTo(_e)<0&&(S.applyToRemoteDocument(Q,_),Q.isValidDocument()&&(Q.setReadTime(_.commitVersion),v.addEntry(Q)))})}),L.next(()=>u.mutationQueue.removeMutationBatch(f,S))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=nn();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(f=f.add(u.batch.mutations[_].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);RR(n,r,null),MR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield _f(n,i)}catch(i){yield xa(i)}}),SR.apply(this,arguments)}function xV(t,e,n){return AR.apply(this,arguments)}function AR(){return AR=(0,Se.Z)(function*(t,e,n){const r=lt(t);try{const i=yield function(a,u){const f=lt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let v;return f.mutationQueue.lookupMutationBatch(_,u).next(S=>(Ct(null!==S),v=S.keys(),f.mutationQueue.removeMutationBatch(_,S))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,v,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,v)).next(()=>f.localDocuments.getDocuments(_,v))})}(r.localStore,e);RR(r,e,n),MR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield _f(r,i)}catch(i){yield xa(i)}}),AR.apply(this,arguments)}function xR(){return xR=(0,Se.Z)(function*(t,e){const n=lt(t);tg(n.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const u=lt(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(n.localStore);if(-1===r)return void e.resolve();const i=n.Ec.get(r)||[];i.push(e),n.Ec.set(r,i)}catch(r){const i=Tw(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),xR.apply(this,arguments)}function MR(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function RR(t,e,n){const r=lt(t);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function xw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||IO(t,r)})}function IO(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(h_(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),kR(t))}function NR(t,e,n){for(const r of n)r instanceof yO?(t.Ic.addReference(r.key,e),RV(t,r)):r instanceof vO?($e("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||IO(t,r.key)):vt()}function RV(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||($e("SyncEngine","New document in limbo: "+n),t.mc.add(r),kR(t))}function kR(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new tt(Dn.fromString(e)),r=t.Ac.next();t.yc.set(r,new EV(n)),t.gc=t.gc.insert(n,r),eg(t.remoteStore,new hu(us(lf(n.path)),r,"TargetPurposeLimboResolution",Qo.ct))}}function _f(t,e,n){return PR.apply(this,arguments)}function PR(){return PR=(0,Se.Z)(function*(t,e,n){const r=lt(t),i=[],a=[],u=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,_)=>{u.push(r.Rc(_,e,n).then(v=>{if((v||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const S=sI.Li(_.targetId,v);a.push(S)}}))}),yield Promise.all(u),r.dc.nu(i),yield(f=(0,Se.Z)(function*(_,v){const S=lt(_);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>de.forEach(v,L=>de.forEach(L.Fi,H=>S.persistence.referenceDelegate.addReference(M,L.targetId,H)).next(()=>de.forEach(L.Bi,H=>S.persistence.referenceDelegate.removeReference(M,L.targetId,H)))))}catch(M){if(!gd(M))throw M;$e("LocalStore","Failed to update sequence numbers: "+M)}for(const M of v){const L=M.targetId;if(!M.fromCache){const H=S.Ji.get(L),_e=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);S.Ji=S.Ji.insert(L,_e)}}}),function(_,v){return f.apply(this,arguments)})(r.localStore,a))}),PR.apply(this,arguments)}function NV(t,e){return OR.apply(this,arguments)}function OR(){return OR=(0,Se.Z)(function*(t,e){const n=lt(t);if(!n.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const r=yield kS(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(u=>{u.forEach(f=>{f.reject(new Oe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _f(n,r.er)}var i}),OR.apply(this,arguments)}function kV(t,e){const n=lt(t),r=n.yc.get(e);if(r&&r.fc)return nn().add(r.key);{let i=nn();const a=n._c.get(e);if(!a)return i;for(const u of a){const f=n.wc.get(u);i=i.unionWith(f.view.nc)}return i}}function PV(t,e){return LR.apply(this,arguments)}function LR(){return LR=(0,Se.Z)(function*(t,e){const n=lt(t),r=yield uI(n.localStore,e.query,!0),i=e.view.hc(r);return n.isPrimaryClient&&NR(n,e.targetId,i.cc),i}),LR.apply(this,arguments)}function OV(t,e){return FR.apply(this,arguments)}function FR(){return FR=(0,Se.Z)(function*(t,e){const n=lt(t);return LS(n.localStore,e).then(r=>_f(n,r))}),FR.apply(this,arguments)}function LV(t,e,n,r){return UR.apply(this,arguments)}function UR(){return UR=(0,Se.Z)(function*(t,e,n,r){const i=lt(t),a=yield function(u,f){const _=lt(u),v=lt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",S=>v.Sn(S,f).next(M=>M?_.localDocuments.getDocuments(S,M):de.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===n?yield Cw(i.remoteStore):"acknowledged"===n||"rejected"===n?(RR(i,e,r||null),MR(i,e),f=e,lt(lt(i.localStore).mutationQueue).Cn(f)):vt(),yield _f(i,a)):$e("SyncEngine","Cannot apply mutation batch with id: "+e)}),UR.apply(this,arguments)}function VR(){return VR=(0,Se.Z)(function*(t,e){const n=lt(t);if($R(n),GR(n),!0===e&&!0!==n.vc){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield CO(n,r.toArray());n.vc=!0,yield dR(n.remoteStore,!0);for(const a of i)eg(n.remoteStore,a)}else if(!1===e&&!1!==n.vc){const r=[];let i=Promise.resolve();n._c.forEach((a,u)=>{n.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(xw(n,u),d_(n.localStore,u,!0))),h_(n.remoteStore,u)}),yield i,yield CO(n,r),function(a){const u=lt(a);u.yc.forEach((f,_)=>{h_(u.remoteStore,_)}),u.Ic.Ts(),u.yc=new Map,u.gc=new sr(tt.comparator)}(n),n.vc=!1,yield dR(n.remoteStore,!1)}}),VR.apply(this,arguments)}function CO(t,e,n){return BR.apply(this,arguments)}function BR(){return BR=(0,Se.Z)(function*(t,e,n){const r=lt(t),i=[],a=[];for(const u of e){let f;const _=r._c.get(u);if(_&&0!==_.length){f=yield Xp(r.localStore,us(_[0]));for(const v of _){const S=r.wc.get(v),M=yield PV(r,S);M.snapshot&&a.push(M.snapshot)}}else{const v=yield YM(r.localStore,u);f=yield Xp(r.localStore,v),yield bR(r,DO(v),u,!1,f.resumeToken)}i.push(f)}return r.dc.nu(a),i}),BR.apply(this,arguments)}function DO(t){return yE(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function UV(t){const e=lt(t);return lt(lt(e.localStore).persistence).$i()}function VV(t,e,n,r){return jR.apply(this,arguments)}function jR(){return jR=(0,Se.Z)(function*(t,e,n,r){const i=lt(t);if(i.vc)return void $e("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(n){case"current":case"not-current":{const u=yield LS(i.localStore,Kv(a[0])),f=aw.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,yi.EMPTY_BYTE_STRING);yield _f(i,u,f);break}case"rejected":yield d_(i.localStore,e,!0),xw(i,e,r);break;default:vt()}}),jR.apply(this,arguments)}function BV(t,e,n){return HR.apply(this,arguments)}function HR(){return HR=(0,Se.Z)(function*(t,e,n){const r=$R(t);if(r.vc){for(const i of e){if(r._c.has(i)){$e("SyncEngine","Adding an already active target "+i);continue}const a=yield YM(r.localStore,i),u=yield Xp(r.localStore,a);yield bR(r,DO(a),u.targetId,!1,u.resumeToken),eg(r.remoteStore,u)}for(const i of n)r._c.has(i)&&(yield d_(r.localStore,i,!1).then(()=>{h_(r.remoteStore,i),xw(r,i)}).catch(xa))}}),HR.apply(this,arguments)}function $R(t){const e=lt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SV.bind(null,e),e.dc.nu=_V.bind(null,e.eventManager),e.dc.Pc=yV.bind(null,e.eventManager),e}function GR(t){const e=lt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xV.bind(null,e),e}class pI{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Se.Z)(function*(){n.serializer=$(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return oI(this.persistence,new Ew,e.initialUser,this.serializer)}createPersistence(e){return new MS(vw.zs,this.serializer)}createSharedClientState(e){return new s}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class zR extends pI{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield n().call(r,e),yield r.Vc.initialize(r,e),yield GR(r.Vc.syncEngine),yield Cw(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return oI(this.persistence,new Ew,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new yw(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Z1(n,this.persistence);return new W1(e.asyncQueue,r)}createPersistence(e){const n=RS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ks.withCacheSize(this.cacheSizeBytes):Ks.DEFAULT;return new iI(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,R(),P(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new s}}class TO extends zR{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield n().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof $S&&(r.sharedClientState.syncEngine={jr:LV.bind(null,i),zr:VV.bind(null,i),Wr:BV.bind(null,i),$i:UV.bind(null,i),Qr:OV.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,Se.Z)(function*(u){yield function FV(t,e){return VR.apply(this,arguments)}(r.Vc.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const n=R();if(!$S.D(n))throw new Oe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=RS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $S(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Mw{initialize(e,n){var r=this;return(0,Se.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>EO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=NV.bind(null,r.syncEngine),yield dR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new mV}createDatastore(e){const n=$(e.databaseInfo.databaseId),r=new D(e.databaseInfo);return new ut(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>EO(this.syncEngine,f,0),u=l.D()?new l:new o,new un(n,r,i,a,u);var n,r,i,a,u}createSyncEngine(e,n){return function(r,i,a,u,f,_,v){const S=new IV(r,i,a,u,f,_);return v&&(S.vc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,Se.Z)(function*(n){const r=lt(n);$e("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Eo(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function SO(t,e=10240){let n=0;return{read:()=>(0,Se.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,Se.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class zS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class $V{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new _i,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Se.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Se.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Se.Z)(function*(){const n=yield e.kc();if(null===n)return null;const r=e.xc.decode(n),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const a=yield e.$c(i);return new vV(JSON.parse(a),n.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Se.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const n=e.Oc();n<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}$c(e){var n=this;return(0,Se.Z)(function*(){for(;n.buffer.length<e;)(yield n.Fc())&&n.Mc("Reached the end of bundle when more is expected.");const r=n.xc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Se.Z)(function*(){const n=yield e.Cc.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class GV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,Se.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Oe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Se.Z)(function*(a,u){const f=lt(a),_=Id(f.serializer)+"/documents",v={documents:u.map(H=>t_(f.serializer,H))},S=yield f.vo("BatchGetDocuments",_,v,u.length),M=new Map;S.forEach(H=>{const Q=function TM(t,e){return"found"in e?function(n,r){Ct(!!r.found);const i=uc(n,r.found.name),a=$r(r.found.updateTime),u=r.found.createTime?$r(r.found.createTime):Rt.min(),f=new As({mapValue:{fields:r.found.fields}});return hr.newFoundDocument(i,a,u,f)}(t,e):"missing"in e?function(n,r){Ct(!!r.missing),Ct(!!r.readTime);const i=uc(n,r.missing),a=$r(r.readTime);return hr.newNoDocument(i,a)}(t,e):vt()}(f.serializer,H);M.set(Q.key.toString(),Q)});const L=[];return u.forEach(H=>{const Q=M.get(H.toString());Ct(!!Q),L.push(Q)}),L}),function(a,u){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Wp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Se.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const a=tt.fromPath(i);e.mutations.push(new tw(a,e.precondition(a)))}),yield(r=(0,Se.Z)(function*(i,a){const u=lt(i),f=Id(u.serializer)+"/documents",_={writes:a.map(v=>n_(u.serializer,v))};yield u.Io("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw vt();n=Rt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Oe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Rt.min())?Rr.exists(!1):Rr.updateTime(n):Rr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Rt.min()))throw new Oe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rr.updateTime(n)}return Rr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class zV{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new J(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Se.Z)(function*(){const n=new GV(e.datastore),r=e.qc(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Uc(a)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const n=this.updateFunction(e);return!Xh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!tS(n)}return!1}}class qV{constructor(e,n,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Si.UNAUTHENTICATED,this.clientId=Kb.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,Se.Z)(function*(f){$e("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>($e("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Tw(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function qS(t,e){return qR.apply(this,arguments)}function qR(){return qR=(0,Se.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,Se.Z)(function*(a){r.isEqual(a)||(yield kS(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),qR.apply(this,arguments)}function WR(t,e){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,Se.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield KR(t);$e("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>pO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>pO(e.remoteStore,a)),t._onlineComponents=e}),ZR.apply(this,arguments)}function AO(t){return"FirebaseError"===t.name?t.code===me.FAILED_PRECONDITION||t.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function KR(t){return YR.apply(this,arguments)}function YR(){return YR=(0,Se.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$e("FirestoreClient","Using user provided OfflineComponentProvider");try{yield qS(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!AO(n))throw n;Aa("Error using user provided cache. Falling back to memory cache: "+n),yield qS(t,new pI)}}else $e("FirestoreClient","Using default OfflineComponentProvider"),yield qS(t,new pI);return t._offlineComponents}),YR.apply(this,arguments)}function WS(t){return QR.apply(this,arguments)}function QR(){return QR=(0,Se.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($e("FirestoreClient","Using user provided OnlineComponentProvider"),yield WR(t,t._uninitializedComponentsProvider._online)):($e("FirestoreClient","Using default OnlineComponentProvider"),yield WR(t,new Mw))),t._onlineComponents}),QR.apply(this,arguments)}function xO(t){return KR(t).then(e=>e.persistence)}function ZS(t){return KR(t).then(e=>e.localStore)}function MO(t){return WS(t).then(e=>e.remoteStore)}function JR(t){return WS(t).then(e=>e.syncEngine)}function Rw(t){return XR.apply(this,arguments)}function XR(){return XR=(0,Se.Z)(function*(t){const e=yield WS(t),n=e.eventManager;return n.onListen=CV.bind(null,e.syncEngine),n.onUnlisten=DV.bind(null,e.syncEngine),n}),XR.apply(this,arguments)}function NO(t,e,n={}){const r=new _i;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(i,a,u,f,_){const v=new zS({next:M=>{a.enqueueAndForget(()=>mR(i,S));const L=M.docs.has(u);!L&&M.fromCache?_.reject(new Oe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&M.fromCache&&f&&"server"===f.source?_.reject(new Oe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new vR(lf(u.path),v,{includeMetadataChanges:!0,Ku:!0});return pR(i,S)}(yield Rw(t),t.asyncQueue,e,n,r)})),r.promise}function kO(t,e,n={}){const r=new _i;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(i,a,u,f,_){const v=new zS({next:M=>{a.enqueueAndForget(()=>mR(i,S)),M.fromCache&&"server"===f.source?_.reject(new Oe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new vR(u,v,{includeMetadataChanges:!0,Ku:!0});return pR(i,S)}(yield Rw(t),t.asyncQueue,e,n,r)})),r.promise}function PO(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const OO=new Map;function eN(t,e,n){if(!n)throw new Oe(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LO(t,e,n,r){if(!0===e&&!0===r)throw new Oe(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FO(t){if(!tt.isDocumentKey(t))throw new Oe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UO(t){if(tt.isDocumentKey(t))throw new Oe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function KS(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":vt()}function En(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Oe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=KS(t);throw new Oe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function VO(t,e){if(e<=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class BO{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=PO(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gI{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BO(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new fT;switch(n.type){case"firstParty":return new j1(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Oe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=OO.get(e);n&&($e("ComponentProvider","Removing Datastore"),OO.delete(e),n.terminate())}(this),Promise.resolve()}}class Nr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nr(this.firestore,e,this._key)}}class Ys{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ys(this.firestore,e,this._query)}}class xd extends Ys{constructor(e,n,r){super(e,n,lf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nr(this.firestore,null,new tt(e))}withConverter(e){return new xd(this.firestore,e,this._path)}}function HO(t,e,...n){if(t=(0,U.m9)(t),eN("collection","path",e),t instanceof gI){const r=Dn.fromString(e,...n);return UO(r),new xd(t,null,r)}{if(!(t instanceof Nr||t instanceof xd))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dn.fromString(e,...n));return UO(r),new xd(t.firestore,null,r)}}function YS(t,e,...n){if(t=(0,U.m9)(t),1===arguments.length&&(e=Kb.A()),eN("doc","path",e),t instanceof gI){const r=Dn.fromString(e,...n);return FO(r),new Nr(t,null,new tt(r))}{if(!(t instanceof Nr||t instanceof xd))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dn.fromString(e,...n));return FO(r),new Nr(t.firestore,t instanceof xd?t.converter:null,new tt(r))}}function $O(t,e){return t=(0,U.m9)(t),e=(0,U.m9)(e),(t instanceof Nr||t instanceof xd)&&(e instanceof Nr||e instanceof xd)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function tN(t,e){return t=(0,U.m9)(t),e=(0,U.m9)(e),t instanceof Ys&&e instanceof Ys&&t.firestore===e.firestore&&Wm(t._query,e._query)&&t.converter===e.converter}class nB{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new J(this,"async_queue_retry"),this.Xc=()=>{const n=P();n&&$e("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=P();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=P();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new _i;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!gd(n))throw n;$e("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,jr("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=fR.createAndSchedule(this,e,n,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&vt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Se.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function nN(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class rB{constructor(){this._progressObserver={},this._taskCompletionResolver=new _i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class kr extends gI{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new nB,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||GO(this),this._firestoreClient.terminate()}}function Mi(t){return t._firestoreClient||GO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function GO(t){var e,n,r;const i=t._freezeSettings(),a=(f=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new oM(t._databaseId,f,t._persistenceKey,(v=i).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,PO(v.experimentalLongPollingOptions),v.useFetchStreams));var f,v;t._firestoreClient=new qV(t._authCredentials,t._appCheckCredentials,t._queue,a),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function zO(t,e,n){const r=new _i;return t.asyncQueue.enqueue((0,Se.Z)(function*(){try{yield qS(t,n),yield WR(t,e),r.resolve()}catch(i){const a=i;if(!AO(a))throw a;Aa("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function qO(t){if(t._initialized||t._terminated)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Md{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Md(yi.fromBase64String(e))}catch(n){throw new Oe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Md(yi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yf{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Oe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class f_{constructor(e){this._methodName=e}}class QS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Oe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Oe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const pB=/^__.*__$/;class gB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new lc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jm(e,this.data,n,this.fieldTransforms)}}class WO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new lc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class JS{constructor(e,n,r,i,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new JS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return tA(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(ZO(this.ca)&&pB.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class mB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$(e)}ya(e,n,r,i=!1){return new JS({ca:e,methodName:n,ga:r,path:Mr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function p_(t){const e=t._freezeSettings(),n=$(t._databaseId);return new mB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XS(t,e,n,r,i,a={}){const u=t.ya(a.merge||a.mergeFields?2:0,e,n,i);oN("Data must be an object, but it was:",u,r);const f=QO(r,u);let _,v;if(a.merge)_=new Zs(u.fieldMask),v=u.fieldTransforms;else if(a.mergeFields){const S=[];for(const M of a.mergeFields){const L=yI(e,M,n);if(!u.contains(L))throw new Oe(me.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);XO(S,L)||S.push(L)}_=new Zs(S),v=u.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,v=u.fieldTransforms;return new gB(new As(f),_,v)}class _I extends f_{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _I}}function KO(t,e,n){return new JS({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class rN extends f_{_toFieldTransform(e){return new Km(e.path,new Ed)}isEqual(e){return e instanceof rN}}class _B extends f_{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=KO(this,e,!0),r=this.pa.map(a=>g_(a,n)),i=new uf(r);return new Km(e.path,i)}isEqual(e){return this===e}}class yB extends f_{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=KO(this,e,!0),r=this.pa.map(a=>g_(a,n)),i=new cf(r);return new Km(e.path,i)}isEqual(e){return this===e}}class vB extends f_{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new zp(e.serializer,pM(e.serializer,this.Ia));return new Km(e.path,n)}isEqual(e){return this===e}}function iN(t,e,n,r){const i=t.ya(1,e,n);oN("Data must be an object, but it was:",i,r);const a=[],u=As.empty();lu(r,(_,v)=>{const S=eA(e,_,n);v=(0,U.m9)(v);const M=i.da(S);if(v instanceof _I)a.push(S);else{const L=g_(v,M);null!=L&&(a.push(S),u.set(S,L))}});const f=new Zs(a);return new WO(u,f,i.fieldTransforms)}function sN(t,e,n,r,i,a){const u=t.ya(1,e,n),f=[yI(e,r,n)],_=[i];if(a.length%2!=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<a.length;L+=2)f.push(yI(e,a[L])),_.push(a[L+1]);const v=[],S=As.empty();for(let L=f.length-1;L>=0;--L)if(!XO(v,f[L])){const H=f[L];let Q=_[L];Q=(0,U.m9)(Q);const _e=u.da(H);if(Q instanceof _I)v.push(H);else{const Te=g_(Q,_e);null!=Te&&(v.push(H),S.set(H,Te))}}const M=new Zs(v);return new WO(S,M,u.fieldTransforms)}function YO(t,e,n,r=!1){return g_(n,t.ya(r?4:3,e))}function g_(t,e){if(JO(t=(0,U.m9)(t)))return oN("Unsupported field value:",e,t),QO(t,e);if(t instanceof f_)return function(n,r){if(!ZO(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let a=0;for(const u of n){let f=g_(u,r.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=(0,U.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return pM(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=br.fromDate(n);return{timestampValue:e_(r.serializer,i)}}if(n instanceof br){const i=new br(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:e_(r.serializer,i)}}if(n instanceof QS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Md)return{bytesValue:CM(r.serializer,n._byteString)};if(n instanceof Nr){const i=r.databaseId,a=n.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:LE(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${KS(n)}`)}(t,e)}function QO(t,e){const n={};return Hv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lu(t,(r,i)=>{const a=g_(i,e.ha(r));null!=a&&(n[r]=a)}),{mapValue:{fields:n}}}function JO(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof br||t instanceof QS||t instanceof Md||t instanceof Nr||t instanceof f_)}function oN(t,e,n){if(!JO(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=KS(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function yI(t,e,n){if((e=(0,U.m9)(e))instanceof yf)return e._internalPath;if("string"==typeof e)return eA(t,e);throw tA("Field path arguments must be of type string or ",t,!1,void 0,n)}const wB=new RegExp("[~\\*/\\[\\]]");function eA(t,e,n){if(e.search(wB)>=0)throw tA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yf(...e.split("."))._internalPath}catch{throw tA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tA(t,e,n,r,i){const a=r&&!r.isEmpty(),u=void 0!==i;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${r}`),u&&(_+=` in document ${i}`),_+=")"),new Oe(me.INVALID_ARGUMENT,f+t+_)}function XO(t,e){return t.some(n=>n.isEqual(e))}class vI{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Nr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new bB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class bB extends vI{data(){return super.data()}}function nA(t,e){return"string"==typeof e?eA(t,e):e instanceof yf?e._internalPath:e._delegate._internalPath}function e2(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Oe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aN{}class wI extends aN{}function rg(t,e,...n){let r=[];e instanceof aN&&r.push(e),r=r.concat(n),function(i){const a=i.filter(f=>f instanceof Nw).length,u=i.filter(f=>f instanceof bI).length;if(a>1||a>0&&u>0)throw new Oe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class bI extends wI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new bI(e,n,r)}_apply(e){const n=this._parse(e);return i2(e._query,n),new Ys(e.firestore,e.converter,qm(e._query,n))}_parse(e){const n=p_(e.firestore);return function(i,a,u,f,_,v,S){let M;if(_.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){r2(S,v);const L=[];for(const H of S)L.push(n2(f,i,H));M={arrayValue:{values:L}}}else M=n2(f,i,S)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||r2(S,v),M=YO(u,"where",S,"in"===v||"not-in"===v);return _n.create(_,v,M)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Nw extends aN{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Nw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Gn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let a=r;const u=i.getFlattenedFilters();for(const f of u)i2(a,f),a=qm(a,f)}(e._query,n),new Ys(e.firestore,e.converter,qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class lN extends wI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lN(e,n)}_apply(e){const n=function(r,i,a){if(null!==r.startAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new cu(i,a);return function(f,_){if(null===vE(f)){const v=jp(f);null!==v&&s2(0,v,_.field)}}(r,u),u}(e._query,this._field,this._direction);return new Ys(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new ac(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}class rA extends wI{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new rA(e,n,r)}_apply(e){return new Ys(e.firestore,e.converter,Zv(e._query,this._limit,this._limitType))}}class iA extends wI{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new iA(e,n,r)}_apply(e){const n=t2(e,this.type,this._docOrFields,this._inclusive);return new Ys(e.firestore,e.converter,(i=n,new ac((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class sA extends wI{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new sA(e,n,r)}_apply(e){const n=t2(e,this.type,this._docOrFields,this._inclusive);return new Ys(e.firestore,e.converter,(i=n,new ac((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function t2(t,e,n,r){if(n[0]=(0,U.m9)(n[0]),n[0]instanceof vI)return function(i,a,u,f,_){if(!f)throw new Oe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const S of bd(i))if(S.field.isKeyField())v.push(rf(a,f.key));else{const M=f.data.field(S.field);if(Fm(M))throw new Oe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const L=S.field.canonicalString();throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}v.push(M)}return new wd(v,_)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=p_(t.firestore);return function(a,u,f,_,v,S){const M=a.explicitOrderBy;if(v.length>M.length)throw new Oe(me.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let H=0;H<v.length;H++){const Q=v[H];if(M[H].field.isKeyField()){if("string"!=typeof Q)throw new Oe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Q}`);if(!zm(a)&&-1!==Q.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Q}' contains a slash.`);const _e=a.path.child(Dn.fromString(Q));if(!tt.isDocumentKey(_e))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${_e}' is not because it contains an odd number of segments.`);const Te=new tt(_e);L.push(rf(u,Te))}else{const _e=YO(f,_,Q);L.push(_e)}}return new wd(L,S)}(t._query,t.firestore._databaseId,i,e,n,r)}}function n2(t,e,n){if("string"==typeof(n=(0,U.m9)(n))){if(""===n)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zm(e)&&-1!==n.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Dn.fromString(n));if(!tt.isDocumentKey(r))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rf(t,new tt(r))}if(n instanceof Nr)return rf(t,n._key);throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${KS(n)}.`)}function r2(t,e){if(!Array.isArray(t)||0===t.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function i2(t,e){if(e.isInequality()){const r=jp(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=vE(t);null!==a&&s2(0,i,a)}const n=function(r,i){for(const a of r)for(const u of a.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Oe(me.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function s2(t,e,n){if(!n.isEqual(e))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class uN{convertValue(e,n="none"){switch(vd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw vt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return lu(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertGeoPoint(e){return new QS(Hr(e.latitude),Hr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lE(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lp(e));default:return null}}convertTimestamp(e){const n=_d(e);return new br(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dn.fromString(e);Ct(VE(r));const i=new yd(r.get(1),r.get(3)),a=new tt(r.popFirst(5));return i.isEqual(n)||jr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}function oA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class MB extends uN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Md(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nr(this.firestore,null,n)}}class m_{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vf extends vI{constructor(e,n,r,i,a,u){super(e,n,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new EI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nA("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class EI extends vf{data(e={}){return super.data(e)}}class ig{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new m_(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new EI(this._firestore,this._userDataWriter,r.key,r,new m_(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Oe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new EI(r._firestore,r._userDataWriter,u.doc.key,u.doc,new m_(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const f=new EI(r._firestore,r._userDataWriter,u.doc.key,u.doc,new m_(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,v=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),v=a.indexOf(u.doc.key)),{type:NB(u.type),doc:f,oldIndex:_,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function NB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}function a2(t,e){return t instanceof vf&&e instanceof vf?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ig&&e instanceof ig&&t._firestore===e._firestore&&tN(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class sg extends uN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Md(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nr(this.firestore,null,n)}}function l2(t,e,n){t=En(t,Nr);const r=En(t.firestore,kr),i=oA(t.converter,e,n);return kw(r,[XS(p_(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Rr.none())])}function u2(t,e,n,...r){t=En(t,Nr);const i=En(t.firestore,kr),a=p_(i);let u;return u="string"==typeof(e=(0,U.m9)(e))||e instanceof yf?sN(a,"updateDoc",t._key,e,n,r):iN(a,"updateDoc",t._key,e),kw(i,[u.toMutation(t._key,Rr.exists(!0))])}function c2(t,...e){var n,r,i;t=(0,U.m9)(t);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||nN(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(nN(e[u])){const M=e[u];e[u]=null===(n=M.next)||void 0===n?void 0:n.bind(M),e[u+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[u+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let _,v,S;if(t instanceof Nr)v=En(t.firestore,kr),S=lf(t._key.path),_={next:M=>{e[u]&&e[u](cN(v,t,M))},error:e[u+1],complete:e[u+2]};else{const M=En(t,Ys);v=En(M.firestore,kr),S=M._query;const L=new sg(v);_={next:H=>{e[u]&&e[u](new ig(v,L,M,H))},error:e[u+1],complete:e[u+2]},e2(t._query)}return function(M,L,H,Q){const _e=new zS(Q),Te=new vR(L,_e,H);return M.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return pR(yield Rw(M),Te)})),()=>{_e.Dc(),M.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return mR(yield Rw(M),Te)}))}}(Mi(v),S,f,_)}function kw(t,e){return function(n,r){const i=new _i;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function TV(t,e,n){return CR.apply(this,arguments)}(yield JR(n),r,i)})),i.promise}(Mi(t),e)}function cN(t,e,n){const r=n.docs.get(e._key),i=new sg(t);return new vf(t,i,e._key,r,new m_(n.hasPendingWrites,n.fromCache),e.converter)}const YB={maxAttempts:5};class d2{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=p_(e)}set(e,n,r){this._verifyNotCommitted();const i=og(e,this._firestore),a=oA(i.converter,n,r),u=XS(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,Rr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=og(e,this._firestore);let u;return u="string"==typeof(n=(0,U.m9)(n))||n instanceof yf?sN(this._dataReader,"WriteBatch.update",a._key,n,r,i):iN(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(u.toMutation(a._key,Rr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=og(e,this._firestore);return this._mutations=this._mutations.concat(new Wp(n._key,Rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function og(t,e){if((t=(0,U.m9)(t)).firestore!==e)throw new Oe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class QB extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=p_(e)}get(e){const n=og(e,this._firestore),r=new MB(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||1!==i.length)return vt();const a=i[0];if(a.isFoundDocument())return new vI(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new vI(this._firestore,r,n._key,null,n.converter);throw vt()})}set(e,n,r){const i=og(e,this._firestore),a=oA(i.converter,n,r),u=XS(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,n,r,...i){const a=og(e,this._firestore);let u;return u="string"==typeof(n=(0,U.m9)(n))||n instanceof yf?sN(this._dataReader,"Transaction.update",a._key,n,r,i):iN(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,u),this}delete(e){const n=og(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=og(e,this._firestore),r=new sg(this._firestore);return super.get(e).then(i=>new vf(this._firestore,r,n._key,i._document,new m_(!1,!1),n.converter))}}function dN(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function f2(){if(typeof Uint8Array>"u")throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function p2(){if(!function xT(){return typeof atob<"u"}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){Yh=Ds.SDK_VERSION,(0,Ds._registerComponent)(new Sa.wA("firestore",(n,{instanceIdentifier:r,options:i})=>{const a=n.getProvider("app").getImmediate(),u=new kr(new Rm(n.getProvider("auth-internal")),new H1(n.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Oe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yd(f.options.projectId,_)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,Ds.registerVersion)(U1,"3.13.0",t),(0,Ds.registerVersion)(U1,"3.13.0","esm2017")}();class II{constructor(e){this._delegate=e}static fromBase64String(e){return p2(),new II(Md.fromBase64String(e))}static fromUint8Array(e){return f2(),new II(Md.fromUint8Array(e))}toBase64(){return p2(),this._delegate.toBase64()}toUint8Array(){return f2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function hN(t){return function oj(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class aj{enableIndexedDbPersistence(e,n){return function sB(t,e){qO(t=En(t,kr));const n=Mi(t);if(n._uninitializedComponentsProvider)throw new Oe(me.FAILED_PRECONDITION,"SDK cache is already specified.");Aa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Mw;return zO(n,i,new zR(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function oB(t){qO(t=En(t,kr));const e=Mi(t);if(e._uninitializedComponentsProvider)throw new Oe(me.FAILED_PRECONDITION,"SDK cache is already specified.");Aa("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Mw;return zO(e,r,new TO(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function aB(t){if(t._initialized&&!t._terminated)throw new Oe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _i;return t._queue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{yield(n=(0,Se.Z)(function*(r){if(!Ma.D())return Promise.resolve();const i=r+"main";yield Ma.delete(i)}),function(r){return n.apply(this,arguments)})(RS(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class g2{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof yd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Aa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){!function jO(t,e,n,r={}){var i;const a=(t=En(t,gI))._getSettings(),u=`${e}:${n}`;if("firestore.googleapis.com"!==a.host&&a.host!==u&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let f,_;if("string"==typeof r.mockUserToken)f=r.mockUserToken,_=Si.MOCK_USER;else{f=(0,U.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Oe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Si(v)}t._authCredentials=new B1(new Zb(f,_))}}(this._delegate,e,n,r)}enableNetwork(){return function uB(t){return function WV(t){return t.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield xO(t),n=yield MO(t);return e.setNetworkEnabled(!0),function(r){const i=lt(r);return i.vu.delete(0),Tn(i)}(n)}))}(Mi(t=En(t,kr)))}(this._delegate)}disableNetwork(){return function cB(t){return function ZV(t){return t.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield xO(t),n=yield MO(t);return e.setNetworkEnabled(!1),(r=(0,Se.Z)(function*(i){const a=lt(i);a.vu.add(0),yield Eo(a),a.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(n);var r}))}(Mi(t=En(t,kr)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,LO("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function lB(t){return function(e){const n=new _i;return e.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function MV(t,e){return xR.apply(this,arguments)}(yield JR(e),n)})),n.promise}(Mi(t=En(t,kr)))}(this._delegate)}onSnapshotsInSync(e){return function jB(t,e){return function QV(t,e){const n=new zS(e);return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield Rw(t),i=n,lt(r).ku.add(i),void i.next();var r,i})),()=>{n.Dc(),t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield Rw(t),i=n,void lt(r).ku.delete(i);var r,i}))}}(Mi(t=En(t,kr)),nN(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Pw(this,HO(this._delegate,e))}catch(n){throw Jo(n,"collection()","Firestore.collection()")}}doc(e){try{return new pu(this,YS(this._delegate,e))}catch(n){throw Jo(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Xo(this,function tB(t,e){if(t=En(t,gI),eN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ys(t,null,(n=e,new ac(Dn.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw Jo(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function JB(t,e,n){t=En(t,kr);const r=Object.assign(Object.assign({},YB),n);return function(i){if(i.maxAttempts<1)throw new Oe(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,u){const f=new _i;return i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){const _=yield function RO(t){return WS(t).then(e=>e.datastore)}(i);new zV(i.asyncQueue,_,u,a,f).run()})),f.promise}(Mi(t),i=>e(new QB(t,i)),r)}(this._delegate,n=>e(new m2(this,n)))}batch(){return Mi(this._delegate),new _2(new d2(this._delegate,e=>kw(this._delegate,e)))}loadBundle(e){return function dB(t,e){const n=Mi(t=En(t,kr)),r=new rB;return function JV(t,e,n,r){const i=function(a,u){let f;return f="string"==typeof a?RE().encode(a):a,_=function(_,v){if(_ instanceof Uint8Array)return SO(_,v);if(_ instanceof ArrayBuffer)return SO(new Uint8Array(_),v);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new $V(_,u);var _}(n,$(e));t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){!function jV(t,e,n){const r=lt(t);var i;(i=(0,Se.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(L,H){const Q=lt(L),_e=$r(H.createTime);return Q.persistence.runTransaction("hasNewerBundle","readonly",Te=>Q.qs.getBundleMetadata(Te,H.id)).then(Te=>!!Te&&Te.createTime.compareTo(_e)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(L=_).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);f._updateProgress(_O(_));const v=new wV(_,a.localStore,u.serializer);let S=yield u.bc();for(;S;){const L=yield v.zu(S);L&&f._updateProgress(L),S=yield u.bc()}const M=yield v.complete();return yield _f(a,M.Ju,void 0),yield function(L,H){const Q=lt(L);return Q.persistence.runTransaction("Save bundle","readwrite",_e=>Q.qs.saveBundleMetadata(_e,H))}(a.localStore,_),f._completeWith(M.progress),Promise.resolve(M.Hu)}catch(_){return Aa("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var L}),function(a,u,f){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield JR(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function hB(t,e){return function XV(t,e){return t.asyncQueue.enqueue((0,Se.Z)(function*(){return function(n,r){const i=lt(n);return i.persistence.runTransaction("Get named query","readonly",a=>i.qs.getNamedQuery(a,r))}(yield ZS(t),e)}))}(Mi(t=En(t,kr)),e).then(n=>n?new Ys(t,null,n.query):null)}(this._delegate,e).then(n=>n?new Xo(this,n):null)}}class aA extends uN{constructor(e){super(),this.firestore=e}convertBytes(e){return new II(new Md(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return pu.forKey(n,this.firestore,null)}}class m2{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new aA(e)}get(e){const n=y_(e);return this._delegate.get(n).then(r=>new CI(this._firestore,new vf(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=y_(e);return r?(dN("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=y_(e);return 2===arguments.length?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=y_(e);return this._delegate.delete(n),this}}class _2{constructor(e){this._delegate=e}set(e,n,r){const i=y_(e);return r?(dN("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=y_(e);return 2===arguments.length?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=y_(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class __{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new EI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new DI(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=__.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(n);return a||(a=new __(e,new aA(e),n),i.set(n,a)),a}}__.INSTANCES=new WeakMap;class pu{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new aA(e)}static forPath(e,n,r){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new pu(n,new Nr(n._delegate,r,new tt(e)))}static forKey(e,n,r){return new pu(n,new Nr(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Pw(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Pw(this.firestore,HO(this._delegate,e))}catch(n){throw Jo(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,U.m9)(e))instanceof Nr&&$O(this._delegate,e)}set(e,n){n=dN("DocumentReference.set",n);try{return n?l2(this._delegate,e,n):l2(this._delegate,e)}catch(r){throw Jo(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?u2(this._delegate,e):u2(this._delegate,e,n,...r)}catch(i){throw Jo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function VB(t){return kw(En(t.firestore,kr),[new Wp(t._key,Rr.none())])}(this._delegate)}onSnapshot(...e){const n=y2(e),r=v2(e,i=>new CI(this.firestore,new vf(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return c2(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function PB(t){t=En(t,Nr);const e=En(t.firestore,kr),n=Mi(e),r=new sg(e);return function KV(t,e){const n=new _i;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(i,a,u){try{const f=yield function(_,v){const S=lt(_);return S.persistence.runTransaction("read document","readonly",M=>S.localDocuments.getDocument(M,v))}(i,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Oe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Tw(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(i,a,u){return r.apply(this,arguments)})(yield ZS(t),e,n);var r})),n.promise}(n,t._key).then(i=>new vf(e,r,t._key,i,new m_(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function OB(t){t=En(t,Nr);const e=En(t.firestore,kr);return NO(Mi(e),t._key,{source:"server"}).then(n=>cN(e,t,n))}(this._delegate):function kB(t){t=En(t,Nr);const e=En(t.firestore,kr);return NO(Mi(e),t._key).then(n=>cN(e,t,n))}(this._delegate),n.then(r=>new CI(this.firestore,new vf(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new pu(this.firestore,this._delegate.withConverter(e?__.getInstance(this.firestore,e):null))}}function Jo(t,e,n){return t.message=t.message.replace(e,n),t}function y2(t){for(const e of t)if("object"==typeof e&&!hN(e))return e;return{}}function v2(t,e){var n,r;let i;return i=hN(t[0])?t[0]:hN(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class CI{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new pu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return a2(this._delegate,e._delegate)}}class DI extends CI{data(e){const n=this._delegate.data(e);return function V1(t,e){t||vt()}(void 0!==n),n}}class Xo{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new aA(e)}where(e,n,r){try{return new Xo(this.firestore,rg(this._delegate,function EB(t,e,n){const r=e,i=nA("where",t);return bI._create(i,r,n)}(e,n,r)))}catch(i){throw Jo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Xo(this.firestore,rg(this._delegate,function IB(t,e="asc"){const n=e,r=nA("orderBy",t);return lN._create(r,n)}(e,n)))}catch(r){throw Jo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Xo(this.firestore,rg(this._delegate,function CB(t){return VO("limit",t),rA._create("limit",t,"F")}(e)))}catch(n){throw Jo(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Xo(this.firestore,rg(this._delegate,function DB(t){return VO("limitToLast",t),rA._create("limitToLast",t,"L")}(e)))}catch(n){throw Jo(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Xo(this.firestore,rg(this._delegate,function TB(...t){return iA._create("startAt",t,!0)}(...e)))}catch(n){throw Jo(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Xo(this.firestore,rg(this._delegate,function SB(...t){return iA._create("startAfter",t,!1)}(...e)))}catch(n){throw Jo(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Xo(this.firestore,rg(this._delegate,function AB(...t){return sA._create("endBefore",t,!1)}(...e)))}catch(n){throw Jo(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Xo(this.firestore,rg(this._delegate,function xB(...t){return sA._create("endAt",t,!0)}(...e)))}catch(n){throw Jo(n,"endAt()","Query.endAt()")}}isEqual(e){return tN(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function FB(t){t=En(t,Ys);const e=En(t.firestore,kr),n=Mi(e),r=new sg(e);return function YV(t,e){const n=new _i;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(i,a,u){try{const f=yield uI(i,a,!0),_=new wO(a,f.ir),v=_.sc(f.documents),S=_.applyChanges(v,!1);u.resolve(S.snapshot)}catch(f){const _=Tw(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(i,a,u){return r.apply(this,arguments)})(yield ZS(t),e,n);var r})),n.promise}(n,t._query).then(i=>new ig(e,r,t,i))}(this._delegate):"server"===e?.source?function UB(t){t=En(t,Ys);const e=En(t.firestore,kr),n=Mi(e),r=new sg(e);return kO(n,t._query,{source:"server"}).then(i=>new ig(e,r,t,i))}(this._delegate):function LB(t){t=En(t,Ys);const e=En(t.firestore,kr),n=Mi(e),r=new sg(e);return e2(t._query),kO(n,t._query).then(i=>new ig(e,r,t,i))}(this._delegate),n.then(r=>new fN(this.firestore,new ig(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=y2(e),r=v2(e,i=>new fN(this.firestore,new ig(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return c2(this._delegate,n,r)}withConverter(e){return new Xo(this.firestore,this._delegate.withConverter(e?__.getInstance(this.firestore,e):null))}}class uj{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new DI(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class fN{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Xo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new DI(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new uj(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new DI(this._firestore,r))})}isEqual(e){return a2(this._delegate,e._delegate)}}class Pw extends Xo{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new pu(this.firestore,e):null}doc(e){try{return new pu(this.firestore,void 0===e?YS(this._delegate):YS(this._delegate,e))}catch(n){throw Jo(n,"doc()","CollectionReference.doc()")}}add(e){return function BB(t,e){const n=En(t.firestore,kr),r=YS(t),i=oA(t.converter,e);return kw(n,[XS(p_(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Rr.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new pu(this.firestore,n))}isEqual(e){return $O(this._delegate,e._delegate)}withConverter(e){return new Pw(this.firestore,this._delegate.withConverter(e?__.getInstance(this.firestore,e):null))}}function y_(t){return En(t,Nr)}class pN{constructor(...e){this._delegate=new yf(...e)}static documentId(){return new pN(Mr.keyField().canonicalString())}isEqual(e){return(e=(0,U.m9)(e))instanceof yf&&this._delegate._internalPath.isEqual(e._internalPath)}}class v_{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ej(){return new rN("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new v_(e)}static delete(){const e=function XB(){return new _I("deleteField")}();return e._methodName="FieldValue.delete",new v_(e)}static arrayUnion(...e){const n=function tj(...t){return new _B("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new v_(n)}static arrayRemove(...e){const n=function nj(...t){return new yB("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new v_(n)}static increment(e){const n=function rj(t){return new vB("increment",t)}(e);return n._methodName="FieldValue.increment",new v_(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const cj={Firestore:g2,GeoPoint:QS,Timestamp:br,Blob:II,Transaction:m2,WriteBatch:_2,DocumentReference:pu,DocumentSnapshot:CI,Query:Xo,QueryDocumentSnapshot:DI,QuerySnapshot:fN,CollectionReference:Pw,FieldPath:pN,FieldValue:v_,setLogLevel:function lj(t){!function hT(t){fd.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};!function hj(t){(function dj(t,e){t.INTERNAL.registerComponent(new Sa.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},cj)))})(t,(e,n)=>new g2(e,n,new aj)),t.registerVersion("@firebase/firestore-compat","0.3.12")}(Hh.Z);var gN=F(3019),lA=F(3093),fj=F(4552);class pj extends Qu.x{constructor(e=1/0,n=1/0,r=fj.l){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:u}=this;n||(r.push(e),!i&&r.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let u=0;u<a.length&&!e.closed;u+=r?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const u=n.now();let f=0;for(let _=1;_<r.length&&r[_]<=u;_+=2)f=_;f&&r.splice(0,f+1)}}}var w2=F(3020);function b2(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,(0,w2.B)({connector:()=>new pj(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function E2(t,e){return(0,Zu.m)(e)?(0,ti.w)(()=>t,e):(0,ti.w)(()=>t)}var mN=F(5137);F(3182);const yN=new Map,C2={activated:!1,tokenObservers:[]},vj={initialized:!1,enabled:!1};function wi(t){return yN.get(t)||Object.assign({},C2)}function cA(){return vj}const vN="https://content-firebaseappcheck.googleapis.com/v1",Ij="exchangeDebugToken",D2={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Dj{constructor(e,n,r,i,a){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,Se.Z)(function*(){n.stop();try{n.pending=new U.BH,yield function Tj(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new U.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Qs=new U.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function wN(t){if(!wi(t).activated)throw Qs.create("use-before-activation",{appName:t.name})}function fA(t,e){return EN.apply(this,arguments)}function EN(){return EN=(0,Se.Z)(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const M=yield i.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const a={method:"POST",body:JSON.stringify(e),headers:r};let u,f;try{u=yield fetch(t,a)}catch(M){throw Qs.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==u.status)throw Qs.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(M){throw Qs.create("fetch-parse-error",{originalErrorMessage:M?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Qs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(_[1]),S=Date.now();return{token:f.token,expireTimeMillis:S+v,issuedAtTimeMillis:S}}),EN.apply(this,arguments)}function T2(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${vN}/projects/${n}/apps/${r}:${Ij}?key=${i}`,body:{debug_token:e}}}const Mj="firebase-app-check-database",Rj=1,TI="firebase-app-check-store";let pA=null;function IN(){return IN=(0,Se.Z)(function*(t,e){const r=(yield function A2(){return pA||(pA=new Promise((t,e)=>{try{const n=indexedDB.open(Mj,Rj);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Qs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(TI,{keyPath:"compositeKey"})}}catch(n){e(Qs.create("storage-open",{originalErrorMessage:n?.message}))}}),pA)}()).transaction(TI,"readwrite"),a=r.objectStore(TI).put({compositeKey:t,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},r.onerror=_=>{var v;f(Qs.create("storage-set",{originalErrorMessage:null===(v=_.target.error)||void 0===v?void 0:v.message}))}})}),IN.apply(this,arguments)}const SI=new fl.Yd("@firebase/app-check");function TN(t,e){return(0,U.hl)()?function kj(t,e){return function x2(t,e){return IN.apply(this,arguments)}(function R2(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{SI.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function AN(){return cA().enabled}function xN(){return MN.apply(this,arguments)}function MN(){return MN=(0,Se.Z)(function*(){const t=cA();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),MN.apply(this,arguments)}const Vj={error:"UNKNOWN_ERROR"};function Bj(t){return U.US.encodeString(JSON.stringify(t),!1)}function gA(t){return RN.apply(this,arguments)}function RN(){return RN=(0,Se.Z)(function*(t,e=!1){const n=t.app;wN(n);const r=wi(n);let a,i=r.token;if(i&&!Ow(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(Ow(_)?i=_:yield TN(n,void 0))}if(!e&&i&&Ow(i))return{token:i.token};let f,u=!1;if(AN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=fA(T2(n,yield xN()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const _=yield r.exchangeTokenPromise;return yield TN(n,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield wi(n).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?SI.warn(_.message):SI.error(_),a=_}return i?a?f=Ow(i)?{token:i.token,internalError:a}:O2(a):(f={token:i.token},r.token=i,yield TN(n,i)):f=O2(a),u&&function P2(t,e){const n=wi(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,f),f}),RN.apply(this,arguments)}function NN(){return NN=(0,Se.Z)(function*(t){const e=t.app;wN(e);const{provider:n}=wi(e);if(AN()){const r=yield xN(),{token:i}=yield fA(T2(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),NN.apply(this,arguments)}function PN(t,e){const n=wi(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function k2(t){const{app:e}=t,n=wi(e);let r=n.tokenRefresher;r||(r=function jj(t){const{app:e}=t;return new Dj((0,Se.Z)(function*(){let r;if(r=wi(e).token?yield gA(t,!0):yield gA(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=wi(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},D2.RETRIAL_MIN_WAIT,D2.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ow(t){return t.expireTimeMillis-Date.now()>0}function O2(t){return{token:Bj(Vj),error:t}}class Hj{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=wi(this.app);for(const n of e)PN(this.app,n.next);return Promise.resolve()}}const $2="app-check-internal";!function n3(){(0,Ds._registerComponent)(new Sa.wA("app-check",t=>function $j(t,e){return new Hj(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider($2).initialize()})),(0,Ds._registerComponent)(new Sa.wA($2,t=>function Gj(t){return{getToken:e=>gA(t,e),getLimitedUseToken:()=>function N2(t){return NN.apply(this,arguments)}(t),addTokenListener:e=>function kN(t,e,n,r){const{app:i}=t,a=wi(i);if(a.tokenObservers=[...a.tokenObservers,{next:n,error:r,type:e}],a.token&&Ow(a.token)){const f=a.token;Promise.resolve().then(()=>{n({token:f.token}),k2(t)}).catch(()=>{})}a.cachedTokenPromise.then(()=>k2(t))}(t,"INTERNAL",e),removeTokenListener:e=>PN(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ds.registerVersion)("@firebase/app-check","0.8.0")}();class AI{constructor(){return(0,Cn.vb)("app-check")}}typeof window<"u"&&window;var _A=F(7142);const VN=new d.OlP("angularfire2.auth.use-emulator"),BN=new d.OlP("angularfire2.auth.settings"),jN=new d.OlP("angularfire2.auth.tenant-id"),HN=new d.OlP("angularfire2.auth.langugage-code"),$N=new d.OlP("angularfire2.auth.use-device-language"),GN=new d.OlP("angularfire.auth.persistence"),zN=(t,e,n,r,i,a,u,f)=>(0,mi.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const _=e.runOutsideAngular(()=>t.auth());if(n&&_.useEmulator(...n),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),u)for(const[v,S]of Object.entries(u))_.settings[v]=S;return f&&_.setPersistence(f),_},[n,r,i,a,u,f]);let xI=(()=>{class t{constructor(n,r,i,a,u,f,_,v,S,M,L,H){const Q=new Qu.x,_e=(0,Pt.of)(void 0).pipe((0,lA.Q)(u.outsideAngular),(0,ti.w)(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,5967)))),(0,kt.U)(()=>(0,mi.on)(n,a,r)),(0,kt.U)(Te=>zN(Te,a,f,v,S,M,_,L)),b2({bufferSize:1,refCount:!1}));if(fs(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Pt.of)(null);else{_e.pipe(Qc()).subscribe();const nt=_e.pipe((0,ti.w)(wt=>wt.getRedirectResult().then(qt=>qt,()=>null)),Cn.iC,b2({bufferSize:1,refCount:!1})),_t=_e.pipe((0,ti.w)(wt=>new ms.y(qt=>({unsubscribe:a.runOutsideAngular(()=>wt.onAuthStateChanged(cn=>qt.next(cn),cn=>qt.error(cn),()=>qt.complete()))})))),ot=_e.pipe((0,ti.w)(wt=>new ms.y(qt=>({unsubscribe:a.runOutsideAngular(()=>wt.onIdTokenChanged(cn=>qt.next(cn),cn=>qt.error(cn),()=>qt.complete()))}))));this.authState=nt.pipe(E2(_t),(0,mN.R)(u.outsideAngular),(0,lA.Q)(u.insideAngular)),this.user=nt.pipe(E2(ot),(0,mN.R)(u.outsideAngular),(0,lA.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,ti.w)(wt=>wt?(0,wn.D)(wt.getIdToken()):(0,Pt.of)(null))),this.idTokenResult=this.user.pipe((0,ti.w)(wt=>wt?(0,wn.D)(wt.getIdTokenResult()):(0,Pt.of)(null))),this.credential=(0,gN.T)(nt,Q,this.authState.pipe(Wo(wt=>!wt))).pipe((0,kt.U)(wt=>wt?.user?wt:null),(0,mN.R)(u.outsideAngular),(0,lA.Q)(u.insideAngular))}return(0,mi.pX)(this,_e,a,{spy:{apply:(Te,nt,_t)=>{(Te.startsWith("signIn")||Te.startsWith("createUser"))&&_t.then(ot=>Q.next(ot))}}})}}return t.\u0275fac=function(n){return new(n||t)(d.LFG(mi.Dh),d.LFG(mi.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Cn.HU),d.LFG(VN,8),d.LFG(BN,8),d.LFG(jN,8),d.LFG(HN,8),d.LFG($N,8),d.LFG(GN,8),d.LFG(AI,8))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),l3=(()=>{class t{constructor(){_A.Z.registerVersion("angularfire",Cn.q4.full,"auth-compat")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[xI]}),t})();function z2(t,e){return function u3(t,e=Wy.z){return new ms.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function qN(t,e){return z2(t,e).pipe((0,kt.U)(n=>({payload:n,type:"query"})))}function yA(t,e){return qN(t,e).pipe(Mh(void 0),ib(),(0,kt.U)(([n,r])=>{const i=r.payload.docChanges(),a=i.map(u=>({type:u.type,payload:u}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,f)=>{const _=i.find(S=>S.doc.ref.isEqual(u.ref)),v=n?.payload.docs.find(S=>S.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function q2(t,e,n){return yA(t,n).pipe(Jc((r,i)=>function d3(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function h3(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return WN(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return WN(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return WN(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(a=>a.payload),e),[]),(0,yD.x)(),(0,kt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function WN(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function W2(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class Z2{constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=yA(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,kt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(Mh(void 0),ib(),Wo(([r,i])=>i.length>0||!r),(0,kt.U)(([r,i])=>i),Cn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Jc((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=W2(e);return q2(this.query,n,this.afs.schedulers.outsideAngular).pipe(Cn.iC)}valueChanges(e={}){return qN(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(n=>n.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Cn.iC)}get(e){return(0,wn.D)(this.query.get(e)).pipe(Cn.iC)}add(e){return this.ref.add(e)}doc(e){return new K2(this.ref.doc(e),this.afs)}}class K2{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:a}=J2(r,n);return new Z2(i,a,this.afs)}snapshotChanges(){return function c3(t,e){return z2(t,e).pipe(Mh(void 0),ib(),(0,kt.U)(([n,r])=>r.exists?n?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Cn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,kt.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,wn.D)(this.ref.get(e)).pipe(Cn.iC)}}class f3{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?yA(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(n=>n.filter(r=>e.indexOf(r.type)>-1)),Wo(n=>n.length>0),Cn.iC):yA(this.query,this.afs.schedulers.outsideAngular).pipe(Cn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Jc((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=W2(e);return q2(this.query,n,this.afs.schedulers.outsideAngular).pipe(Cn.iC)}valueChanges(e={}){return qN(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Cn.iC)}get(e){return(0,wn.D)(this.query.get(e)).pipe(Cn.iC)}}const Y2=new d.OlP("angularfire2.enableFirestorePersistence"),Q2=new d.OlP("angularfire2.firestore.persistenceSettings"),p3=new d.OlP("angularfire2.firestore.settings"),g3=new d.OlP("angularfire2.firestore.use-emulator");function J2(t,e=(n=>n)){return{query:e(t),ref:t}}let X2=(()=>{class t{constructor(n,r,i,a,u,f,_,v,S,M,L,H,Q,_e,Te,nt,_t){this.schedulers=_;const ot=(0,mi.on)(n,f,r),wt=S;M&&zN(ot,f,L,Q,_e,Te,H,nt),[this.firestore,this.persistenceEnabled$]=(0,mi.cc)(`${ot.name}.firestore`,"AngularFirestore",ot.name,()=>{const qt=f.runOutsideAngular(()=>ot.firestore());if(a&&qt.settings(a),wt&&qt.useEmulator(...wt),i&&!fs(u)){const cn=()=>{try{return(0,wn.D)(qt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Zi){return typeof console<"u"&&console.warn(Zi),(0,Pt.of)(!1)}};return[qt,f.runOutsideAngular(cn)]}return[qt,(0,Pt.of)(!1)]},[a,wt,i])}collection(n,r){let i;i="string"==typeof n?this.firestore.collection(n):n;const{ref:a,query:u}=J2(i,r),f=this.schedulers.ngZone.run(()=>a);return new Z2(f,u,this)}collectionGroup(n,r){const i=r||(u=>u),a=this.firestore.collectionGroup(n);return new f3(i(a),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const i=this.schedulers.ngZone.run(()=>r);return new K2(i,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(n){return new(n||t)(d.LFG(mi.Dh),d.LFG(mi.xv,8),d.LFG(Y2,8),d.LFG(p3,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Cn.HU),d.LFG(Q2,8),d.LFG(g3,8),d.LFG(xI,8),d.LFG(VN,8),d.LFG(BN,8),d.LFG(jN,8),d.LFG(HN,8),d.LFG($N,8),d.LFG(GN,8),d.LFG(AI,8))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),m3=(()=>{class t{constructor(){_A.Z.registerVersion("angularfire",Cn.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:Y2,useValue:!0},{provide:Q2,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[X2]}),t})();var _3=F(3519),ZN=F.n(_3);let y3=(()=>{var t;class e{constructor(){}showSuccessAlert(r,i){ZN().fire({icon:"success",title:r,text:i})}showErrorAlert(r,i){ZN().fire({icon:"error",title:r,text:i,background:"#334155",color:"#fff",confirmButtonColor:"#1E293B",heightAuto:!1})}showInfoAlert(r,i){ZN().fire({icon:"info",title:r,text:i})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Lw=(()=>{var t;class e{constructor(r,i,a,u){this.afs=r,this.afAuth=i,this.router=a,this.alert=u,this.afAuth.authState.subscribe(f=>{f?this.afs.collection("users").doc(f.uid).get().subscribe(v=>{v.exists&&(this.userData=v.data()),localStorage.setItem("user",JSON.stringify(this.userData))}):(this.userData=null,localStorage.setItem("user","null"))})}setUserData(r){return this.afs.doc(`users/${r.uid}`).set({uid:r.uid,email:r.email,displayName:r.displayName,photoURL:r.photoURL,role:r.role},{merge:!0})}signIn(r,i){return this.afAuth.signInWithEmailAndPassword(r,i).then(a=>{this.afAuth.authState.subscribe(u=>{u&&this.router.navigate(["/dashboard"])})}).catch(a=>{this.alert.showErrorAlert("Error sign in",a.message)})}signOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["/sign-in"])})}get isLoggedIn(){return null!=JSON.parse(localStorage.getItem("user"))}get userRole(){return JSON.parse(localStorage.getItem("user")).role||""}signUp(r,i,a,u){return this.afAuth.createUserWithEmailAndPassword(r,i).then(f=>{const _=f.user;_?(this.setUserData({uid:_.uid,email:r,displayName:a,photoURL:"",role:u||"default"}),_.updateProfile({displayName:a,photoURL:""}),this.afAuth.authState.subscribe(v=>{v&&this.router.navigate(["/dashboard"])})):this.alert.showErrorAlert("Error sign up","Null user")}).catch(f=>{this.alert.showErrorAlert("Error sign up",f.message)})}deleteUser(){return this.afAuth.currentUser.then(r=>{if(r)return r.delete();throw new Error("No se ha encontrado un usuario autenticado.")})}}return(t=e).\u0275fac=function(r){return new(r||t)(d.LFG(X2),d.LFG(xI),d.LFG(Cs),d.LFG(y3))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function v3(t,e){if(1&t&&(d.TgZ(0,"div",3)(1,"div",9)(2,"div",10),d._UZ(3,"img",11),d.TgZ(4,"div",12)(5,"h1",13),d._uU(6," Hello: "),d.TgZ(7,"span",14),d._uU(8),d.qZA()(),d.TgZ(9,"p"),d._uU(10," User ID: "),d.TgZ(11,"span",14),d._uU(12),d.qZA()(),d.TgZ(13,"p"),d._uU(14," Email: "),d.TgZ(15,"span",14),d._uU(16),d.qZA()(),d.TgZ(17,"p"),d._uU(18," Role: "),d.TgZ(19,"span",14),d._uU(20),d.qZA()()()()()()),2&t){const n=e.ngIf;d.xp6(3),d.s9C("src",n.photoURL?n.photoURL:"",d.LSH),d.s9C("alt",n.displayName),d.xp6(5),d.Oqu(n.displayName?n.displayName:"User"),d.xp6(4),d.Oqu(n.uid),d.xp6(4),d.Oqu(n.email),d.xp6(4),d.Oqu(n.role)}}const w3=function(t,e){return{animate__animated:t,animate__fadeIn:e}};function b3(t,e){if(1&t&&(d.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"main",4)(4,"div",5)(5,"div",6)(6,"h1",7),d._uU(7,"User Profile"),d.qZA()(),d.YNc(8,v3,21,6,"div",8),d.qZA()()()()()),2&t){const n=d.oxw();d.Q6J("ngClass",d.WLB(2,w3,!n.loaderService.isLoading,!n.loaderService.isLoading)),d.xp6(8),d.Q6J("ngIf",n.authService.userData)}}let E3=(()=>{var t;class e{constructor(r,i){this.authService=r,this.loaderService=i}ngOnInit(){this.loaderService.runLoader(3e3,()=>{console.log("Dashboard loading...")})}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(Lw),d.Y36(Xl))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-dashboard"]],decls:1,vars:1,consts:[["class","h-full w-full px-5","id","contact-us",3,"ngClass",4,"ngIf"],["id","contact-us",1,"h-full","w-full","px-5",3,"ngClass"],[1,"container-fluid"],[1,"row"],["role","main",1,"col-md-9","ml-sm-auto","col-lg-10","px-4"],[1,"inner-adjust"],[1,"mb-3","border-b","pb-2","pt-3"],[1,"h2"],["class","row",4,"ngIf"],[1,"w-full"],[1,"flex"],[1,"img-thumbnail","mr-5","self-start","rounded-full",3,"src","alt"],[1,"media-body"],[1,"text-xl","font-bold"],[1,"font-semibold"]],template:function(r,i){1&r&&d.YNc(0,b3,9,5,"div",0),2&r&&d.Q6J("ngIf",!i.loaderService.isLoading)},dependencies:[ci,di]}),e})(),I3=(()=>{var t;class e{constructor(r,i){this.element=r,this.renderer=i}ngAfterViewInit(){this.startBlinking()}ngOnDestroy(){this.stopBlinking()}startBlinking(){this.intervalId=setInterval(()=>{this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),setTimeout(()=>{this.renderer.setStyle(this.element.nativeElement,"visibility","visible")},250)},500)}stopBlinking(){clearInterval(this.intervalId),this.renderer.setStyle(this.element.nativeElement,"visibility","visible")}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(d.SBq),d.Y36(d.Qsj))},t.\u0275dir=d.lG2({type:t,selectors:[["","appCursorBlink",""]]}),e})();const C3=function(t,e){return{animate__animated:t,animate__fadeIn:e}};function D3(t,e){if(1&t&&(d.TgZ(0,"div",1)(1,"div",2)(2,"h1",3),d._uU(3,"Blue Code - Moving ideas"),d.qZA()(),d.TgZ(4,"div",4)(5,"pre",5),d._uU(6,"  "),d.TgZ(7,"span",6),d._uU(8,"user@linux:"),d.qZA(),d.TgZ(9,"span",7),d._uU(10,"~$"),d.qZA(),d._uU(11," "),d.TgZ(12,"span",8),d._uU(13,"_"),d.qZA(),d._uU(14," cat sum.py\n  "),d.TgZ(15,"span",9),d._uU(16,"File content sum.py:"),d.qZA(),d._uU(17,"\n  "),d.TgZ(18,"code",10),d._uU(19,'\n  def sum(a, b):\n      return a + b\n  \n  if __name__ == "__main__":\n      result = sum(5, 3)\n      print("Created by Sebasti\xe1n Padilla & Edwin Becerra")\n      print("The sum of %s and %s is: %s" % (num1, num2, result))\n  '),d.qZA(),d._uU(20,"\n  "),d.TgZ(21,"span",6),d._uU(22,"user@linux:"),d.qZA(),d.TgZ(23,"span",7),d._uU(24,"~$"),d.qZA(),d._uU(25," "),d.TgZ(26,"span",8),d._uU(27,"_"),d.qZA(),d._uU(28," python3 sum.py\n  "),d.TgZ(29,"span",9),d._uU(30,"Created by Sebasti\xe1n Padilla & Edwin Becerra"),d.qZA(),d._uU(31,"\n  "),d.TgZ(32,"span",9),d._uU(33,"The sum of 5 and 3 is: 8"),d.qZA(),d._uU(34,"\n  "),d.TgZ(35,"span",6),d._uU(36,"user@linux:"),d.qZA(),d.TgZ(37,"span",7),d._uU(38,"~$"),d.qZA(),d._uU(39," "),d.TgZ(40,"span",8),d._uU(41,"_"),d.qZA(),d._uU(42," exit\n  "),d.TgZ(43,"span",6),d._uU(44,"user@linux:"),d.qZA(),d.TgZ(45,"span",7),d._uU(46,"~$"),d.qZA(),d._uU(47," "),d._UZ(48,"span",11),d._uU(49,"\n  "),d.qZA()()()),2&t){const n=d.oxw();d.Q6J("ngClass",d.WLB(1,C3,!n.loaderService.isLoading,!n.loaderService.isLoading))}}let T3=(()=>{var t;class e{constructor(r){this.loaderService=r}ngOnInit(){this.loaderService.runLoader(2e3,()=>{console.log("Loading home...")})}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(Xl))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-home"]],decls:1,vars:1,consts:[["class","m-0 h-full w-full px-5 py-5","id","home-content",3,"ngClass",4,"ngIf"],["id","home-content",1,"m-0","h-full","w-full","px-5","py-5",3,"ngClass"],[1,"opacity-35","mb-3","flex","h-[5%]","w-full","items-center","justify-end","text-sm","font-bold","italic"],[1,"pr-4"],["id","console-home",1,"mx-auto","h-[91%]","w-full","overflow-auto","rounded-lg","bg-slate-800","text-sm","shadow-lg","sm:text-base"],[1,"w-full","pt-3","font-mono","text-white"],[1,"text-green-500"],[1,"text-blue-500"],[1,"cursor-blink"],[1,"text-yellow-500"],[1,"flex-1","text-gray-300","px-4"],["appCursorBlink","",1,"cursor-blink-end","flex","items-center","justify-center","w-4","h-4"]],template:function(r,i){1&r&&d.YNc(0,D3,50,4,"div",0),2&r&&d.Q6J("ngIf",!i.loaderService.isLoading)},dependencies:[ci,di,I3]}),e})();function S3(t,e){if(1&t&&(d.TgZ(0,"div",5)(1,"h3",6),d._uU(2),d.qZA(),d.TgZ(3,"div",7),d._UZ(4,"img",8),d.qZA(),d.TgZ(5,"div",9)(6,"p"),d._uU(7),d.qZA(),d.TgZ(8,"p",10)(9,"a",11),d._uU(10,"People illustrations by Storyset"),d.qZA()()()()),2&t){const n=e.$implicit;d.xp6(2),d.hij(" ",n.title," "),d.xp6(2),d.Q6J("src",n.imgService,d.LSH),d.xp6(3),d.hij(" ",n.description," ")}}const A3=function(t,e){return{animate__animated:t,animate__fadeIn:e}};function x3(t,e){if(1&t&&(d.TgZ(0,"div",1)(1,"h2",2),d._uU(2,"Our services"),d.qZA(),d.TgZ(3,"div",3),d.YNc(4,S3,11,3,"div",4),d.qZA(),d._UZ(5,"br"),d.qZA()),2&t){const n=d.oxw();d.Q6J("ngClass",d.WLB(2,A3,!n.loaderService.isLoading,!n.loaderService.isLoading)),d.xp6(4),d.Q6J("ngForOf",n.serviceList)}}let M3=(()=>{var t;class e{constructor(r){this.loaderService=r,this.serviceList=[{title:"Custom Modules",description:"We develop adaptive software modules according to your needs.",imgService:"assets/images/vectors/custom-module.svg"},{title:"Agile Platform",description:"Request small modules efficiently through our platform.",imgService:"assets/images/vectors/agile-platform.svg"},{title:"Quick Response",description:"We guarantee a 72-hour response time for your requests.",imgService:"assets/images/vectors/quick-response.svg"},{title:"Adaptability and Agility",description:"Our solutions adapt to your changing requirements.",imgService:"assets/images/vectors/adaptability.svg"},{title:"Remote Innovation",description:"Colombian remote team driving innovative technological solutions.",imgService:"assets/images/vectors/innovation-remote.svg"}]}ngOnInit(){this.loaderService.runLoader(3e3,()=>{console.log("Loading services...")})}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(Xl))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-our-services"]],decls:1,vars:1,consts:[["class","h-full w-full px-5",3,"ngClass",4,"ngIf"],[1,"h-full","w-full","px-5",3,"ngClass"],[1,"p-5","text-center","text-2xl","font-semibold"],[1,"grid","grid-cols-1","gap-4","md:grid-cols-3"],["class","rounded-md bg-slate-700 p-5 shadow-md",4,"ngFor","ngForOf"],[1,"rounded-md","bg-slate-700","p-5","shadow-md"],[1,"w-full","text-center","text-lg","font-semibold"],[1,"block"],["alt","","srcset","",3,"src"],[1,"block","text-center"],[1,"pt-5","text-right","text-sm","italic","opacity-40"],["href","https://storyset.com/people"]],template:function(r,i){1&r&&d.YNc(0,x3,6,5,"div",0),2&r&&d.Q6J("ngIf",!i.loaderService.isLoading)},dependencies:[ci,Os,di]}),e})();function R3(t,e){if(1&t&&(d.TgZ(0,"div",4)(1,"div",5)(2,"p"),d._uU(3),d.qZA()(),d.TgZ(4,"div",6),d._UZ(5,"img",7),d.TgZ(6,"p",8),d._uU(7),d.qZA()(),d.TgZ(8,"p",9)(9,"a",10),d._uU(10,"People illustrations by Storyset"),d.qZA()()()),2&t){const n=e.$implicit;d.xp6(3),d.Oqu(n.title),d.xp6(2),d.Q6J("src",n.politicImg,d.LSH)("alt",n.title),d.xp6(2),d.Oqu(n.description)}}const N3=function(t,e){return{animate__animated:t,animate__fadeIn:e}};function k3(t,e){if(1&t&&(d.TgZ(0,"div",1)(1,"h2",2),d._uU(2,"Our politics"),d.qZA(),d.YNc(3,R3,11,4,"div",3),d._UZ(4,"br"),d.qZA()),2&t){const n=d.oxw();d.Q6J("ngClass",d.WLB(2,N3,!n.loaderService.isLoading,!n.loaderService.isLoading)),d.xp6(3),d.Q6J("ngForOf",n.politics)}}let P3=(()=>{var t;class e{constructor(r){this.loaderService=r,this.politics=[{title:"Agile Development",description:"An iterative approach to software development that emphasizes collaboration, flexibility, and customer satisfaction.",politicImg:"assets/images/vectors/programming.svg"},{title:"Data Protection",description:"Safeguarding sensitive information from unauthorized access, disclosure, alteration, or destruction.",politicImg:"assets/images/vectors/data.svg"},{title:"Software Quality",description:"Ensuring the overall performance, reliability, and functionality of a software product through testing and continuous improvement.",politicImg:"assets/images/vectors/mobile.svg"},{title:"Updating and Maintenance",description:"Regular updates and maintenance to fix bugs, enhance features, and ensure compatibility with changing environments.",politicImg:"assets/images/vectors/updating.svg"},{title:"Information Security",description:"Protecting data and systems from threats like hacking, malware, and data breaches through security measures and best practices.",politicImg:"assets/images/vectors/information-security.svg"},{title:"Change Management",description:"Managing the process of planning, implementing, and controlling changes to software systems to adapt to evolving needs and technologies.",politicImg:"assets/images/vectors/change.svg"},{title:"Collaboration and Communication",description:"Effective teamwork and communication within software development teams to ensure efficiency and clarity.",politicImg:"assets/images/vectors/collaboration.svg"},{title:"Code Quality and Review",description:"Evaluating code for readability, maintainability, and efficiency through peer code reviews.",politicImg:"assets/images/vectors/quality.svg"},{title:"Social Responsibility",description:"Addressing ethical considerations in software development, such as environmental impact, diversity and inclusion, and responsible technology use.",politicImg:"assets/images/vectors/talking.svg"},{title:"Standards and Regulations",description:"Compliance with industry standards and regulations, particularly in highly regulated sectors like healthcare or finance.",politicImg:"assets/images/vectors/standars.svg"},{title:"Customer Service",description:"Providing excellent customer service by addressing inquiries, resolving issues, and ensuring customer satisfaction.",politicImg:"assets/images/vectors/customer-attention.svg"}]}ngOnInit(){this.loaderService.runLoader(2e3,()=>{console.log("Loading politics...")})}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(Xl))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-politics"]],decls:1,vars:1,consts:[["class","h-auto w-full flex-1 items-center px-5 sm:h-full",3,"ngClass",4,"ngIf"],[1,"h-auto","w-full","flex-1","items-center","px-5","sm:h-full",3,"ngClass"],[1,"p-5","text-center","text-2xl","font-semibold"],["class","mb-5 w-full flex-1 rounded-lg bg-slate-700 p-5 shadow-md",4,"ngFor","ngForOf"],[1,"mb-5","w-full","flex-1","rounded-lg","bg-slate-700","p-5","shadow-md"],[1,"w-full","flex-1","text-center","text-lg","font-semibold"],[1,"w-full","flex-1","items-center","text-left","sm:flex"],[1,"mx-auto","w-[60%]","sm:w-[20%]",3,"src","alt"],[1,"w-full","px-5","sm:w-[80%]"],[1,"pt-5","text-right","text-sm","italic","opacity-40"],["href","https://storyset.com/people"]],template:function(r,i){1&r&&d.YNc(0,k3,5,5,"div",0),2&r&&d.Q6J("ngIf",!i.loaderService.isLoading)},dependencies:[ci,Os,di]}),e})();const O3=function(t,e){return{animate__animated:t,animate__fadeIn:e}};function L3(t,e){if(1&t){const n=d.EpF();d.TgZ(0,"div",1)(1,"div",2)(2,"div",3),d._UZ(3,"img",4),d.qZA(),d.TgZ(4,"h3",5),d._uU(5,"Sign In"),d.qZA(),d.TgZ(6,"div",6)(7,"div",7),d._UZ(8,"input",8,9),d.TgZ(10,"label",10),d._uU(11,"Email"),d.qZA()()(),d.TgZ(12,"div",6)(13,"div",7),d._UZ(14,"input",11,12),d.TgZ(16,"label",13),d._uU(17,"Password"),d.qZA()()(),d.TgZ(18,"div",14)(19,"input",15),d.NdJ("click",function(){d.CHM(n);const i=d.MAs(9),a=d.MAs(15),u=d.oxw();return d.KtG(u.authService.signIn(i.value,a.value))}),d.qZA()(),d.TgZ(20,"div",16)(21,"span"),d._uU(22,"Don't have an account?"),d.TgZ(23,"span",17),d._uU(24," Sign Up"),d.qZA()()(),d.TgZ(25,"div",3),d._UZ(26,"img",4),d.qZA()()()}if(2&t){const n=d.oxw();d.Q6J("ngClass",d.WLB(1,O3,!n.loaderService.isLoading,!n.loaderService.isLoading))}}let F3=(()=>{var t;class e{constructor(r,i){this.authService=r,this.loaderService=i}ngOnInit(){this.loaderService.runLoader(2e3,()=>{console.log("Sign in loaded...")})}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(Lw),d.Y36(Xl))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-sign-in"]],decls:1,vars:1,consts:[["class","align-items-center flex-1 justify-center p-5",3,"ngClass",4,"ngIf"],[1,"align-items-center","flex-1","justify-center","p-5",3,"ngClass"],[1,"authBlock","rounded-md","bg-slate-700","shadow-md"],[1,"w-full","h-16"],["src","assets/images/backgrounds/sign-in.gif","alt","",1,"h-full","w-full","rounded-sm","object-cover","opacity-50","shadow-md"],[1,"text-center","text-xl","font-semibold","py-5"],[1,"formGroup","px-5","py-3","md:px-32"],[1,"relative","m-3"],["type","text","id","floating_filled_email","placeholder"," ","required","",1,"peer","block","w-full","appearance-none","border-0","border-b-2","border-gray-600","bg-transparent","px-0","py-2.5","text-sm","focus:border-blue-600","focus:outline-none","focus:ring-0"],["userEmail",""],["for","floating_filled_email",1,"absolute","left-0","top-1","z-10","origin-[0]","-translate-y-4","scale-75","transform","text-sm","text-gray-500","duration-300","peer-placeholder-shown:translate-y-0","peer-placeholder-shown:scale-100","peer-focus:-translate-y-4","peer-focus:scale-75","peer-focus:text-blue-600","dark:text-gray-400","peer-focus:dark:text-blue-500"],["type","password","id","floating_filled_password","placeholder"," ","required","",1,"peer","block","w-full","appearance-none","border-0","border-b-2","border-gray-600","bg-transparent","px-0","py-2.5","text-sm","focus:border-blue-600","focus:outline-none","focus:ring-0"],["userPassword",""],["for","floating_filled_password",1,"absolute","left-0","top-1","z-10","origin-[0]","-translate-y-4","scale-75","transform","text-sm","text-gray-500","duration-300","peer-placeholder-shown:translate-y-0","peer-placeholder-shown:scale-100","peer-focus:-translate-y-4","peer-focus:scale-75","peer-focus:text-blue-600","dark:text-gray-400","peer-focus:dark:text-blue-500"],[1,"formGroup","flex","w-full","justify-center","py-3","text-center"],["type","button","value","Log in",1,"h-10","w-32","cursor-pointer","rounded-md","bg-slate-800","text-sm","font-semibold","shadow-md","transition","delay-150","duration-300","ease-in-out","hover:-translate-y-1","hover:scale-105","hover:bg-slate-500","hover:text-slate-800",3,"click"],[1,"redirectToLogin","flex","justify-center","pt-3","text-xs","italic","opacity-70","pb-6"],["routerLink","/sign-up",1,"redirect","cursor-pointer","underline"]],template:function(r,i){1&r&&d.YNc(0,L3,27,4,"div",0),2&r&&d.Q6J("ngIf",!i.loaderService.isLoading)},dependencies:[ci,di,ec]}),e})();const U3=function(t,e){return{animate__animated:t,animate__fadeIn:e}};function V3(t,e){if(1&t){const n=d.EpF();d.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),d._UZ(5,"img",6),d.qZA(),d.TgZ(6,"h3",7),d._uU(7,"Sign Up"),d.qZA(),d.TgZ(8,"div",8)(9,"div",9),d._UZ(10,"input",10,11),d.TgZ(12,"label",12),d._uU(13,"Nickname"),d.qZA()()(),d.TgZ(14,"div",13)(15,"div",9),d._UZ(16,"input",14,15),d.TgZ(18,"label",16),d._uU(19,"Email Address"),d.qZA()()(),d.TgZ(20,"div",13)(21,"div",9),d._UZ(22,"input",17,18),d.TgZ(24,"label",19),d._uU(25,"Password"),d.qZA()()(),d.TgZ(26,"div",20)(27,"label",21),d._uU(28,"Select a Role"),d.qZA(),d.TgZ(29,"select",22,23)(31,"option",24),d._uU(32,"Client"),d.qZA(),d.TgZ(33,"option",25),d._uU(34,"Developer"),d.qZA()()(),d.TgZ(35,"div",13)(36,"div",9)(37,"input",26),d.NdJ("change",function(i){d.CHM(n);const a=d.oxw();return d.KtG(a.handlePhotoChange(i))}),d.qZA(),d.TgZ(38,"label",27),d.O4$(),d.TgZ(39,"svg",28),d._UZ(40,"path",29),d.qZA(),d._uU(41," Upload Photo "),d.qZA()()(),d.kcU(),d.TgZ(42,"div",30)(43,"input",31),d.NdJ("click",function(){d.CHM(n);const i=d.MAs(17),a=d.MAs(23),u=d.MAs(11),f=d.MAs(30),_=d.oxw();return d.KtG(_.authService.signUp(i.value,a.value,u.value,f.value))}),d.qZA()(),d.TgZ(44,"div",32)(45,"span"),d._uU(46," Already have an account? "),d.TgZ(47,"span",33),d._uU(48," Sign In "),d.qZA()()(),d.TgZ(49,"div",5),d._UZ(50,"img",6),d.qZA()()()()()}if(2&t){const n=d.oxw();d.Q6J("ngClass",d.WLB(1,U3,!n.loaderService.isLoading,!n.loaderService.isLoading))}}let B3=(()=>{var t;class e{constructor(r,i){this.authService=r,this.loaderService=i}ngOnInit(){this.loaderService.runLoader(2e3,()=>{console.log("Sign up loading...")})}handlePhotoChange(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(Lw),d.Y36(Xl))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-sign-up"]],decls:1,vars:1,consts:[["class","align-items-center flex-1 justify-center p-5",3,"ngClass",4,"ngIf"],[1,"align-items-center","flex-1","justify-center","p-5",3,"ngClass"],[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock","rounded-md","bg-slate-700","shadow-md"],[1,"h-16","w-full"],["src","assets/images/backgrounds/sign-in.gif","alt","",1,"h-full","w-full","rounded-sm","object-cover","opacity-50","shadow-md"],[1,"py-5","text-center","text-xl","font-semibold"],[1,"formGroup","px-5","md:px-32"],[1,"relative","m-3"],["type","text","id","floating_filled_nickname","placeholder"," ","required","",1,"peer","block","w-full","appearance-none","border-0","border-b-2","border-gray-600","bg-transparent","px-0","py-2.5","text-sm","focus:border-blue-600","focus:outline-none","focus:ring-0"],["userName",""],["for","floating_filled_nickname",1,"absolute","left-0","top-1","z-10","origin-[0]","-translate-y-4","scale-75","transform","text-sm","text-gray-500","duration-300","peer-placeholder-shown:translate-y-0","peer-placeholder-shown:scale-100","peer-focus:-translate-y-4","peer-focus:scale-75","peer-focus:text-blue-600","dark:text-gray-400","peer-focus:dark:text-blue-500"],[1,"formGroup","px-5","py-3","md:px-32"],["type","email","id","floating_filled_email","placeholder"," ","required","",1,"peer","block","w-full","appearance-none","border-0","border-b-2","border-gray-600","bg-transparent","px-0","py-2.5","text-sm","focus:border-blue-600","focus:outline-none","focus:ring-0"],["userEmail",""],["for","floating_filled_email",1,"absolute","left-0","top-1","z-10","origin-[0]","-translate-y-4","scale-75","transform","text-sm","text-gray-500","duration-300","peer-placeholder-shown:translate-y-0","peer-placeholder-shown:scale-100","peer-focus:-translate-y-4","peer-focus:scale-75","peer-focus:text-blue-600","dark:text-gray-400","peer-focus:dark:text-blue-500"],["type","password","id","floating_filled_password","placeholder"," ","required","",1,"peer","block","w-full","appearance-none","border-0","border-b-2","border-gray-600","bg-transparent","px-0","py-2.5","text-sm","focus:border-blue-600","focus:outline-none","focus:ring-0"],["userPwd",""],["for","floating_filled_password",1,"absolute","left-0","top-1","z-10","origin-[0]","-translate-y-4","scale-75","transform","text-sm","text-gray-500","duration-300","peer-placeholder-shown:translate-y-0","peer-placeholder-shown:scale-100","peer-focus:-translate-y-4","peer-focus:scale-75","peer-focus:text-blue-600","dark:text-gray-400","peer-focus:dark:text-blue-500"],[1,"formGroup","px-9","py-3","md:px-36"],["for","userRole",1,"text-xs","opacity-50"],["id","userRole","required","",1,"peer","block","w-full","appearance-none","rounded-lg","border-0","border-b-2","border-gray-600","bg-slate-700","bg-transparent","p-2.5","px-0","py-2.5","text-sm","text-white","text-opacity-60","focus:border-blue-600","focus:outline-none","focus:ring-0","focus:ring-blue-500"],["userRole",""],["value","Client",1,"text-black"],["value","Developer",1,"text-black"],["type","file","accept",".jpg, .png","id","userPhoto","disabled","",1,"hidden",3,"change"],["for","userPhoto",1,"flex","h-12","w-full","cursor-pointer","items-center","justify-center","rounded-lg","bg-slate-800","text-sm","text-white","transition","delay-150","duration-300","ease-in-out","hover:-translate-y-1","hover:scale-105","hover:bg-slate-500","hover:text-slate-800"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mr-2","h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"formGroup","flex","w-full","justify-center","py-3","text-center"],["type","button","value","Sign Up",1,"h-10","w-32","cursor-pointer","rounded-md","bg-slate-800","text-sm","font-semibold","shadow-md","transition","delay-150","duration-300","ease-in-out","hover:-translate-y-1","hover:scale-105","hover:bg-slate-500","hover:text-slate-800",3,"click"],[1,"formGroup","px-5","pb-6","pt-3","text-center","text-xs","italic","opacity-70","md:px-32"],["routerLink","/sign-in",1,"redirect","cursor-pointer","underline"]],template:function(r,i){1&r&&d.YNc(0,V3,51,4,"div",0),2&r&&d.Q6J("ngIf",!i.loaderService.isLoading)},dependencies:[ci,di,ec,Ih,Ch]}),e})(),j3=(()=>{var t;class e{constructor(r,i){this.authService=r,this.router=i}canActivate(r,i){return!0===this.authService.isLoggedIn||(this.router.navigate(["sign-in"]),!1)}}return(t=e).\u0275fac=function(r){return new(r||t)(d.LFG(Lw),d.LFG(Cs))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),eL=(()=>{var t;class e{constructor(r,i){this.authService=r,this.router=i}canActivate(r,i){return!this.authService.isLoggedIn||(this.router.navigate(["/dashboard"]),!1)}}return(t=e).\u0275fac=function(r){return new(r||t)(d.LFG(Lw),d.LFG(Cs))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const H3=[{path:"",component:T3},{path:"about",component:c1},{path:"politics",component:P3},{path:"contact",component:ZP},{path:"our-services",component:M3},{path:"sign-in",component:F3,canActivate:[eL]},{path:"sign-up",component:B3,canActivate:[eL]},{path:"dashboard",component:E3,canActivate:[j3]},{path:"**",component:d1}];let $3=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[tb.forRoot(H3),tb]}),e})(),G3=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-footer"]],decls:19,vars:3,consts:[["id","footer",1,"mt-3"],[1,"flex","h-20","w-full","items-center","justify-center","rounded-t-lg","border","border-slate-800","bg-gradient-to-l","from-slate-800","to-slate-700","text-white"],[1,"h-12","w-60","rounded-lg","bg-slate-800","text-white","opacity-60","shadow-md","hover:opacity-90","focus:outline-none"],[1,"flex","flex-col","items-center","justify-between","bg-slate-800","p-4","text-center","text-sm","font-semibold","text-white","opacity-80","shadow-md","md:flex-row"],[1,"mb-2"],["href","#",1,"text-blue-500","hover:underline"],[1,"text-sm","italic","opacity-70"],[1,"mt-4","md:mt-0"],["data-content","about",1,"load-button","mr-4","hover:underline",3,"routerLink"],["data-content","our-services",1,"load-button","mr-4","hover:underline",3,"routerLink"],["data-content","contact",1,"load-button","hover:underline",3,"routerLink"]],template:function(r,i){1&r&&(d.TgZ(0,"footer",0)(1,"div",1)(2,"button",2),d._uU(3," Work with us "),d.qZA()(),d.TgZ(4,"div",3)(5,"div")(6,"p",4),d._uU(7," \xa9 2023 Copyright - "),d.TgZ(8,"a",5),d._uU(9,"Blue Code"),d.qZA()(),d.TgZ(10,"p",6),d._uU(11," By Edwin Becerra & Sebasti\xe1n Padilla "),d.qZA()(),d.TgZ(12,"div",7)(13,"a",8),d._uU(14,"About us"),d.qZA(),d.TgZ(15,"a",9),d._uU(16,"Our services"),d.qZA(),d.TgZ(17,"a",10),d._uU(18,"Contact us"),d.qZA()()()()),2&r&&(d.xp6(13),d.Q6J("routerLink","about"),d.xp6(2),d.Q6J("routerLink","our-services"),d.xp6(2),d.Q6J("routerLink","contact"))},dependencies:[ec]}),e})(),z3=(()=>{var t;class e{constructor(){this.button={link:"",label:"",section:void 0}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-button-table"]],inputs:{button:"button"},decls:2,vars:3,consts:[[1,"load-button","block","rounded-lg","w-4/5","mx-auto","p-2","m-2","bg-slate-700","text-base","text-white","opacity-100","shadow-md","transition","delay-150","duration-300","ease-in-out","hover:-translate-y-1","hover:scale-105","hover:bg-slate-600",3,"routerLink","fragment"]],template:function(r,i){1&r&&(d.TgZ(0,"a",0),d._uU(1),d.qZA()),2&r&&(d.Q6J("routerLink",i.button.link)("fragment",i.button.section),d.xp6(1),d.hij(" ",i.button.label,"\n"))},dependencies:[ec]}),e})();function q3(t,e){if(1&t&&(d.TgZ(0,"tr",4)(1,"td",4),d._UZ(2,"app-button-table",5),d.qZA()()),2&t){const n=e.$implicit;d.xp6(2),d.Q6J("button",n)}}let W3=(()=>{var t;class e{constructor(){this.navigationButtons=[{link:"",label:"Home",section:void 0},{link:"about",label:"About us",section:"about-us"},{link:"about",label:"Mission",section:"mission"},{link:"about",label:"Vision",section:"vision"},{link:"politics",label:"Politics",section:void 0},{link:"contact",label:"Contact us",section:void 0},{link:"our-services",label:"Our services",section:void 0}]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-navbar-vertical"]],decls:8,vars:1,consts:[[1,"mx-auto","my-3","w-full","min-w-fit","table-auto","text-center"],["class","w-full",4,"ngFor","ngForOf"],[1,"sticky","bottom-0","top-full","w-full","border","border-slate-800","bg-slate-800","p-2","text-center","text-sm","font-light","italic","shadow-md"],["href","https://github.com/EdwinB5"],[1,"w-full"],[3,"button"]],template:function(r,i){1&r&&(d.TgZ(0,"table",0)(1,"tbody"),d.YNc(2,q3,3,1,"tr",1),d.qZA()(),d.TgZ(3,"div",2)(4,"p"),d._uU(5,"In development by"),d.qZA(),d.TgZ(6,"a",3),d._uU(7,"@EdwinB5"),d.qZA()()),2&r&&(d.xp6(2),d.Q6J("ngForOf",i.navigationButtons))},dependencies:[Os,z3]}),e})(),Z3=(()=>{var t;class e{constructor(){this.button={link:"",label:"",section:void 0}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-button-grid"]],inputs:{button:"button"},decls:3,vars:3,consts:[[1,"flex","justify-center","items-center"],[1,"load-button","block","w-11/12","rounded-lg","text-center","bg-slate-700","p-2","text-base","text-white","opacity-100","shadow-md","transition","delay-150","duration-300","ease-in-out","hover:-translate-y-1","hover:scale-105","hover:bg-slate-600",3,"routerLink","fragment"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0)(1,"a",1),d._uU(2),d.qZA()()),2&r&&(d.xp6(1),d.Q6J("routerLink",i.button.link)("fragment",i.button.section),d.xp6(1),d.hij(" ",i.button.label," "))},dependencies:[ec]}),e})();function K3(t,e){1&t&&d._UZ(0,"app-button-grid",2),2&t&&d.Q6J("button",e.$implicit)}let Y3=(()=>{var t;class e{constructor(){this.navigationButtons=[{link:"",label:"Home",section:void 0},{link:"about",label:"About us",section:"about-us"},{link:"about",label:"Mission",section:"mission"},{link:"about",label:"Vision",section:"vision"},{link:"politics",label:"Politics",section:void 0},{link:"contact",label:"Contact us",section:void 0},{link:"our-services",label:"Our services",section:void 0}]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-navbar-horizontal"]],decls:2,vars:1,consts:[[1,"relative","m-2","mx-0","grid","w-full","grid-cols-3","justify-center","gap-2"],[3,"button",4,"ngFor","ngForOf"],[3,"button"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.YNc(1,K3,1,1,"app-button-grid",1),d.qZA()),2&r&&(d.xp6(1),d.Q6J("ngForOf",i.navigationButtons))},dependencies:[Os,Z3]}),e})();function Q3(t,e){if(1&t){const n=d.EpF();d.TgZ(0,"button",16),d.NdJ("click",function(){d.CHM(n);const i=d.oxw();return d.KtG(i.toggleContainer())}),d._uU(1," \u2630 "),d.qZA()}}function J3(t,e){1&t&&(d.TgZ(0,"a",20),d._uU(1,"Sign In"),d.qZA()),2&t&&d.Q6J("routerLink","sign-in")}function X3(t,e){1&t&&(d.TgZ(0,"a",20),d._uU(1,"Sign Up"),d.qZA()),2&t&&d.Q6J("routerLink","sign-up")}function eH(t,e){1&t&&(d.TgZ(0,"a",20),d._uU(1,"Dashboard"),d.qZA()),2&t&&d.Q6J("routerLink","dashboard")}function tH(t,e){if(1&t){const n=d.EpF();d.TgZ(0,"a",21),d.NdJ("click",function(){d.CHM(n);const i=d.oxw(2);return d.KtG(i.authService.signOut())}),d._uU(1,"Sign Out"),d.qZA()}}function nH(t,e){if(1&t){const n=d.EpF();d.TgZ(0,"div",17),d.NdJ("mouseleave",function(){d.CHM(n);const i=d.oxw();return d.KtG(i.onMouseLeave())}),d.YNc(1,J3,2,1,"a",18),d.YNc(2,X3,2,1,"a",18),d.YNc(3,eH,2,1,"a",18),d.YNc(4,tH,2,0,"a",19),d.qZA()}if(2&t){const n=d.oxw();d.xp6(1),d.Q6J("ngIf",!n.authService.isLoggedIn),d.xp6(1),d.Q6J("ngIf",!n.authService.isLoggedIn),d.xp6(1),d.Q6J("ngIf",n.authService.isLoggedIn),d.xp6(1),d.Q6J("ngIf",n.authService.isLoggedIn)}}function rH(t,e){1&t&&(d.TgZ(0,"div",22),d._UZ(1,"div",23),d.qZA())}const iH=function(t,e,n,r){return{animate__animated:t,animate__slideInDown:e,hidden:n,relative:r}};let sH=(()=>{var t;class e{constructor(r,i){this.loaderService=r,this.authService=i,this.title="BlueCode",this.isMobileScreen=window.innerWidth<640,this.isContainerVisible=!1,this.isDropdownVisible=!1}onResize(r){this.isMobileScreen=r.target.innerWidth<640,this.isMobileScreen||(this.isContainerVisible=!1)}onClickOutside(r){document.querySelector("#user-menu")?.contains(r)||(this.isDropdownVisible=!1)}toggleContainer(){this.isContainerVisible=!this.isContainerVisible}toggleDropdown(){this.isDropdownVisible=!this.isDropdownVisible}onMouseEnter(){setTimeout(()=>{this.isDropdownVisible=!0},200)}onMouseLeave(){setTimeout(()=>{this.isDropdownVisible=!1},200)}}return(t=e).\u0275fac=function(r){return new(r||t)(d.Y36(Xl),d.Y36(Lw))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-root"]],hostBindings:function(r,i){1&r&&d.NdJ("resize",function(u){return i.onResize(u)},!1,d.Jf7)("click",function(u){return i.onClickOutside(u.target)},!1,d.evT)},decls:21,vars:9,consts:[[1,"justify-left","relative","z-10","flex","h-[13%]","w-full","flex-1","items-center","border","border-slate-800","bg-gradient-to-l","from-slate-800","to-slate-700","shadow-md"],["class","toggle-button absolute right-0 top-1/2 mx-5 ml-4 max-h-fit min-h-fit w-10 -translate-y-1/2 transform rounded-lg bg-slate-700 p-2 text-base text-white opacity-100 shadow-md","type","button",3,"click",4,"ngIf"],[1,"mx-3","flex","max-h-full","min-h-fit","items-center","rounded-lg","bg-gradient-to-r","from-slate-700","to-slate-800","shadow-md"],["href","",1,"block","h-16","max-h-fit","min-h-fit","items-center","px-2"],["src","assets/images/logos/blue_code_figure_white.png","alt","blue-code-logo",1,"h-full","max-h-fit","min-h-fit","w-auto","object-contain"],[1,"pr-3","text-sm","text-white","sm:text-xl","sm:font-semibold"],["id","user-menu",1,"absolute","right-16","top-1/2","mx-2","-translate-y-1/2","transform","rounded-lg","bg-slate-700","p-2","text-base","text-white","opacity-100","shadow-md","sm:right-2",3,"mouseenter"],[1,"flex","items-center",3,"click"],["src","assets/images/logos/avatar.svg","alt","avatar",1,"h-6","w-6","object-cover","opacity-30"],["class","absolute right-0 z-50 mt-4 w-48 rounded-lg border border-slate-700 bg-slate-700 text-sm text-white shadow-lg",3,"mouseleave",4,"ngIf"],["id","navbarCollapse",1,"relative","z-0","mt-2","max-h-[28%]","w-full","items-center","overflow-auto","rounded-lg","border","border-slate-800","bg-gradient-to-t","from-slate-700","to-slate-600","opacity-50","shadow-md",3,"ngClass"],[1,"flex","h-[85%]","gap-3","text-cyan-50"],[1,"content","relative","top-0","mt-3","hidden","w-1/4","overflow-y-auto","rounded-r-lg","border","border-slate-800","shadow-lg","sm:block"],[1,"mt-3","flex","w-full","flex-1","overflow-hidden","rounded-l-lg","border","border-slate-800","shadow-lg"],[1,"relative","h-full","w-full","overflow-hidden","overflow-y-auto"],["class","absolute inset-0 flex items-center justify-center bg-opacity-70",4,"ngIf"],["type","button",1,"toggle-button","absolute","right-0","top-1/2","mx-5","ml-4","max-h-fit","min-h-fit","w-10","-translate-y-1/2","transform","rounded-lg","bg-slate-700","p-2","text-base","text-white","opacity-100","shadow-md",3,"click"],[1,"absolute","right-0","z-50","mt-4","w-48","rounded-lg","border","border-slate-700","bg-slate-700","text-sm","text-white","shadow-lg",3,"mouseleave"],["class","block px-4 py-2 opacity-50 hover:bg-slate-400 hover:text-slate-800",3,"routerLink",4,"ngIf"],["class","block px-4 py-2 opacity-50 hover:bg-slate-400 hover:text-slate-800",3,"click",4,"ngIf"],[1,"block","px-4","py-2","opacity-50","hover:bg-slate-400","hover:text-slate-800",3,"routerLink"],[1,"block","px-4","py-2","opacity-50","hover:bg-slate-400","hover:text-slate-800",3,"click"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-opacity-70"],[1,"h-12","w-12","animate-spin","rounded-full","border-t-4","border-slate-600"]],template:function(r,i){1&r&&(d.TgZ(0,"div",0),d.YNc(1,Q3,2,0,"button",1),d.TgZ(2,"div",2)(3,"a",3),d._UZ(4,"img",4),d.qZA(),d.TgZ(5,"h1",5),d._uU(6," Blue Code "),d.qZA()(),d.TgZ(7,"div",6),d.NdJ("mouseenter",function(){return i.onMouseEnter()}),d.TgZ(8,"button",7),d.NdJ("click",function(){return i.toggleDropdown()}),d._UZ(9,"img",8),d.qZA(),d.YNc(10,nH,5,4,"div",9),d.qZA()(),d.TgZ(11,"div",10),d._UZ(12,"app-navbar-horizontal"),d.qZA(),d.TgZ(13,"div",11)(14,"div",12),d._UZ(15,"app-navbar-vertical"),d.qZA(),d.TgZ(16,"div",13)(17,"div",14),d.YNc(18,rH,2,0,"div",15),d._UZ(19,"router-outlet"),d.qZA()()(),d._UZ(20,"app-footer")),2&r&&(d.xp6(1),d.Q6J("ngIf",i.isMobileScreen),d.xp6(9),d.Q6J("ngIf",i.isDropdownVisible),d.xp6(1),d.Q6J("ngClass",d.l5B(4,iH,i.isContainerVisible,i.isContainerVisible,!i.isContainerVisible,i.isContainerVisible)),d.xp6(7),d.Q6J("ngIf",i.loaderService.isLoading))},dependencies:[ci,di,xy,ec,G3,W3,Y3]}),e})();const tL="firebasestorage.googleapis.com",nL="storageBucket";class ri extends U.ZR{constructor(e,n,r=0){super(KN(e),`Firebase Storage: ${n} (${KN(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ri.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return KN(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Gr=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Gr||{});function KN(t){return"storage/"+t}function YN(){return new ri(Gr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function rL(){return new ri(Gr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iL(){return new ri(Gr.CANCELED,"User canceled the upload/download.")}function sL(){return new ri(Gr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Fw(t){return new ri(Gr.INVALID_ARGUMENT,t)}function oL(){return new ri(Gr.APP_DELETED,"The Firebase app was deleted.")}function aL(t){return new ri(Gr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function MI(t,e){return new ri(Gr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function RI(t){throw new ri(Gr.INTERNAL_ERROR,"Internal error: "+t)}class Io{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Io.makeFromUrl(e,n)}catch{return new Io(e,"")}if(""===r.path)return r;throw function mH(t){return new ri(Gr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function v(wt){wt.path_=decodeURIComponent(wt.path)}const M=n.replace(/[.]/g,"\\."),ot=[{regex:f,indices:{bucket:1,path:3},postModify:function a(wt){"/"===wt.path.charAt(wt.path.length-1)&&(wt.path_=wt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${n===tL?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let wt=0;wt<ot.length;wt++){const qt=ot[wt],cn=qt.regex.exec(e);if(cn){let El=cn[qt.indices.path];El||(El=""),r=new Io(cn[qt.indices.bucket],El),qt.postModify(r);break}}if(null==r)throw function gH(t){return new ri(Gr.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class bH{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function vA(t){return"string"==typeof t||t instanceof String}function lL(t){return QN()&&t instanceof Blob}function QN(){return typeof Blob<"u"&&!(0,U.UG)()}function JN(t,e,n,r){if(r<e)throw Fw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Fw(`Invalid value for '${t}'. Expected ${n} or less.`)}function wf(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function uL(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var Uw=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Uw||{});function cL(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),a=-1!==e.indexOf(t);return n||i||a}class SH{constructor(e,n,r,i,a,u,f,_,v,S,M,L=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=_,this.timeout_=v,this.progressCallback_=S,this.connectionFactory_=M,this.retry=L,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,Q)=>{this.resolve_=H,this.reject_=Q,this.start_()})}start_(){const n=(r,i)=>{const a=this.resolve_,u=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const _=this.callback_(f,f.getResponse());!function CH(t){return void 0!==t}(_)?a():a(_)}catch(_){u(_)}else if(null!==f){const _=YN();_.serverResponse=f.getErrorText(),u(this.errorCallback_?this.errorCallback_(f,_):_)}else u(i.canceled?this.appDelete_?oL():iL():rL())};this.canceled_?n(0,new wA(!1,null,!0)):this.backoffId_=function EH(t,e,n){let r=1,i=null,a=null,u=!1,f=0;function _(){return 2===f}let v=!1;function S(...Te){v||(v=!0,e.apply(null,Te))}function M(Te){i=setTimeout(()=>{i=null,t(H,_())},Te)}function L(){a&&clearTimeout(a)}function H(Te,...nt){if(v)return void L();if(Te)return L(),void S.call(null,Te,...nt);if(_()||u)return L(),void S.call(null,Te,...nt);let ot;r<64&&(r*=2),1===f?(f=2,ot=0):ot=1e3*(r+Math.random()),M(ot)}let Q=!1;function _e(Te){Q||(Q=!0,L(),!v&&(null!==i?(Te||(f=2),clearTimeout(i),M(0)):Te||(f=1)))}return M(0),a=setTimeout(()=>{u=!0,_e(!0)},n),_e}((r,i)=>{if(i)return void r(!1,new wA(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===Uw.NO_ERROR,_=a.getStatus();if(!f||cL(_,this.additionalRetryCodes_)&&this.retry){const S=a.getErrorCode()===Uw.ABORT;return void r(!1,new wA(!1,null,S))}const v=-1!==this.successCodes_.indexOf(_);r(!0,new wA(v,a))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function IH(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class wA{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function PH(...t){const e=function kH(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(QN())return new Blob(t);throw new ri(Gr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const vl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class XN{constructor(e,n){this.data=e,this.contentType=n||null}}function ek(t,e){switch(t){case vl.RAW:return new XN(dL(e));case vl.BASE64:case vl.BASE64URL:return new XN(hL(t,e));case vl.DATA_URL:return new XN(function UH(t){const e=new fL(t);return e.base64?hL(vl.BASE64,e.rest):function FH(t){let e;try{e=decodeURIComponent(t)}catch{throw MI(vl.DATA_URL,"Malformed data URL.")}return dL(e)}(e.rest)}(e),function VH(t){return new fL(t).contentType}(e))}throw YN()}function dL(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function hL(t,e){switch(t){case vl.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw MI(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case vl.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw MI(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function LH(t){if(typeof atob>"u")throw function wH(t){return new ri(Gr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:MI(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class fL{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw MI(vl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function BH(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Rd{constructor(e,n){let r=0,i="";lL(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(lL(this.data_)){const i=function OH(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new Rd(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Rd(r,!0)}}static getBlob(...e){if(QN()){const n=e.map(r=>r instanceof Rd?r.data_:r);return new Rd(PH.apply(null,n))}{const n=e.map(u=>vA(u)?ek(vl.RAW,u).data:u.data_);let r=0;n.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(u=>{for(let f=0;f<u.length;f++)i[a++]=u[f]}),new Rd(i,!0)}}uploadData(){return this.data_}}function tk(t){let e;try{e=JSON.parse(t)}catch{return null}return function TH(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function pL(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function $H(t,e){return e}class ea{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||$H}}let bA=null;function NI(){if(bA)return bA;const t=[];t.push(new ea("bucket")),t.push(new ea("generation")),t.push(new ea("metageneration")),t.push(new ea("name","fullPath",!0));const n=new ea("name");n.xform=function e(a,u){return function GH(t){return!vA(t)||t.length<2?t:pL(t)}(u)},t.push(n);const i=new ea("size");return i.xform=function r(a,u){return void 0!==u?Number(u):u},t.push(i),t.push(new ea("timeCreated")),t.push(new ea("updated")),t.push(new ea("md5Hash",null,!0)),t.push(new ea("cacheControl",null,!0)),t.push(new ea("contentDisposition",null,!0)),t.push(new ea("contentEncoding",null,!0)),t.push(new ea("contentLanguage",null,!0)),t.push(new ea("contentType",null,!0)),t.push(new ea("metadata","customMetadata",!0)),bA=t,bA}function gL(t,e,n){const r=tk(e);return null===r?null:function qH(t,e,n){const r={type:"file"},i=n.length;for(let a=0;a<i;a++){const u=n[a];r[u.local]=u.xform(r,e[u.server])}return function zH(t,e){Object.defineProperty(t,"ref",{get:function n(){const a=new Io(t.bucket,t.fullPath);return e._makeStorageReference(a)}})}(r,t),r}(t,r,n)}function nk(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}const mL="prefixes",_L="items";class Nd{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function kd(t){if(!t)throw YN()}function EA(t,e){return function n(r,i){const a=gL(t,i,e);return kd(null!==a),a}}function Vw(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function fH(){return new ri(Gr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function hH(){return new ri(Gr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function dH(t){return new ri(Gr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function pH(t){return new ri(Gr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function kI(t){const e=Vw(t);return function n(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function cH(t){return new ri(Gr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),a.serverResponse=i.serverResponse,a}}function yL(t,e,n){const i=wf(e.fullServerUrl(),t.host,t._protocol),u=t.maxOperationRetryTime,f=new Nd(i,"GET",EA(t,n),u);return f.errorHandler=kI(e),f}function JH(t,e,n,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);const f=wf(e.bucketOnlyServerUrl(),t.host,t._protocol),v=t.maxOperationRetryTime,S=new Nd(f,"GET",function YH(t,e){return function n(r,i){const a=function KH(t,e,n){const r=tk(n);return null===r?null:function ZH(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[mL])for(const i of n[mL]){const a=i.replace(/\/$/,""),u=t._makeStorageReference(new Io(e,a));r.prefixes.push(u)}if(n[_L])for(const i of n[_L]){const a=t._makeStorageReference(new Io(e,i.name));r.items.push(a)}return r}(t,e,r)}(t,e,i);return kd(null!==a),a}}(t,e.bucket),v);return S.urlParams=a,S.errorHandler=Vw(e),S}function wL(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function n$(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class IA{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function rk(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{kd(!1)}return kd(!!n&&-1!==(e||["active"]).indexOf(n)),n}const o$={STATE_CHANGED:"state_changed"},ta={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ik(t){switch(t){case"running":case"pausing":case"canceling":return ta.RUNNING;case"paused":return ta.PAUSED;case"success":return ta.SUCCESS;case"canceled":return ta.CANCELED;default:return ta.ERROR}}class a${constructor(e,n,r){if(function DH(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function Bw(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let IL=null;class l${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Uw.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Uw.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Uw.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw RI("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw RI("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw RI("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw RI("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw RI("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class u$ extends l${initXhr(){this.xhr_.responseType="text"}}function gc(){return IL?IL():new u$}class CL{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=NI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Gr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(cL(i.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=rL()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Gr.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function r$(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),u=wL(e,r,i),f={name:u.fullPath},_=wf(a,t.host,t._protocol),S={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},M=nk(u,n),Q=new Nd(_,"POST",function H(_e){let Te;rk(_e);try{Te=_e.getResponseHeader("X-Goog-Upload-URL")}catch{kd(!1)}return kd(vA(Te)),Te},t.maxUploadRetryTime);return Q.urlParams=f,Q.headers=S,Q.body=M,Q.errorHandler=Vw(e),Q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,gc,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function i$(t,e,n,r){const _=new Nd(n,"POST",function a(v){const S=rk(v,["active","final"]);let M=null;try{M=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{kd(!1)}M||kd(!1);const L=Number(M);return kd(!isNaN(L)),new IA(L,r.size(),"final"===S)},t.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=Vw(e),_}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,gc,n,r);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new IA(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let u;try{u=function s$(t,e,n,r,i,a,u,f){const _=new IA(0,0);if(u?(_.current=u.current,_.total=u.total):(_.current=0,_.total=r.size()),r.size()!==_.total)throw function yH(){return new ri(Gr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const v=_.total-_.current;let S=v;i>0&&(S=Math.min(S,i));const M=_.current;let H="";H=0===S?"finalize":v===S?"upload, finalize":"upload";const Q={"X-Goog-Upload-Command":H,"X-Goog-Upload-Offset":`${_.current}`},_e=r.slice(M,M+S);if(null===_e)throw sL();const ot=new Nd(n,"POST",function Te(wt,qt){const cn=rk(wt,["active","final"]),Zi=_.current+S,El=r.size();let Xw;return Xw="final"===cn?EA(e,a)(wt,qt):null,new IA(Zi,El,"final"===cn,Xw)},e.maxUploadRetryTime);return ot.headers=Q,ot.body=_e.uploadData(),ot.progressCallback=f||null,ot.errorHandler=Vw(t),ot}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const f=this._ref.storage._makeRequest(u,gc,i,a,!1);this._request=f,f.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=yL(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,gc,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function bL(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},_=function f(){let ot="";for(let wt=0;wt<2;wt++)ot+=Math.random().toString().slice(2);return ot}();u["Content-Type"]="multipart/related; boundary="+_;const v=wL(e,r,i),S=nk(v,n),H=Rd.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+_+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+_+"--");if(null===H)throw sL();const Q={name:v.fullPath},_e=wf(a,t.host,t._protocol),nt=t.maxUploadRetryTime,_t=new Nd(_e,"POST",EA(t,n),nt);return _t.urlParams=Q,_t.headers=u,_t.body=H.uploadData(),_t.errorHandler=Vw(e),_t}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,gc,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=iL(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=ik(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const a=new a$(n||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(ik(this._state)){case ta.SUCCESS:Bw(this._resolve.bind(null,this.snapshot))();break;case ta.CANCELED:case ta.ERROR:Bw(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ik(this._state)){case ta.RUNNING:case ta.PAUSED:e.next&&Bw(e.next.bind(e,this.snapshot))();break;case ta.SUCCESS:e.complete&&Bw(e.complete.bind(e))();break;default:e.error&&Bw(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class w_{constructor(e,n){this._service=e,this._location=n instanceof Io?n:Io.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new w_(e,n)}get root(){const e=new Io(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pL(this._location.path)}get storage(){return this._service}get parent(){const e=function jH(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Io(this._location.bucket,e);return new w_(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw aL(e)}}function TL(t,e,n){return sk.apply(this,arguments)}function sk(){return sk=(0,Se.Z)(function*(t,e,n){const i=yield SL(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield TL(t,e,i.nextPageToken))}),sk.apply(this,arguments)}function SL(t,e){null!=e&&"number"==typeof e.maxResults&&JN("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=JH(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,gc)}function b$(t){t._throwIfRoot("getDownloadURL");const e=function XH(t,e,n){const i=wf(e.fullServerUrl(),t.host,t._protocol),u=t.maxOperationRetryTime,f=new Nd(i,"GET",function QH(t,e){return function n(r,i){const a=gL(t,i,e);return kd(null!==a),function WH(t,e,n,r){const i=tk(e);if(null===i||!vA(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const u=encodeURIComponent;return a.split(",").map(v=>{const M=t.fullPath;return wf("/b/"+u(t.bucket)+"/o/"+u(M),n,r)+uL({alt:"media",token:v})})[0]}(a,i,t.host,t._protocol)}}(t,n),u);return f.errorHandler=kI(e),f}(t.storage,t._location,NI());return t.storage.makeRequestWithTokens(e,gc).then(n=>{if(null===n)throw function vH(){return new ri(Gr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function AL(t,e){const n=function HH(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Io(t._location.bucket,n);return new w_(t.storage,r)}function xL(t,e){if(t instanceof ok){const n=t;if(null==n._bucket)throw function _H(){return new ri(Gr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nL+"' property when initializing the app?")}();const r=new w_(n,n._bucket);return null!=e?xL(r,e):r}return void 0!==e?AL(t,e):t}function D$(t,e){if(e&&function I$(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof ok)return function C$(t,e){return new w_(t,e)}(t,e);throw Fw("To use ref(service, url), the first argument must be a Storage instance.")}return xL(t,e)}function ML(t,e){const n=e?.[nL];return null==n?null:Io.makeFromBucketSpec(n,t)}class ok{constructor(e,n,r,i,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=tL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Io.makeFromBucketSpec(i,this._host):ML(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Io.makeFromBucketSpec(this._url,e):ML(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){JN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){JN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Se.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Se.Z)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new w_(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new bH(oL());{const u=function NH(t,e,n,r,i,a,u=!0){const f=uL(t.urlParams),_=t.url+f,v=Object.assign({},t.headers);return function MH(t,e){e&&(t["X-Firebase-GMPID"]=e)}(v,e),function AH(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(v,n),function xH(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,a),function RH(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(v,r),new SH(_,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,u)}(e,this._appId,r,i,n,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,n){var r=this;return(0,Se.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,a).getPromise()})()}}const RL="@firebase/storage";function PL(t,e){return D$(t=(0,U.m9)(t),e)}function O$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ok(n,r,i,e,Ds.SDK_VERSION)}!function L$(){(0,Ds._registerComponent)(new Sa.wA("storage",O$,"PUBLIC").setMultipleInstances(!0)),(0,Ds.registerVersion)(RL,"0.11.2",""),(0,Ds.registerVersion)(RL,"0.11.2","esm2017")}();class CA{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class LL{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new CA(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new CA(r,this,this._ref))},n)}on(e,n,r,i){let a;return n&&(a="function"==typeof n?u=>n(new CA(u,this,this._ref)):{next:n.next?u=>n.next(new CA(u,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class FL{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new bf(e,this._service))}get items(){return this._delegate.items.map(e=>new bf(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class bf{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function P$(t,e){return AL(t,e)}(this._delegate,e);return new bf(n,this.storage)}get root(){return new bf(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new bf(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new LL(function S$(t,e,n){return function m$(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new CL(t,new Rd(e),n)}(t=(0,U.m9)(t),e,n)}(this._delegate,e,n),this)}putString(e,n=vl.RAW,r){this._throwIfRoot("putString");const i=ek(n,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new LL(new CL(this._delegate,new Rd(i.data,!0),a),this)}listAll(){return function R$(t){return function y$(t){const e={prefixes:[],items:[]};return TL(t,e).then(()=>e)}(t=(0,U.m9)(t))}(this._delegate).then(e=>new FL(e,this.storage))}list(e){return function M$(t,e){return SL(t=(0,U.m9)(t),e)}(this._delegate,e||void 0).then(n=>new FL(n,this.storage))}getMetadata(){return function A$(t){return function v$(t){t._throwIfRoot("getMetadata");const e=yL(t.storage,t._location,NI());return t.storage.makeRequestWithTokens(e,gc)}(t=(0,U.m9)(t))}(this._delegate)}updateMetadata(e){return function x$(t,e){return function w$(t,e){t._throwIfRoot("updateMetadata");const n=function e$(t,e,n,r){const a=wf(e.fullServerUrl(),t.host,t._protocol),f=nk(n,r),v=t.maxOperationRetryTime,S=new Nd(a,"PATCH",EA(t,r),v);return S.headers={"Content-Type":"application/json; charset=utf-8"},S.body=f,S.errorHandler=kI(e),S}(t.storage,t._location,e,NI());return t.storage.makeRequestWithTokens(n,gc)}(t=(0,U.m9)(t),e)}(this._delegate,e)}getDownloadURL(){return function N$(t){return b$(t=(0,U.m9)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function k$(t){return function E$(t){t._throwIfRoot("deleteObject");const e=function t$(t,e){const r=wf(e.fullServerUrl(),t.host,t._protocol),f=new Nd(r,"DELETE",function u(_,v){},t.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=kI(e),f}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,gc)}(t=(0,U.m9)(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw aL(e)}}class UL{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(VL(e))throw Fw("ref() expected a child path but got a URL, use refFromURL instead.");return new bf(PL(this._delegate,e),this)}refFromURL(e){if(!VL(e))throw Fw("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Io.makeFromUrl(e,this._delegate.host)}catch{throw Fw("refFromUrl() expected a valid full URL but got an invalid one.")}return new bf(PL(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){!function OL(t,e,n,r={}){!function T$(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:(0,U.Sg)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,e,n,r)}}function VL(t){return/^[A-Za-z]+:\/\//.test(t)}function B$(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new UL(n,r)}function BL(t){const e=function H$(t){return new ms.y(e=>{const n=u=>e.next(u);n(t.snapshot);const a=t.on("state_changed",n);return t.then(u=>{n(u),e.complete()},u=>{n(t.snapshot),(u=>{e.error(u)})(u)}),function(){a()}}).pipe(function oH(t,e=Wy.z){return(0,is.e)((n,r)=>{let i=null,a=null,u=null;const f=()=>{if(i){i.unsubscribe(),i=null;const v=a;a=null,r.next(v)}};function _(){const v=u+t,S=e.now();if(S<v)return i=this.schedule(void 0,v-S),void r.add(i);f()}n.subscribe((0,vr.x)(r,v=>{a=v,u=e.now(),i||(i=e.schedule(_,t),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,kt.U)(n=>n.bytesTransferred/n.totalBytes*100))}}function DA(t){return{getDownloadURL:()=>(0,Pt.of)(void 0).pipe(Cn.fc,(0,ti.w)(()=>t.getDownloadURL()),Cn.iC),getMetadata:()=>(0,Pt.of)(void 0).pipe(Cn.fc,(0,ti.w)(()=>t.getMetadata()),Cn.iC),delete:()=>(0,wn.D)(t.delete()),child:e=>DA(t.child(e)),updateMetadata:e=>(0,wn.D)(t.updateMetadata(e)),put:(e,n)=>BL(t.put(e,n)),putString:(e,n,r)=>BL(t.putString(e,n,r)),list:e=>(0,wn.D)(t.list(e)),listAll:()=>(0,wn.D)(t.listAll())}}!function j$(t){const e={TaskState:ta,TaskEvent:o$,StringFormat:vl,Storage:UL,Reference:bf};t.INTERNAL.registerComponent(new Sa.wA("storage-compat",B$,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.2")}(Hh.Z);const $$=new d.OlP("angularfire2.storageBucket"),G$=new d.OlP("angularfire2.storage.maxUploadRetryTime"),z$=new d.OlP("angularfire2.storage.maxOperationRetryTime"),q$=new d.OlP("angularfire2.storage.use-emulator");let W$=(()=>{class t{constructor(n,r,i,a,u,f,_,v,S,M){const L=(0,mi.on)(n,u,r);this.storage=(0,mi.cc)(`${L.name}.storage.${i}`,"AngularFireStorage",L.name,()=>{const H=u.runOutsideAngular(()=>L.storage(i||void 0)),Q=S;return Q&&H.useEmulator(...Q),_&&H.setMaxUploadRetryTime(_),v&&H.setMaxOperationRetryTime(v),H},[_,v])}ref(n){return DA(this.storage.ref(n))}refFromURL(n){return DA(this.storage.refFromURL(n))}upload(n,r,i){return DA(this.storage.ref(n)).put(r,i)}}return t.\u0275fac=function(n){return new(n||t)(d.LFG(mi.Dh),d.LFG(mi.xv,8),d.LFG($$,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Cn.HU),d.LFG(G$,8),d.LFG(z$,8),d.LFG(q$,8),d.LFG(AI,8))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),Z$=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),t})(),K$=(()=>{class t{constructor(){_A.Z.registerVersion("angularfire",Cn.q4.full,"gcs-compat")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[W$],imports:[Z$]}),t})();const jL="@firebase/database";let ak="";function $L(t){ak=t}class J${constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,U.Wl)(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:(0,U.cI)(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class X${constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return(0,U.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const GL=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new J$(e)}}catch{}return new X$},b_=GL("localStorage"),lk=GL("sessionStorage"),jw=new fl.Yd("@firebase/database"),zL=function(){let t=1;return function(){return t++}}(),qL=function(t){const e=(0,U.dS)(t),n=new U.gQ;n.update(e);const r=n.digest();return U.US.encodeByteArray(r)},PI=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=PI.apply(null,r):e+="object"==typeof r?(0,U.Wl)(r):r,e+=" "}return e};let E_=null,WL=!0;const ZL=function(t,e){(0,U.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(jw.logLevel=fl.in.VERBOSE,E_=jw.log.bind(jw),e&&lk.set("logging_enabled",!0)):"function"==typeof t?E_=t:(E_=null,lk.remove("logging_enabled"))},Ms=function(...t){if(!0===WL&&(WL=!1,null===E_&&!0===lk.get("logging_enabled")&&ZL(!0)),E_){const e=PI.apply(null,t);E_(e)}},OI=function(t){return function(...e){Ms(t,...e)}},uk=function(...t){const e="FIREBASE INTERNAL ERROR: "+PI(...t);jw.error(e)},Pd=function(...t){const e=`FIREBASE FATAL ERROR: ${PI(...t)}`;throw jw.error(e),new Error(e)},Co=function(...t){const e="FIREBASE WARNING: "+PI(...t);jw.warn(e)},TA=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ag="[MIN_NAME]",Ef="[MAX_NAME]",I_=function(t,e){if(t===e)return 0;if(t===ag||e===Ef)return-1;if(e===ag||t===Ef)return 1;{const n=QL(t),r=QL(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},n4=function(t,e){return t===e?0:t<e?-1:1},LI=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,U.Wl)(e))},ck=function(t){if("object"!=typeof t||null===t)return(0,U.Wl)(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=(0,U.Wl)(e[r]),n+=":",n+=ck(t[e[r]]);return n+="}",n},KL=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Rs(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const YL=function(t){(0,U.hu)(!TA(t),"Invalid JSON number");const r=1023;let i,a,u,f,_;0===t?(a=0,u=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(f=Math.min(Math.floor(Math.log(t)/Math.LN2),r),a=f+r,u=Math.round(t*Math.pow(2,52-f)-Math.pow(2,52))):(a=0,u=Math.round(t/Math.pow(2,-1074))));const v=[];for(_=52;_;_-=1)v.push(u%2?1:0),u=Math.floor(u/2);for(_=11;_;_-=1)v.push(a%2?1:0),a=Math.floor(a/2);v.push(i?1:0),v.reverse();const S=v.join("");let M="";for(_=0;_<64;_+=8){let L=parseInt(S.substr(_,8),2).toString(16);1===L.length&&(L="0"+L),M+=L}return M.toLowerCase()},o4=new RegExp("^-?(0*)\\d{1,10}$"),QL=function(t){if(o4.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Hw=function(t){try{t()}catch(e){setTimeout(()=>{throw Co("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},FI=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class c4{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Co(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class d4{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Ms("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Co(e)}}let UI=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const nF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sF="websocket",oF="long_polling";class hk{constructor(e,n,r,i,a=!1,u="",f=!1,_=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=u,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=_,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=b_.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&b_.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function aF(t,e,n){let r;if((0,U.hu)("string"==typeof e,"typeof type must == string"),(0,U.hu)("object"==typeof n,"typeof params must == object"),e===sF)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==oF)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function h4(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Rs(n,(a,u)=>{i.push(a+"="+u)}),r+i.join("&")}class f4{constructor(){this.counters_={}}incrementCounter(e,n=1){(0,U.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return(0,U.p$)(this.counters_)}}const fk={},pk={};function gk(t){const e=t.toString();return fk[e]||(fk[e]=new f4),fk[e]}class g4{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Hw(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class lg{constructor(e,n,r,i,a,u,f){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=u,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=OI(e),this.stats_=gk(n),this.urlFn=_=>(this.appCheckToken&&(_.ac=this.appCheckToken),aF(n,oF,_))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new g4(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,U.Yr)()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new mk((...a)=>{const[u,f,_,v,S]=a;if(this.incrementIncomingBytes_(a),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=f,this.password=_;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_()}},(...a)=>{const[u,f]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(u,f)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&nF.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){lg.forceAllow_=!0}static forceDisallow(){lg.forceDisallow_=!0}static isAvailable(){return!((0,U.Yr)()||!lg.forceAllow_&&(lg.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=(0,U.Wl)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=(0,U.h$)(n),i=KL(r,1840);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if((0,U.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=(0,U.Wl)(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class mk{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,U.Yr)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=zL(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=mk.createIFrame_();let a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(f){Ms("frame writing exception"),f.stack&&Ms(f.stack),Ms(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ms("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const u=this.pendingSegs.shift();r=r+"&seg"+i+"="+u.seg+"&ts"+i+"="+u.ts+"&d"+i+"="+u.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){(0,U.Yr)()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ms("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let AA=null;typeof MozWebSocket<"u"?AA=MozWebSocket:typeof WebSocket<"u"&&(AA=WebSocket);let $w=(()=>{class t{constructor(n,r,i,a,u,f,_){this.connId=n,this.applicationId=i,this.appCheckToken=a,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=OI(this.connId),this.stats_=gk(r),this.connURL=t.connectionURL_(r,f,_,a,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,a,u){const f={v:"5"};return!(0,U.Yr)()&&typeof location<"u"&&location.hostname&&nF.test(location.hostname)&&(f.r="f"),r&&(f.s=r),i&&(f.ls=i),a&&(f.ac=a),u&&(f.p=u),aF(n,sF,f)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,b_.set("previous_websocket_failure",!0);try{let i;if((0,U.Yr)()){i={headers:{"User-Agent":`Firebase/5/${ak}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,f=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;f&&(i.proxy={origin:f})}this.mySock=new AA(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==AA&&!t.forceDisallow_}static previouslyFailed(){return b_.isInMemoryStorage||!0===b_.get("previous_websocket_failure")}markConnectionHealthy(){b_.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,U.cI)(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,U.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=(0,U.Wl)(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=KL(r,16384);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),pF=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[lg,$w]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=$w&&$w.isAvailable();let i=r&&!$w.previouslyFailed();if(n.webSocketOnly&&(r||Co("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[$w];else{const a=this.transports_=[];for(const u of t.ALL_TRANSPORTS)u&&u.isAvailable()&&a.push(u);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class bF{constructor(e,n,r,i,a,u,f,_,v,S){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=u,this.onReady_=f,this.onDisconnect_=_,this.onKill_=v,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=OI("c:"+this.id+":"),this.transportManager_=new pF(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=FI(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=LI("t",e),r=LI("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=LI("t",e),r=LI("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=LI("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?uk("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):uk("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Co("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),FI(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):FI(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(b_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class EF{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class IF{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,U.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let a=0;a<i.length;a++)if(i[a].callback===n&&(!r||r===i[a].context))return void i.splice(a,1)}validateEventType_(e){(0,U.hu)(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class xA extends IF{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,U.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new xA}getInitialEvent(e){return(0,U.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class zn{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function Vn(){return new zn("")}function gn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ug(t){return t.pieces_.length-t.pieceNum_}function fr(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new zn(t.pieces_,e)}function yk(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function VI(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function TF(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new zn(e,0)}function zr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof zn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new zn(n,0)}function mn(t){return t.pieceNum_>=t.pieces_.length}function na(t,e){const n=gn(t),r=gn(e);if(null===n)return e;if(n===r)return na(fr(t),fr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function F4(t,e){const n=VI(t,0),r=VI(e,0);for(let i=0;i<n.length&&i<r.length;i++){const a=I_(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function vk(t,e){if(ug(t)!==ug(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function gu(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ug(t)>ug(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class U4{constructor(e,n){this.errorPrefix_=n,this.parts_=VI(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,U.ug)(this.parts_[r]);SF(this)}}function SF(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+C_(t))}function C_(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class wk extends IF{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new wk}getInitialEvent(e){return(0,U.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const BI=1e3;let RA,D_=(()=>{class t extends EF{constructor(n,r,i,a,u,f,_,v){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=_,this.authOverride_=v,this.id=t.nextPersistentConnectionId_++,this.log_=OI("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=BI,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,U.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wk.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&xA.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const a=++this.requestNumber_,u={r:a,a:n,b:r};this.log_((0,U.Wl)(u)),(0,U.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),i&&(this.requestCBHash_[a]=i)}get(n){this.initConnection_();const r=new U.BH,a={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:f=>{const _=f.d;"ok"===f.s?r.resolve(_):r.reject(_)}};return this.outstandingGets_.push(a),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,a){this.initConnection_();const u=n._queryIdentifier,f=n._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),(0,U.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,U.hu)(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const _={onComplete:a,hashFn:r,query:n,tag:i};this.listens.get(f).set(u,_),this.connected_&&this.sendListen_(_)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);const u={p:i};n.tag&&(u.q=r._queryObject,u.t=n.tag),u.h=n.hashFn(),this.sendRequest("q",u,_=>{const v=_.d,S=_.s;t.warnOnListenWarnings_(v,r),(this.listens.get(i)&&this.listens.get(i).get(a))===n&&(this.log_("listen response",_),"ok"!==S&&this.removeListen_(i,a),n.onComplete&&n.onComplete(S,v))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&(0,U.r3)(n,"w")){const i=(0,U.DV)(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();Co(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,U.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=(0,U.w9)(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,a=>{const u=a.s,f=a.d||"error";this.authToken_===n&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),a=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),(0,U.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,n._queryObject,r)}sendUnlisten_(n,r,i,a){this.log_("Unlisten on "+n+" for "+r);const u={p:n};a&&(u.q=i,u.t=a),this.sendRequest("n",u)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,a){const u={p:r,d:i};this.log_("onDisconnect "+n,u),this.sendRequest(n,u,f=>{a&&setTimeout(()=>{a(f.s,f.d)},Math.floor(0))})}put(n,r,i,a){this.putInternal("p",n,r,i,a)}merge(n,r,i,a){this.putInternal("m",n,r,i,a)}putInternal(n,r,i,a,u){this.initConnection_();const f={p:r,d:i};void 0!==u&&(f.h=u),this.outstandingPuts_.push({action:n,request:f,onComplete:a}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),a&&a(u.s,u.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,U.Wl)(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):uk("Unrecognized action received from server: "+(0,U.Wl)(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,U.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=BI,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=BI,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=BI),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,Se.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),a=n.onRealtimeDisconnect_.bind(n),u=n.id+":"+t.nextConnectionId_++,f=n.lastSessionId;let _=!1,v=null;const S=function(){v?v.close():(_=!0,a())};n.realtime_={close:S,sendRequest:function(H){(0,U.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(H)}};const L=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[H,Q]=yield Promise.all([n.authTokenProvider_.getToken(L),n.appCheckTokenProvider_.getToken(L)]);_?Ms("getToken() completed but was canceled"):(Ms("getToken() completed. Creating connection."),n.authToken_=H&&H.accessToken,n.appCheckToken_=Q&&Q.token,v=new bF(u,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,a,_e=>{Co(_e+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},f))}catch(H){n.log_("Failed to get token: "+H),_||(n.repoInfo_.nodeAdmin&&Co(H),S())}}})()}interrupt(n){Ms("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ms("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,U.xb)(this.interruptReasons_)&&(this.reconnectDelay_=BI,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(u=>ck(u)).join("$"):"default";const a=this.removeListen_(n,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(n,r){const i=new zn(n).toString();let a;if(this.listens.has(i)){const u=this.listens.get(i);a=u.get(r),u.delete(r),0===u.size&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(n,r){Ms("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ms("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";(0,U.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+r+"."+ak.replace(/\./g,"-")]=1,(0,U.uI)()?n["framework.cordova"]=1:(0,U.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=xA.getInstance().currentlyOnline();return(0,U.xb)(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class yn{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new yn(e,n)}}class MA{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new yn(ag,e),i=new yn(ag,n);return 0!==this.compare(r,i)}minPost(){return yn.MIN}}class MF extends MA{static get __EMPTY_NODE(){return RA}static set __EMPTY_NODE(e){RA=e}compare(e,n){return I_(e.name,n.name)}isDefinedOn(e){throw(0,U.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return yn.MIN}maxPost(){return new yn(Ef,RA)}makePost(e,n){return(0,U.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new yn(e,RA)}toString(){return".key"}}const Od=new MF;class NA{constructor(e,n,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,i&&(u*=-1),u<0)e=this.isReverse_?e.left:e.right;else{if(0===u){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Ek,mc=(()=>{class t{constructor(n,r,i,a,u){this.key=n,this.value=r,this.color=i??t.RED,this.left=a??Na.EMPTY_NODE,this.right=u??Na.EMPTY_NODE}copy(n,r,i,a,u){return new t(n??this.key,r??this.value,i??this.color,a??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let a=this;const u=i(n,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(n,r,i),null):0===u?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(n,r,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Na.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,a;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Na.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Na{constructor(e,n=Na.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Na(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,mc.BLACK,null,null))}remove(e){return new Na(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,mc.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new NA(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new NA(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new NA(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new NA(this.root_,null,this.comparator_,!0,e)}}function q4(t,e){return I_(t.name,e.name)}function bk(t,e){return I_(t,e)}Na.EMPTY_NODE=new class z4{copy(e,n,r,i,a){return this}insert(e,n,r){return new mc(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const RF=function(t){return"number"==typeof t?"number:"+YL(t):"string:"+t},NF=function(t){if(t.isLeafNode()){const e=t.val();(0,U.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,U.r3)(e,".sv"),"Priority must be a string or number.")}else(0,U.hu)(t===Ek||t.isEmpty(),"priority of unexpected type.");(0,U.hu)(t===Ek||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let kF,PF,OF,Gw=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,(0,U.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),NF(this.priorityNode_)}static set __childrenNodeConstructor(n){kF=n}static get __childrenNodeConstructor(){return kF}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return mn(n)?this:".priority"===gn(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=gn(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,U.hu)(".priority"!==i||1===ug(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(fr(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+RF(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?YL(this.value_):this.value_,this.lazyHash_=qL(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:((0,U.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,a=t.VALUE_TYPE_ORDER.indexOf(r),u=t.VALUE_TYPE_ORDER.indexOf(i);return(0,U.hu)(a>=0,"Unknown leaf type: "+r),(0,U.hu)(u>=0,"Unknown leaf type: "+i),a===u?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:u-a}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const Er=new class Y4 extends MA{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),a=r.compareTo(i);return 0===a?I_(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return yn.MIN}maxPost(){return new yn(Ef,new Gw("[PRIORITY-POST]",OF))}makePost(e,n){const r=PF(e);return new yn(n,new Gw("[PRIORITY-POST]",r))}toString(){return".priority"}},Q4=Math.log(2);class J4{constructor(e){this.count=parseInt(Math.log(e+1)/Q4,10),this.current_=this.count-1;const i=(a=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const kA=function(t,e,n,r){t.sort(e);const i=function(_,v){const S=v-_;let M,L;if(0===S)return null;if(1===S)return M=t[_],L=n?n(M):M,new mc(L,M.node,mc.BLACK,null,null);{const H=parseInt(S/2,10)+_,Q=i(_,H),_e=i(H+1,v);return M=t[H],L=n?n(M):M,new mc(L,M.node,mc.BLACK,Q,_e)}},f=function(_){let v=null,S=null,M=t.length;const L=function(Q,_e){const Te=M-Q,nt=M;M-=Q;const _t=i(Te+1,nt),ot=t[Te],wt=n?n(ot):ot;H(new mc(wt,ot.node,_e,null,_t))},H=function(Q){v?(v.left=Q,v=Q):(S=Q,v=Q)};for(let Q=0;Q<_.count;++Q){const _e=_.nextBitIsOne(),Te=Math.pow(2,_.count-(Q+1));_e?L(Te,mc.BLACK):(L(Te,mc.BLACK),L(Te,mc.RED))}return S}(new J4(t.length));return new Na(r||e,f)};let Ik;const zw={};class If{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return(0,U.hu)(zw&&Er,"ChildrenNode.ts has not been loaded"),Ik=Ik||new If({".priority":zw},{".priority":Er}),Ik}get(e){const n=(0,U.DV)(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Na?n:null}hasIndex(e){return(0,U.r3)(this.indexSet_,e.toString())}addIndex(e,n){(0,U.hu)(e!==Od,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=n.getIterator(yn.Wrap);let f,u=a.getNext();for(;u;)i=i||e.isDefinedOn(u.node),r.push(u),u=a.getNext();f=i?kA(r,e.getCompare()):zw;const _=e.toString(),v=Object.assign({},this.indexSet_);v[_]=e;const S=Object.assign({},this.indexes_);return S[_]=f,new If(S,v)}addToIndexes(e,n){const r=(0,U.UI)(this.indexes_,(i,a)=>{const u=(0,U.DV)(this.indexSet_,a);if((0,U.hu)(u,"Missing index implementation for "+a),i===zw){if(u.isDefinedOn(e.node)){const f=[],_=n.getIterator(yn.Wrap);let v=_.getNext();for(;v;)v.name!==e.name&&f.push(v),v=_.getNext();return f.push(e),kA(f,u.getCompare())}return zw}{const f=n.get(e.name);let _=i;return f&&(_=_.remove(new yn(e.name,f))),_.insert(e,e.node)}});return new If(r,this.indexSet_)}removeFromIndexes(e,n){const r=(0,U.UI)(this.indexes_,i=>{if(i===zw)return i;{const a=n.get(e.name);return a?i.remove(new yn(e.name,a)):i}});return new If(r,this.indexSet_)}}let jI,sn=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&NF(this.priorityNode_),this.children_.isEmpty()&&(0,U.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return jI||(jI=new t(new Na(bk),null,If.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||jI}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?jI:r}}getChild(n){const r=gn(n);return null===r?this:this.getImmediateChild(r).getChild(fr(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if((0,U.hu)(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new yn(n,r);let a,u;r.isEmpty()?(a=this.children_.remove(n),u=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(n,r),u=this.indexMap_.addToIndexes(i,this.children_));const f=a.isEmpty()?jI:this.priorityNode_;return new t(a,f,u)}}updateChild(n,r){const i=gn(n);if(null===i)return r;{(0,U.hu)(".priority"!==gn(n)||1===ug(n),".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(fr(n),r);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,a=0,u=!0;if(this.forEachChild(Er,(f,_)=>{r[f]=_.val(n),i++,u&&t.INTEGER_REGEXP_.test(f)?a=Math.max(a,Number(f)):u=!1}),!n&&u&&a<2*i){const f=[];for(const _ in r)f[_]=r[_];return f}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+RF(this.getPriority().val())+":"),this.forEachChild(Er,(r,i)=>{const a=i.hash();""!==a&&(n+=":"+r+":"+a)}),this.lazyHash_=""===n?"":qL(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const a=this.resolveIndex_(i);if(a){const u=a.getPredecessorKey(new yn(n,r));return u?u.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new yn(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new yn(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,a=>a);{const a=this.children_.getIteratorFrom(n.name,yn.Wrap);let u=a.peek();for(;null!=u&&r.compare(u,n)<0;)a.getNext(),u=a.peek();return a}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,a=>a);{const a=this.children_.getReverseIteratorFrom(n.name,yn.Wrap);let u=a.peek();for(;null!=u&&r.compare(u,n)>0;)a.getNext(),u=a.peek();return a}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===HI?-1:0}withIndex(n){if(n===Od||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Od||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Er),a=r.getIterator(Er);let u=i.getNext(),f=a.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=i.getNext(),f=a.getNext()}return null===u&&null===f}return!1}return!1}}resolveIndex_(n){return n===Od?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const HI=new class X4 extends sn{constructor(){super(new Na(bk),sn.EMPTY_NODE,If.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return sn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(yn,{MIN:{value:new yn(ag,sn.EMPTY_NODE)},MAX:{value:new yn(Ef,HI)}}),MF.__EMPTY_NODE=sn.EMPTY_NODE,Gw.__childrenNodeConstructor=sn,function W4(t){Ek=t}(HI),function K4(t){OF=t}(HI);const e5=!0;function ii(t,e=null){if(null===t)return sn.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,U.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Gw(t,ii(e));if(t instanceof Array||!e5){let n=sn.EMPTY_NODE;return Rs(t,(r,i)=>{if((0,U.r3)(t,r)&&"."!==r.substring(0,1)){const a=ii(i);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(r,a))}}),n.updatePriority(ii(e))}{const n=[];let r=!1;if(Rs(t,(u,f)=>{if("."!==u.substring(0,1)){const _=ii(f);_.isEmpty()||(r=r||!_.getPriority().isEmpty(),n.push(new yn(u,_)))}}),0===n.length)return sn.EMPTY_NODE;const a=kA(n,q4,u=>u.name,bk);if(r){const u=kA(n,Er.getCompare());return new sn(a,ii(e),new If({".priority":u},{".priority":Er}))}return new sn(a,ii(e),If.Default)}}!function Z4(t){PF=t}(ii);class Ck extends MA{constructor(e){super(),this.indexPath_=e,(0,U.hu)(!mn(e)&&".priority"!==gn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),a=r.compareTo(i);return 0===a?I_(e.name,n.name):a}makePost(e,n){const r=ii(e),i=sn.EMPTY_NODE.updateChild(this.indexPath_,r);return new yn(n,i)}maxPost(){const e=sn.EMPTY_NODE.updateChild(this.indexPath_,HI);return new yn(Ef,e)}toString(){return VI(this.indexPath_,0).join("/")}}const Dk=new class t5 extends MA{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?I_(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return yn.MIN}maxPost(){return yn.MAX}makePost(e,n){const r=ii(e);return new yn(n,r)}toString(){return".value"}};function LF(t){return{type:"value",snapshotNode:t}}function qw(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function $I(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function GI(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class Tk{constructor(e){this.index_=e}updateChild(e,n,r,i,a,u){(0,U.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(n);return f.getChild(i).equals(r.getChild(i))&&f.isEmpty()===r.isEmpty()||(null!=u&&(r.isEmpty()?e.hasChild(n)?u.trackChildChange($I(n,f)):(0,U.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?u.trackChildChange(qw(n,r)):u.trackChildChange(GI(n,r,f))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Er,(i,a)=>{n.hasChild(i)||r.trackChildChange($I(i,a))}),n.isLeafNode()||n.forEachChild(Er,(i,a)=>{if(e.hasChild(i)){const u=e.getImmediateChild(i);u.equals(a)||r.trackChildChange(GI(i,a,u))}else r.trackChildChange(qw(i,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?sn.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class zI{constructor(e){this.indexedFilter_=new Tk(e.getIndex()),this.index_=e.getIndex(),this.startPost_=zI.getStartPost_(e),this.endPost_=zI.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,a,u){return this.matches(new yn(n,r))||(r=sn.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,a,u)}updateFullNode(e,n,r){n.isLeafNode()&&(n=sn.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(sn.EMPTY_NODE);const a=this;return n.forEachChild(Er,(u,f)=>{a.matches(new yn(u,f))||(i=i.updateImmediateChild(u,sn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class r5{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new zI(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,a,u){return this.rangedFilter_.matches(new yn(n,r))||(r=sn.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,a,u):this.fullLimitUpdateChild_(e,n,r,a,u)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=sn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let a;i=sn.EMPTY_NODE.withIndex(this.index_),a=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;a.hasNext()&&u<this.limit_;){const f=a.getNext();if(this.withinDirectionalStart(f)){if(!this.withinDirectionalEnd(f))break;i=i.updateImmediateChild(f.name,f.node),u++}}}else{let a;i=n.withIndex(this.index_),i=i.updatePriority(sn.EMPTY_NODE),a=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let u=0;for(;a.hasNext();){const f=a.getNext();u<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?u++:i=i.updateImmediateChild(f.name,sn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,a){let u;if(this.reverse_){const M=this.index_.getCompare();u=(L,H)=>M(H,L)}else u=this.index_.getCompare();const f=e;(0,U.hu)(f.numChildren()===this.limit_,"");const _=new yn(n,r),v=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),S=this.rangedFilter_.matches(_);if(f.hasChild(n)){const M=f.getImmediateChild(n);let L=i.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=L&&(L.name===n||f.hasChild(L.name));)L=i.getChildAfterChild(this.index_,L,this.reverse_);const H=null==L?1:u(L,_);if(S&&!r.isEmpty()&&H>=0)return a?.trackChildChange(GI(n,r,M)),f.updateImmediateChild(n,r);{a?.trackChildChange($I(n,M));const _e=f.updateImmediateChild(n,sn.EMPTY_NODE);return null!=L&&this.rangedFilter_.matches(L)?(a?.trackChildChange(qw(L.name,L.node)),_e.updateImmediateChild(L.name,L.node)):_e}}return r.isEmpty()?e:S&&u(v,_)>=0?(null!=a&&(a.trackChildChange($I(v.name,v.node)),a.trackChildChange(qw(n,r))),f.updateImmediateChild(n,r).updateImmediateChild(v.name,sn.EMPTY_NODE)):e}}class PA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Er}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ag}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ef}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,U.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Er}copy(){const e=new PA;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Sk(t,e,n){const r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ak(t,e,n){const r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function OA(t,e){const n=t.copy();return n.index_=e,n}function FF(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Er?n="$priority":t.index_===Dk?n="$value":t.index_===Od?n="$key":((0,U.hu)(t.index_ instanceof Ck,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=(0,U.Wl)(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=(0,U.Wl)(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+(0,U.Wl)(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=(0,U.Wl)(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+(0,U.Wl)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function UF(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Er&&(e.i=t.index_.toString()),e}class LA extends EF{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=OI("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:((0,U.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const u=LA.getListenId_(e,r),f={};this.listens_[u]=f;const _=FF(e._queryParams);this.restRequest_(a+".json",_,(v,S)=>{let M=S;if(404===v&&(M=null,v=null),null===v&&this.onDataUpdate_(a,M,!1,r),(0,U.DV)(this.listens_,u)===f){let L;L=v?401===v?"permission_denied":"rest_error:"+v:"ok",i(L,null)}})}unlisten(e,n){const r=LA.getListenId_(e,n);delete this.listens_[r]}get(e){const n=FF(e._queryParams),r=e._path.toString(),i=new U.BH;return this.restRequest_(r+".json",n,(a,u)=>{let f=u;404===a&&(f=null,a=null),null===a?(this.onDataUpdate_(r,f,!1,null),i.resolve(f)):i.reject(new Error(f))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(n.auth=i.accessToken),a&&a.token&&(n.ac=a.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,U.xO)(n);this.log_("Sending REST request for "+u);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(r&&4===f.readyState){this.log_("REST Response for "+u+" received. status:",f.status,"response:",f.responseText);let _=null;if(f.status>=200&&f.status<300){try{_=(0,U.cI)(f.responseText)}catch{Co("Failed to parse JSON response for "+u+": "+f.responseText)}r(null,_)}else 401!==f.status&&404!==f.status&&Co("Got unsuccessful REST response for "+u+" Status: "+f.status),r(f.status);r=null}},f.open("GET",u,!0),f.send()})}}class u5{constructor(){this.rootNode_=sn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function FA(){return{value:null,children:new Map}}function Ww(t,e,n){if(mn(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=gn(e);t.children.has(r)||t.children.set(r,FA()),Ww(t.children.get(r),e=fr(e),n)}}function xk(t,e){if(mn(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(Er,(r,i)=>{Ww(t,new zn(r),i)}),xk(t,e)}}if(t.children.size>0){const n=gn(e);return e=fr(e),t.children.has(n)&&xk(t.children.get(n),e)&&t.children.delete(n),0===t.children.size}return!0}function Mk(t,e,n){null!==t.value?n(e,t.value):function c5(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{Mk(i,new zn(e.toString()+"/"+r),n)})}class d5{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Rs(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class p5{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new d5(e);const r=1e4+2e4*Math.random();FI(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Rs(e,(i,a)=>{a>0&&(0,U.r3)(this.statsToReport_,i)&&(n[i]=a,r=!0)}),r&&this.server_.reportStats(n),FI(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ld=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Ld||{});function kk(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class UA{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ld.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(mn(this.path)){if(null!=this.affectedTree.value)return(0,U.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new zn(e));return new UA(Vn(),n,this.revert)}}return(0,U.hu)(gn(this.path)===e,"operationForChild called for unrelated child."),new UA(fr(this.path),this.affectedTree,this.revert)}}class qI{constructor(e,n){this.source=e,this.path=n,this.type=Ld.LISTEN_COMPLETE}operationForChild(e){return mn(this.path)?new qI(this.source,Vn()):new qI(this.source,fr(this.path))}}class T_{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ld.OVERWRITE}operationForChild(e){return mn(this.path)?new T_(this.source,Vn(),this.snap.getImmediateChild(e)):new T_(this.source,fr(this.path),this.snap)}}class Zw{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ld.MERGE}operationForChild(e){if(mn(this.path)){const n=this.children.subtree(new zn(e));return n.isEmpty()?null:n.value?new T_(this.source,Vn(),n.value):new Zw(this.source,Vn(),n)}return(0,U.hu)(gn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Zw(this.source,fr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class cg{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(mn(e))return this.isFullyInitialized()&&!this.filtered_;const n=gn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class g5{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function WI(t,e,n,r,i,a){const u=r.filter(f=>f.type===n);u.sort((f,_)=>function y5(t,e,n){if(null==e.childName||null==n.childName)throw(0,U.g5)("Should only compare child_ events.");const r=new yn(e.childName,e.snapshotNode),i=new yn(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,f,_)),u.forEach(f=>{const _=function _5(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,f,a);i.forEach(v=>{v.respondsTo(f.type)&&e.push(v.createEvent(_,t.query_))})})}function VA(t,e){return{eventCache:t,serverCache:e}}function ZI(t,e,n,r){return VA(new cg(e,n,r),t.serverCache)}function BF(t,e,n,r){return VA(t.eventCache,new cg(e,n,r))}function BA(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function S_(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let Pk;class Ir{constructor(e,n=(()=>(Pk||(Pk=new Na(n4)),Pk))()){this.value=e,this.children=n}static fromObject(e){let n=new Ir(null);return Rs(e,(r,i)=>{n=n.set(new zn(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:Vn(),value:this.value};if(mn(e))return null;{const r=gn(e),i=this.children.get(r);if(null!==i){const a=i.findRootMostMatchingPathAndValue(fr(e),n);return null!=a?{path:zr(new zn(r),a.path),value:a.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(mn(e))return this;{const n=gn(e),r=this.children.get(n);return null!==r?r.subtree(fr(e)):new Ir(null)}}set(e,n){if(mn(e))return new Ir(n,this.children);{const r=gn(e),a=(this.children.get(r)||new Ir(null)).set(fr(e),n),u=this.children.insert(r,a);return new Ir(this.value,u)}}remove(e){if(mn(e))return this.children.isEmpty()?new Ir(null):new Ir(null,this.children);{const n=gn(e),r=this.children.get(n);if(r){const i=r.remove(fr(e));let a;return a=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&a.isEmpty()?new Ir(null):new Ir(this.value,a)}return this}}get(e){if(mn(e))return this.value;{const n=gn(e),r=this.children.get(n);return r?r.get(fr(e)):null}}setTree(e,n){if(mn(e))return n;{const r=gn(e),a=(this.children.get(r)||new Ir(null)).setTree(fr(e),n);let u;return u=a.isEmpty()?this.children.remove(r):this.children.insert(r,a),new Ir(this.value,u)}}fold(e){return this.fold_(Vn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(zr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Vn(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(mn(e))return null;{const a=gn(e),u=this.children.get(a);return u?u.findOnPath_(fr(e),zr(n,a),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Vn(),n)}foreachOnPath_(e,n,r){if(mn(e))return this;{this.value&&r(n,this.value);const i=gn(e),a=this.children.get(i);return a?a.foreachOnPath_(fr(e),zr(n,i),r):new Ir(null)}}foreach(e){this.foreach_(Vn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(zr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class _c{constructor(e){this.writeTree_=e}static empty(){return new _c(new Ir(null))}}function KI(t,e,n){if(mn(e))return new _c(new Ir(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let a=r.value;const u=na(i,e);return a=a.updateChild(u,n),new _c(t.writeTree_.set(i,a))}{const i=new Ir(n),a=t.writeTree_.setTree(e,i);return new _c(a)}}}function Ok(t,e,n){let r=t;return Rs(n,(i,a)=>{r=KI(r,zr(e,i),a)}),r}function jF(t,e){if(mn(e))return _c.empty();{const n=t.writeTree_.setTree(e,new Ir(null));return new _c(n)}}function Lk(t,e){return null!=A_(t,e)}function A_(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(na(n.path,e)):null}function HF(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Er,(r,i)=>{e.push(new yn(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new yn(r,i.value))}),e}function dg(t,e){if(mn(e))return t;{const n=A_(t,e);return new _c(null!=n?new Ir(n):t.writeTree_.subtree(e))}}function Fk(t){return t.writeTree_.isEmpty()}function Kw(t,e){return $F(Vn(),t.writeTree_,e)}function $F(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,a)=>{".priority"===i?((0,U.hu)(null!==a.value,"Priority writes must always be leaf nodes"),r=a.value):n=$F(zr(t,i),a,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(zr(t,".priority"),r)),n}}function jA(t,e){return ZF(e,t)}function C5(t,e){if(t.snap)return gu(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&gu(zr(t.path,n),e))return!0;return!1}function T5(t){return t.visible}function GF(t,e,n){let r=_c.empty();for(let i=0;i<t.length;++i){const a=t[i];if(e(a)){const u=a.path;let f;if(a.snap)gu(n,u)?(f=na(n,u),r=KI(r,f,a.snap)):gu(u,n)&&(f=na(u,n),r=KI(r,Vn(),a.snap.getChild(f)));else{if(!a.children)throw(0,U.g5)("WriteRecord should have .snap or .children");if(gu(n,u))f=na(n,u),r=Ok(r,f,a.children);else if(gu(u,n))if(f=na(u,n),mn(f))r=Ok(r,Vn(),a.children);else{const _=(0,U.DV)(a.children,gn(f));if(_){const v=_.getChild(fr(f));r=KI(r,Vn(),v)}}}}}return r}function zF(t,e,n,r,i){if(r||i){const a=dg(t.visibleWrites,e);return!i&&Fk(a)?n:i||null!=n||Lk(a,Vn())?Kw(GF(t.allWrites,function(v){return(v.visible||i)&&(!r||!~r.indexOf(v.writeId))&&(gu(v.path,e)||gu(e,v.path))},e),n||sn.EMPTY_NODE):null}{const a=A_(t.visibleWrites,e);if(null!=a)return a;{const u=dg(t.visibleWrites,e);return Fk(u)?n:null!=n||Lk(u,Vn())?Kw(u,n||sn.EMPTY_NODE):null}}}function HA(t,e,n,r){return zF(t.writeTree,t.treePath,e,n,r)}function Uk(t,e){return function S5(t,e,n){let r=sn.EMPTY_NODE;const i=A_(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Er,(a,u)=>{r=r.updateImmediateChild(a,u)}),r;if(n){const a=dg(t.visibleWrites,e);return n.forEachChild(Er,(u,f)=>{const _=Kw(dg(a,new zn(u)),f);r=r.updateImmediateChild(u,_)}),HF(a).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}return HF(dg(t.visibleWrites,e)).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}(t.writeTree,t.treePath,e)}function qF(t,e,n,r){return function A5(t,e,n,r,i){(0,U.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=zr(e,n);if(Lk(t.visibleWrites,a))return null;{const u=dg(t.visibleWrites,a);return Fk(u)?i.getChild(n):Kw(u,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function $A(t,e){return function M5(t,e){return A_(t.visibleWrites,e)}(t.writeTree,zr(t.treePath,e))}function Vk(t,e,n){return function x5(t,e,n,r){const i=zr(e,n),a=A_(t.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Kw(dg(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function WF(t,e){return ZF(zr(t.treePath,e),t.writeTree)}function ZF(t,e){return{treePath:t,writeTree:e}}class P5{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;(0,U.hu)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,U.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if("child_added"===n&&"child_removed"===a)this.changeMap.set(r,GI(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===a)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===a)this.changeMap.set(r,$I(r,i.oldSnap));else if("child_changed"===n&&"child_added"===a)this.changeMap.set(r,qw(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==a)throw(0,U.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,GI(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const KF=new class O5{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class Bk{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new cg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Vk(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:S_(this.viewCache_),a=function k5(t,e,n,r,i,a){return function R5(t,e,n,r,i,a,u){let f;const _=dg(t.visibleWrites,e),v=A_(_,Vn());if(null!=v)f=v;else{if(null==n)return[];f=Kw(_,n)}if(f=f.withIndex(u),f.isEmpty()||f.isLeafNode())return[];{const S=[],M=u.getCompare(),L=a?f.getReverseIteratorFrom(r,u):f.getIteratorFrom(r,u);let H=L.getNext();for(;H&&S.length<i;)0!==M(H,r)&&S.push(H),H=L.getNext();return S}}(t.writeTree,t.treePath,e,n,r,i,a)}(this.writes_,i,n,1,r,e);return 0===a.length?null:a[0]}}function YF(t,e,n,r,i,a){const u=e.eventCache;if(null!=$A(r,n))return e;{let f,_;if(mn(n))if((0,U.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=S_(e),M=Uk(r,v instanceof sn?v:sn.EMPTY_NODE);f=t.filter.updateFullNode(e.eventCache.getNode(),M,a)}else{const v=HA(r,S_(e));f=t.filter.updateFullNode(e.eventCache.getNode(),v,a)}else{const v=gn(n);if(".priority"===v){(0,U.hu)(1===ug(n),"Can't have a priority with additional path components");const S=u.getNode();_=e.serverCache.getNode();const M=qF(r,n,S,_);f=null!=M?t.filter.updatePriority(S,M):u.getNode()}else{const S=fr(n);let M;if(u.isCompleteForChild(v)){_=e.serverCache.getNode();const L=qF(r,n,u.getNode(),_);M=null!=L?u.getNode().getImmediateChild(v).updateChild(S,L):u.getNode().getImmediateChild(v)}else M=Vk(r,v,e.serverCache);f=null!=M?t.filter.updateChild(u.getNode(),v,M,S,i,a):u.getNode()}}return ZI(e,f,u.isFullyInitialized()||mn(n),t.filter.filtersNodes())}}function GA(t,e,n,r,i,a,u,f){const _=e.serverCache;let v;const S=u?t.filter:t.filter.getIndexedFilter();if(mn(n))v=S.updateFullNode(_.getNode(),r,null);else if(S.filtersNodes()&&!_.isFiltered()){const H=_.getNode().updateChild(n,r);v=S.updateFullNode(_.getNode(),H,null)}else{const H=gn(n);if(!_.isCompleteForPath(n)&&ug(n)>1)return e;const Q=fr(n),Te=_.getNode().getImmediateChild(H).updateChild(Q,r);v=".priority"===H?S.updatePriority(_.getNode(),Te):S.updateChild(_.getNode(),H,Te,Q,KF,null)}const M=BF(e,v,_.isFullyInitialized()||mn(n),S.filtersNodes());return YF(t,M,n,i,new Bk(i,M,a),f)}function jk(t,e,n,r,i,a,u){const f=e.eventCache;let _,v;const S=new Bk(i,e,a);if(mn(n))v=t.filter.updateFullNode(e.eventCache.getNode(),r,u),_=ZI(e,v,!0,t.filter.filtersNodes());else{const M=gn(n);if(".priority"===M)v=t.filter.updatePriority(e.eventCache.getNode(),r),_=ZI(e,v,f.isFullyInitialized(),f.isFiltered());else{const L=fr(n),H=f.getNode().getImmediateChild(M);let Q;if(mn(L))Q=r;else{const _e=S.getCompleteChild(M);Q=null!=_e?".priority"===yk(L)&&_e.getChild(TF(L)).isEmpty()?_e:_e.updateChild(L,r):sn.EMPTY_NODE}_=H.equals(Q)?e:ZI(e,t.filter.updateChild(f.getNode(),M,Q,L,S,u),f.isFullyInitialized(),t.filter.filtersNodes())}}return _}function QF(t,e){return t.eventCache.isCompleteForChild(e)}function JF(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Hk(t,e,n,r,i,a,u,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v,_=e;v=mn(n)?r:new Ir(null).setTree(n,r);const S=e.serverCache.getNode();return v.children.inorderTraversal((M,L)=>{if(S.hasChild(M)){const Q=JF(0,e.serverCache.getNode().getImmediateChild(M),L);_=GA(t,_,new zn(M),Q,i,a,u,f)}}),v.children.inorderTraversal((M,L)=>{const H=!e.serverCache.isCompleteForChild(M)&&null===L.value;if(!S.hasChild(M)&&!H){const _e=JF(0,e.serverCache.getNode().getImmediateChild(M),L);_=GA(t,_,new zn(M),_e,i,a,u,f)}}),_}class G5{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Tk(r.getIndex()),a=function i5(t){return t.loadsAllData()?new Tk(t.getIndex()):t.hasLimit()?new r5(t):new zI(t)}(r);this.processor_=function L5(t){return{filter:t}}(a);const u=n.serverCache,f=n.eventCache,_=i.updateFullNode(sn.EMPTY_NODE,u.getNode(),null),v=a.updateFullNode(sn.EMPTY_NODE,f.getNode(),null),S=new cg(_,u.isFullyInitialized(),i.filtersNodes()),M=new cg(v,f.isFullyInitialized(),a.filtersNodes());this.viewCache_=VA(M,S),this.eventGenerator_=new g5(this.query_)}get query(){return this.query_}}function W5(t,e){const n=S_(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!mn(e)&&!n.getImmediateChild(gn(e)).isEmpty())?n.getChild(e):null}function XF(t){return 0===t.eventRegistrations_.length}function eU(t,e,n){const r=[];if(n){(0,U.hu)(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(a=>{const u=a.createCancelEvent(n,i);u&&r.push(u)})}if(e){let i=[];for(let a=0;a<t.eventRegistrations_.length;++a){const u=t.eventRegistrations_[a];if(u.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(a+1));break}}else i.push(u)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function tU(t,e,n,r){e.type===Ld.MERGE&&null!==e.source.queryId&&((0,U.hu)(S_(t.viewCache_),"We should always have a full cache before handling merges"),(0,U.hu)(BA(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,a=function U5(t,e,n,r,i){const a=new P5;let u,f;if(n.type===Ld.OVERWRITE){const v=n;v.source.fromUser?u=jk(t,e,v.path,v.snap,r,i,a):((0,U.hu)(v.source.fromServer,"Unknown source."),f=v.source.tagged||e.serverCache.isFiltered()&&!mn(v.path),u=GA(t,e,v.path,v.snap,r,i,f,a))}else if(n.type===Ld.MERGE){const v=n;v.source.fromUser?u=function B5(t,e,n,r,i,a,u){let f=e;return r.foreach((_,v)=>{const S=zr(n,_);QF(e,gn(S))&&(f=jk(t,f,S,v,i,a,u))}),r.foreach((_,v)=>{const S=zr(n,_);QF(e,gn(S))||(f=jk(t,f,S,v,i,a,u))}),f}(t,e,v.path,v.children,r,i,a):((0,U.hu)(v.source.fromServer,"Unknown source."),f=v.source.tagged||e.serverCache.isFiltered(),u=Hk(t,e,v.path,v.children,r,i,f,a))}else if(n.type===Ld.ACK_USER_WRITE){const v=n;u=v.revert?function $5(t,e,n,r,i,a){let u;if(null!=$A(r,n))return e;{const f=new Bk(r,e,i),_=e.eventCache.getNode();let v;if(mn(n)||".priority"===gn(n)){let S;if(e.serverCache.isFullyInitialized())S=HA(r,S_(e));else{const M=e.serverCache.getNode();(0,U.hu)(M instanceof sn,"serverChildren would be complete if leaf node"),S=Uk(r,M)}v=t.filter.updateFullNode(_,S,a)}else{const S=gn(n);let M=Vk(r,S,e.serverCache);null==M&&e.serverCache.isCompleteForChild(S)&&(M=_.getImmediateChild(S)),v=null!=M?t.filter.updateChild(_,S,M,fr(n),f,a):e.eventCache.getNode().hasChild(S)?t.filter.updateChild(_,S,sn.EMPTY_NODE,fr(n),f,a):_,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=HA(r,S_(e)),u.isLeafNode()&&(v=t.filter.updateFullNode(v,u,a)))}return u=e.serverCache.isFullyInitialized()||null!=$A(r,Vn()),ZI(e,v,u,t.filter.filtersNodes())}}(t,e,v.path,r,i,a):function j5(t,e,n,r,i,a,u){if(null!=$A(i,n))return e;const f=e.serverCache.isFiltered(),_=e.serverCache;if(null!=r.value){if(mn(n)&&_.isFullyInitialized()||_.isCompleteForPath(n))return GA(t,e,n,_.getNode().getChild(n),i,a,f,u);if(mn(n)){let v=new Ir(null);return _.getNode().forEachChild(Od,(S,M)=>{v=v.set(new zn(S),M)}),Hk(t,e,n,v,i,a,f,u)}return e}{let v=new Ir(null);return r.foreach((S,M)=>{const L=zr(n,S);_.isCompleteForPath(L)&&(v=v.set(S,_.getNode().getChild(L)))}),Hk(t,e,n,v,i,a,f,u)}}(t,e,v.path,v.affectedTree,r,i,a)}else{if(n.type!==Ld.LISTEN_COMPLETE)throw(0,U.g5)("Unknown operation type: "+n.type);u=function H5(t,e,n,r,i){const a=e.serverCache;return YF(t,BF(e,a.getNode(),a.isFullyInitialized()||mn(n),a.isFiltered()),n,r,KF,i)}(t,e,n.path,r,a)}const _=a.getChanges();return function V5(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=BA(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(LF(BA(e)))}}(e,u,_),{viewCache:u,changes:_}}(t.processor_,i,e,n,r);return function F5(t,e){(0,U.hu)(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,U.hu)(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,a.viewCache),(0,U.hu)(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,nU(t,a.changes,a.viewCache.eventCache.getNode(),null)}function nU(t,e,n,r){return function m5(t,e,n,r){const i=[],a=[];return e.forEach(u=>{"child_changed"===u.type&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&a.push(function n5(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(u.childName,u.snapshotNode))}),WI(t,i,"child_removed",e,r,n),WI(t,i,"child_added",e,r,n),WI(t,i,"child_moved",a,r,n),WI(t,i,"child_changed",e,r,n),WI(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let zA,WA;class rU{constructor(){this.views=new Map}}function $k(t,e,n,r){const i=e.source.queryId;if(null!==i){const a=t.views.get(i);return(0,U.hu)(null!=a,"SyncTree gave us an op for an invalid query."),tU(a,e,n,r)}{let a=[];for(const u of t.views.values())a=a.concat(tU(u,e,n,r));return a}}function iU(t,e,n,r,i){const u=t.views.get(e._queryIdentifier);if(!u){let f=HA(n,i?r:null),_=!1;f?_=!0:r instanceof sn?(f=Uk(n,r),_=!1):(f=sn.EMPTY_NODE,_=!1);const v=VA(new cg(f,_,!1),new cg(r,i,!1));return new G5(e,v)}return u}function sU(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function hg(t,e){let n=null;for(const r of t.views.values())n=n||W5(r,e);return n}function oU(t,e){return e._queryParams.loadsAllData()?qA(t):t.views.get(e._queryIdentifier)}function aU(t,e){return null!=oU(t,e)}function fg(t){return null!=qA(t)}function qA(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let r6=1;class lU{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ir(null),this.pendingWriteTree_=function N5(){return{visibleWrites:_c.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Gk(t,e,n,r,i){return function w5(t,e,n,r,i){(0,U.hu)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=KI(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Yw(t,new T_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function pg(t,e,n=!1){const r=function E5(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function I5(t,e){const n=t.allWrites.findIndex(f=>f.writeId===e);(0,U.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,a=!1,u=t.allWrites.length-1;for(;i&&u>=0;){const f=t.allWrites[u];f.visible&&(u>=n&&C5(f,r.path)?i=!1:gu(r.path,f.path)&&(a=!0)),u--}return!!i&&(a?(function D5(t){t.visibleWrites=GF(t.allWrites,T5,Vn()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=jF(t.visibleWrites,r.path):Rs(r.children,_=>{t.visibleWrites=jF(t.visibleWrites,zr(r.path,_))}),!0))}(t.pendingWriteTree_,e)){let a=new Ir(null);return null!=r.snap?a=a.set(Vn(),!0):Rs(r.children,u=>{a=a.set(new zn(u),!0)}),Yw(t,new UA(r.path,a,n))}return[]}function YI(t,e,n){return Yw(t,new T_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function ZA(t,e,n,r,i=!1){const a=e._path,u=t.syncPointTree_.get(a);let f=[];if(u&&("default"===e._queryIdentifier||aU(u,e))){const _=function e6(t,e,n,r){const i=e._queryIdentifier,a=[];let u=[];const f=fg(t);if("default"===i)for(const[_,v]of t.views.entries())u=u.concat(eU(v,n,r)),XF(v)&&(t.views.delete(_),v.query._queryParams.loadsAllData()||a.push(v.query));else{const _=t.views.get(i);_&&(u=u.concat(eU(_,n,r)),XF(_)&&(t.views.delete(i),_.query._queryParams.loadsAllData()||a.push(_.query)))}return f&&!fg(t)&&a.push(new(function Q5(){return(0,U.hu)(zA,"Reference.ts has not been loaded"),zA}())(e._repo,e._path)),{removed:a,events:u}}(u,e,n,r);(function J5(t){return 0===t.views.size})(u)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const v=_.removed;if(f=_.events,!i){const S=-1!==v.findIndex(L=>L._queryParams.loadsAllData()),M=t.syncPointTree_.findOnPath(a,(L,H)=>fg(H));if(S&&!M){const L=t.syncPointTree_.subtree(a);if(!L.isEmpty()){const H=function c6(t){return t.fold((e,n,r)=>{if(n&&fg(n))return[qA(n)];{let i=[];return n&&(i=sU(n)),Rs(r,(a,u)=>{i=i.concat(u)}),i}})}(L);for(let Q=0;Q<H.length;++Q){const _e=H[Q],Te=_e.query,nt=hU(t,_e);t.listenProvider_.startListening(JI(Te),QI(t,Te),nt.hashFn,nt.onComplete)}}}!M&&v.length>0&&!r&&(S?t.listenProvider_.stopListening(JI(e),null):v.forEach(L=>{const H=t.queryToTagMap.get(YA(L));t.listenProvider_.stopListening(JI(L),H)}))}!function d6(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=YA(r),a=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(a)}}}(t,v)}return f}function uU(t,e,n,r){const i=qk(t,r);if(null!=i){const a=Wk(i),u=a.path,f=a.queryId,_=na(u,e);return Zk(t,u,new T_(kk(f),_,n))}return[]}function zk(t,e,n,r=!1){const i=e._path;let a=null,u=!1;t.syncPointTree_.foreachOnPath(i,(L,H)=>{const Q=na(L,i);a=a||hg(H,Q),u=u||fg(H)});let _,f=t.syncPointTree_.get(i);f?(u=u||fg(f),a=a||hg(f,Vn())):(f=new rU,t.syncPointTree_=t.syncPointTree_.set(i,f)),null!=a?_=!0:(_=!1,a=sn.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((H,Q)=>{const _e=hg(Q,Vn());_e&&(a=a.updateImmediateChild(H,_e))}));const v=aU(f,e);if(!v&&!e._queryParams.loadsAllData()){const L=YA(e);(0,U.hu)(!t.queryToTagMap.has(L),"View does not exist, but we have a tag");const H=function h6(){return r6++}();t.queryToTagMap.set(L,H),t.tagToQueryMap.set(H,L)}let M=function X5(t,e,n,r,i,a){const u=iU(t,e,r,i,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),function Z5(t,e){t.eventRegistrations_.push(e)}(u,n),function K5(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Er,(a,u)=>{r.push(qw(a,u))}),n.isFullyInitialized()&&r.push(LF(n.getNode())),nU(t,r,n.getNode(),e)}(u,n)}(f,e,n,jA(t.pendingWriteTree_,i),a,_);if(!v&&!u&&!r){const L=oU(f,e);M=M.concat(function f6(t,e,n){const r=e._path,i=QI(t,e),a=hU(t,n),u=t.listenProvider_.startListening(JI(e),i,a.hashFn,a.onComplete),f=t.syncPointTree_.subtree(r);if(i)(0,U.hu)(!fg(f.value),"If we're adding a query, it shouldn't be shadowed");else{const _=f.fold((v,S,M)=>{if(!mn(v)&&S&&fg(S))return[qA(S).query];{let L=[];return S&&(L=L.concat(sU(S).map(H=>H.query))),Rs(M,(H,Q)=>{L=L.concat(Q)}),L}});for(let v=0;v<_.length;++v){const S=_[v];t.listenProvider_.stopListening(JI(S),QI(t,S))}}return u}(t,e,L))}return M}function KA(t,e,n){const i=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(u,f)=>{const v=hg(f,na(u,e));if(v)return v});return zF(i,e,a,n,!0)}function Yw(t,e){return cU(e,t.syncPointTree_,null,jA(t.pendingWriteTree_,Vn()))}function cU(t,e,n,r){if(mn(t.path))return dU(t,e,n,r);{const i=e.get(Vn());null==n&&null!=i&&(n=hg(i,Vn()));let a=[];const u=gn(t.path),f=t.operationForChild(u),_=e.children.get(u);if(_&&f){const v=n?n.getImmediateChild(u):null,S=WF(r,u);a=a.concat(cU(f,_,v,S))}return i&&(a=a.concat($k(i,t,r,n))),a}}function dU(t,e,n,r){const i=e.get(Vn());null==n&&null!=i&&(n=hg(i,Vn()));let a=[];return e.children.inorderTraversal((u,f)=>{const _=n?n.getImmediateChild(u):null,v=WF(r,u),S=t.operationForChild(u);S&&(a=a.concat(dU(S,f,_,v)))}),i&&(a=a.concat($k(i,t,r,n))),a}function hU(t,e){const n=e.query,r=QI(t,n);return{hashFn:()=>(function z5(t){return t.viewCache_.serverCache.getNode()}(e)||sn.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function a6(t,e,n){const r=qk(t,n);if(r){const i=Wk(r),a=i.path,u=i.queryId,f=na(a,e);return Zk(t,a,new qI(kk(u),f))}return[]}(t,n._path,r):function o6(t,e){return Yw(t,new qI({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const a=function s4(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return ZA(t,n,null,a)}}}}function QI(t,e){const n=YA(e);return t.queryToTagMap.get(n)}function YA(t){return t._path.toString()+"$"+t._queryIdentifier}function qk(t,e){return t.tagToQueryMap.get(e)}function Wk(t){const e=t.indexOf("$");return(0,U.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new zn(t.substr(0,e))}}function Zk(t,e,n){const r=t.syncPointTree_.get(e);return(0,U.hu)(r,"Missing sync point for query tag that we're tracking"),$k(r,n,jA(t.pendingWriteTree_,e),null)}function JI(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function n6(){return(0,U.hu)(WA,"Reference.ts has not been loaded"),WA}())(t._repo,t._path):t}class Kk{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Kk(n)}node(){return this.node_}}class Yk{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=zr(this.path_,e);return new Yk(this.syncTree_,n)}node(){return KA(this.syncTree_,this.path_)}}const p6=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},fU=function(t,e,n){return t&&"object"==typeof t?((0,U.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?g6(t[".sv"],e,n):"object"==typeof t[".sv"]?m6(t[".sv"],e):void(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},g6=function(t,e,n){if("timestamp"===t)return n.timestamp;(0,U.hu)(!1,"Unexpected server value: "+t)},m6=function(t,e,n){t.hasOwnProperty("increment")||(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&(0,U.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,U.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const u=i.getValue();return"number"!=typeof u?r:u+r},pU=function(t,e,n,r){return Jk(e,new Yk(n,t),r)},Qk=function(t,e,n){return Jk(t,new Kk(e),n)};function Jk(t,e,n){const r=t.getPriority().val(),i=fU(r,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const u=t,f=fU(u.getValue(),e,n);return f!==u.getValue()||i!==u.getPriority().val()?new Gw(f,ii(i)):t}{const u=t;return a=u,i!==u.getPriority().val()&&(a=a.updatePriority(new Gw(i))),u.forEachChild(Er,(f,_)=>{const v=Jk(_,e.getImmediateChild(f),n);v!==_&&(a=a.updateImmediateChild(f,v))}),a}}class Xk{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function QA(t,e){let n=e instanceof zn?e:new zn(e),r=t,i=gn(n);for(;null!==i;){const a=(0,U.DV)(r.node.children,i)||{children:{},childCount:0};r=new Xk(i,r,a),n=fr(n),i=gn(n)}return r}function x_(t){return t.node.value}function eP(t,e){t.node.value=e,tP(t)}function gU(t){return t.node.childCount>0}function JA(t,e){Rs(t.node.children,(n,r)=>{e(new Xk(n,t,r))})}function mU(t,e,n,r){n&&!r&&e(t),JA(t,i=>{mU(i,e,!0,r)}),n&&r&&e(t)}function XI(t){return new zn(null===t.parent?t.name:XI(t.parent)+"/"+t.name)}function tP(t){null!==t.parent&&function v6(t,e,n){const r=function _6(t){return void 0===x_(t)&&!gU(t)}(n),i=(0,U.r3)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,tP(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,tP(t))}(t.parent,t.name,t)}const w6=/[\[\].#$\/\u0000-\u001F\u007F]/,b6=/[\[\].#$\u0000-\u001F\u007F]/,nP=10485760,XA=function(t){return"string"==typeof t&&0!==t.length&&!w6.test(t)},_U=function(t){return"string"==typeof t&&0!==t.length&&!b6.test(t)},eC=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!TA(t)||t&&"object"==typeof t&&(0,U.r3)(t,".sv")},Fd=function(t,e,n,r){r&&void 0===e||tC((0,U.gK)(t,"value"),e,n)},tC=function(t,e,n){const r=n instanceof zn?new U4(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+C_(r));if("function"==typeof e)throw new Error(t+"contains a function "+C_(r)+" with contents = "+e.toString());if(TA(e))throw new Error(t+"contains "+e.toString()+" "+C_(r));if("string"==typeof e&&e.length>nP/3&&(0,U.ug)(e)>nP)throw new Error(t+"contains a string greater than "+nP+" utf8 bytes "+C_(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,a=!1;if(Rs(e,(u,f)=>{if(".value"===u)i=!0;else if(".priority"!==u&&".sv"!==u&&(a=!0,!XA(u)))throw new Error(t+" contains an invalid key ("+u+") "+C_(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function V4(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,U.ug)(e),SF(t)})(r,u),tC(t,f,r),function B4(t){const e=t.parts_.pop();t.byteLength_-=(0,U.ug)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&a)throw new Error(t+' contains ".value" child '+C_(r)+" in addition to actual children.")}},yU=function(t,e,n,r){if(r&&void 0===e)return;const i=(0,U.gK)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const a=[];Rs(e,(u,f)=>{const _=new zn(u);if(tC(i,f,zr(n,_)),".priority"===yk(_)&&!eC(f))throw new Error(i+"contains an invalid value for '"+_.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(_)}),function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const a=VI(r);for(let u=0;u<a.length;u++)if((".priority"!==a[u]||u!==a.length-1)&&!XA(a[u]))throw new Error(t+"contains an invalid key ("+a[u]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(F4);let i=null;for(n=0;n<e.length;n++){if(r=e[n],null!==i&&gu(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,a)},rP=function(t,e,n){if(!n||void 0!==e){if(TA(e))throw new Error((0,U.gK)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!eC(e))throw new Error((0,U.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},nC=function(t,e,n,r){if(!(r&&void 0===n||XA(n)))throw new Error((0,U.gK)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},rC=function(t,e,n,r){if(!(r&&void 0===n||_U(n)))throw new Error((0,U.gK)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},C6=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),rC(t,e,n,r)},mu=function(t,e){if(".info"===gn(e))throw new Error(t+" failed = Can't modify data under /.info/")},vU=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!XA(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_U(t)}(n))throw new Error((0,U.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class D6{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ex(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],a=i.getPath();null!==n&&!vk(a,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&t.eventLists_.push(n)}function wU(t,e,n){ex(t,n),bU(t,r=>vk(r,e))}function wl(t,e,n){ex(t,n),bU(t,r=>gu(r,e)||gu(e,r))}function bU(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(T6(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function T6(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();E_&&Ms("event: "+n.toString()),Hw(r)}}}const EU="repo_interrupt",S6=25;class A6{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new D6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=FA(),this.transactionQueueTree_=new Xk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function IU(t){const n=t.infoData_.getNode(new zn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function iC(t){return p6({timestamp:IU(t)})}function CU(t,e,n,r,i){t.dataUpdateCount++;const a=new zn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(i)if(r){const _=(0,U.UI)(n,v=>ii(v));u=function l6(t,e,n,r){const i=qk(t,r);if(i){const a=Wk(i),u=a.path,f=a.queryId,_=na(u,e),v=Ir.fromObject(n);return Zk(t,u,new Zw(kk(f),_,v))}return[]}(t.serverSyncTree_,a,_,i)}else{const _=ii(n);u=uU(t.serverSyncTree_,a,_,i)}else if(r){const _=(0,U.UI)(n,v=>ii(v));u=function s6(t,e,n){const r=Ir.fromObject(n);return Yw(t,new Zw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,a,_)}else{const _=ii(n);u=YI(t.serverSyncTree_,a,_)}let f=a;u.length>0&&(f=Jw(t,a)),wl(t.eventQueue_,f,u)}function DU(t,e){iP(t,"connected",e),!1===e&&function k6(t){Qw(t,"onDisconnectEvents");const e=iC(t),n=FA();Mk(t.onDisconnect_,Vn(),(i,a)=>{const u=pU(i,a,t.serverSyncTree_,e);Ww(n,i,u)});let r=[];Mk(n,Vn(),(i,a)=>{r=r.concat(YI(t.serverSyncTree_,i,a));const u=lP(t,i);Jw(t,u)}),t.onDisconnect_=FA(),wl(t.eventQueue_,Vn(),r)}(t)}function iP(t,e,n){const r=new zn("/.info/"+e),i=ii(n);t.infoData_.updateSnapshot(r,i);const a=YI(t.infoSyncTree_,r,i);wl(t.eventQueue_,r,a)}function tx(t){return t.nextWriteId_++}function sP(t,e,n,r,i){Qw(t,"set",{path:e.toString(),value:n,priority:r});const a=iC(t),u=ii(n,r),f=KA(t.serverSyncTree_,e),_=Qk(u,f,a),v=tx(t),S=Gk(t.serverSyncTree_,e,_,v,!0);ex(t.eventQueue_,S),t.server_.put(e.toString(),u.val(!0),(L,H)=>{const Q="ok"===L;Q||Co("set at "+e+" failed: "+L);const _e=pg(t.serverSyncTree_,v,!Q);wl(t.eventQueue_,e,_e),gg(0,i,L,H)});const M=lP(t,e);Jw(t,M),wl(t.eventQueue_,M,[])}function P6(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&xk(t.onDisconnect_,e),gg(0,n,r,i)})}function TU(t,e,n,r){const i=ii(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(a,u)=>{"ok"===a&&Ww(t.onDisconnect_,e,i),gg(0,r,a,u)})}function oP(t,e,n){let r;r=".info"===gn(e._path)?ZA(t.infoSyncTree_,e,n):ZA(t.serverSyncTree_,e,n),wU(t.eventQueue_,e._path,r)}function SU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(EU)}function Qw(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ms(n,...e)}function gg(t,e,n,r){e&&Hw(()=>{if("ok"===n)e(null);else{const i=(n||"error").toUpperCase();let a=i;r&&(a+=": "+r);const u=new Error(a);u.code=i,e(u)}})}function aP(t,e,n){return KA(t.serverSyncTree_,e,n)||sn.EMPTY_NODE}function nx(t,e=t.transactionQueueTree_){if(e||rx(t,e),x_(e)){const n=xU(t,e);(0,U.hu)(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function B6(t,e,n){const r=n.map(v=>v.currentWriteId),i=aP(t,e,r);let a=i;const u=i.hash();for(let v=0;v<n.length;v++){const S=n[v];(0,U.hu)(0===S.status,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const M=na(e,S.path);a=a.updateChild(M,S.currentOutputSnapshotRaw)}const f=a.val(!0),_=e;t.server_.put(_.toString(),f,v=>{Qw(t,"transaction put response",{path:_.toString(),status:v});let S=[];if("ok"===v){const M=[];for(let L=0;L<n.length;L++)n[L].status=2,S=S.concat(pg(t.serverSyncTree_,n[L].currentWriteId)),n[L].onComplete&&M.push(()=>n[L].onComplete(null,!0,n[L].currentOutputSnapshotResolved)),n[L].unwatcher();rx(t,QA(t.transactionQueueTree_,e)),nx(t,t.transactionQueueTree_),wl(t.eventQueue_,e,S);for(let L=0;L<M.length;L++)Hw(M[L])}else{if("datastale"===v)for(let M=0;M<n.length;M++)n[M].status=3===n[M].status?4:0;else{Co("transaction at "+_.toString()+" failed: "+v);for(let M=0;M<n.length;M++)n[M].status=4,n[M].abortReason=v}Jw(t,e)}},u)}(t,XI(e),n)}else gU(e)&&JA(e,n=>{nx(t,n)})}function Jw(t,e){const n=AU(t,e),r=XI(n);return function j6(t,e,n){if(0===e.length)return;const r=[];let i=[];const u=e.filter(f=>0===f.status).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const _=e[f],v=na(n,_.path);let M,S=!1;if((0,U.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===_.status)S=!0,M=_.abortReason,i=i.concat(pg(t.serverSyncTree_,_.currentWriteId,!0));else if(0===_.status)if(_.retryCount>=S6)S=!0,M="maxretry",i=i.concat(pg(t.serverSyncTree_,_.currentWriteId,!0));else{const L=aP(t,_.path,u);_.currentInputSnapshot=L;const H=e[f].update(L.val());if(void 0!==H){tC("transaction failed: Data returned ",H,_.path);let Q=ii(H);"object"==typeof H&&null!=H&&(0,U.r3)(H,".priority")||(Q=Q.updatePriority(L.getPriority()));const Te=_.currentWriteId,nt=iC(t),_t=Qk(Q,L,nt);_.currentOutputSnapshotRaw=Q,_.currentOutputSnapshotResolved=_t,_.currentWriteId=tx(t),u.splice(u.indexOf(Te),1),i=i.concat(Gk(t.serverSyncTree_,_.path,_t,_.currentWriteId,_.applyLocally)),i=i.concat(pg(t.serverSyncTree_,Te,!0))}else S=!0,M="nodata",i=i.concat(pg(t.serverSyncTree_,_.currentWriteId,!0))}wl(t.eventQueue_,n,i),i=[],S&&(e[f].status=2,setTimeout(e[f].unwatcher,Math.floor(0)),e[f].onComplete&&r.push("nodata"===M?()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot):()=>e[f].onComplete(new Error(M),!1,null)))}rx(t,t.transactionQueueTree_);for(let f=0;f<r.length;f++)Hw(r[f]);nx(t,t.transactionQueueTree_)}(t,xU(t,n),r),r}function AU(t,e){let n,r=t.transactionQueueTree_;for(n=gn(e);null!==n&&void 0===x_(r);)r=QA(r,n),n=gn(e=fr(e));return r}function xU(t,e){const n=[];return MU(t,e,n),n.sort((r,i)=>r.order-i.order),n}function MU(t,e,n){const r=x_(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);JA(e,i=>{MU(t,i,n)})}function rx(t,e){const n=x_(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,eP(e,n.length>0?n:void 0)}JA(e,r=>{rx(t,r)})}function lP(t,e){const n=XI(AU(t,e)),r=QA(t.transactionQueueTree_,e);return function y6(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{uP(t,i)}),uP(t,r),mU(r,i=>{uP(t,i)}),n}function uP(t,e){const n=x_(e);if(n){const r=[];let i=[],a=-1;for(let u=0;u<n.length;u++)3===n[u].status||(1===n[u].status?((0,U.hu)(a===u-1,"All SENT items should be at beginning of queue."),a=u,n[u].status=3,n[u].abortReason="set"):((0,U.hu)(0===n[u].status,"Unexpected transaction status in abort"),n[u].unwatcher(),i=i.concat(pg(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&r.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));-1===a?eP(e,void 0):n.length=a+1,wl(t.eventQueue_,XI(e),i);for(let u=0;u<r.length;u++)Hw(r[u])}}const cP=function(t,e){const n=G6(t),r=n.namespace;return"firebase.com"===n.domain&&Pd(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Pd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Co("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new hk(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new zn(n.pathString)}},G6=function(t){let e="",n="",r="",i="",a="",u=!0,f="https",_=443;if("string"==typeof t){let v=t.indexOf("//");v>=0&&(f=t.substring(0,v-1),t=t.substring(v+2));let S=t.indexOf("/");-1===S&&(S=t.length);let M=t.indexOf("?");-1===M&&(M=t.length),e=t.substring(0,Math.min(S,M)),S<M&&(i=function H6(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(S,M)));const L=function $6(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Co(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,M)));v=e.indexOf(":"),v>=0?(u="https"===f||"wss"===f,_=parseInt(e.substring(v+1),10)):v=e.length;const H=e.slice(0,v);if("localhost"===H.toLowerCase())n="localhost";else if(H.split(".").length<=2)n=H;else{const Q=e.indexOf(".");r=e.substring(0,Q).toLowerCase(),n=e.substring(Q+1),a=r}"ns"in L&&(a=L.ns)}return{host:e,port:_,domain:n,subdomain:r,secure:u,scheme:f,pathString:i,namespace:a}},RU="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",z6=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const a=new Array(8);for(i=7;i>=0;i--)a[i]=RU.charAt(n%64),n=Math.floor(n/64);(0,U.hu)(0===n,"Cannot push at time == 0");let u=a.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)u+=RU.charAt(e[i]);return(0,U.hu)(20===u.length,"nextPushId: Length should be 20."),u}}();class NU{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,U.Wl)(this.snapshot.exportVal())}}class kU{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class dP{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return(0,U.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class PU{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new U.BH;return P6(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){mu("OnDisconnect.remove",this._path);const e=new U.BH;return TU(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){mu("OnDisconnect.set",this._path),Fd("OnDisconnect.set",e,this._path,!1);const n=new U.BH;return TU(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){mu("OnDisconnect.setWithPriority",this._path),Fd("OnDisconnect.setWithPriority",e,this._path,!1),rP("OnDisconnect.setWithPriority",n,!1);const r=new U.BH;return function O6(t,e,n,r,i){const a=ii(n,r);t.server_.onDisconnectPut(e.toString(),a.val(!0),(u,f)=>{"ok"===u&&Ww(t.onDisconnect_,e,a),gg(0,i,u,f)})}(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){mu("OnDisconnect.update",this._path),yU("OnDisconnect.update",e,this._path,!1);const n=new U.BH;return function L6(t,e,n,r){if((0,U.xb)(n))return Ms("onDisconnect().update() called with empty data.  Don't do anything."),void gg(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(i,a)=>{"ok"===i&&Rs(n,(u,f)=>{const _=ii(f);Ww(t.onDisconnect_,zr(e,u),_)}),gg(0,r,i,a)})}(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}class ka{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return mn(this._path)?null:yk(this._path)}get ref(){return new _u(this._repo,this._path)}get _queryIdentifier(){const e=UF(this._queryParams),n=ck(e);return"{}"===n?"default":n}get _queryObject(){return UF(this._queryParams)}isEqual(e){if(!((e=(0,U.m9)(e))instanceof ka))return!1;const n=this._repo===e._repo,r=vk(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function L4(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}function ix(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function mg(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Od){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==ag)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Ef)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Er){if(null!=e&&!eC(e)||null!=n&&!eC(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,U.hu)(t.getIndex()instanceof Ck||t.getIndex()===Dk,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function sx(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class _u extends ka{constructor(e,n){super(e,n,new PA,!1)}get parent(){const e=TF(this._path);return null===e?null:new _u(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class M_{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new zn(e),r=R_(this.ref,e);return new M_(this._node.getChild(n),r,Er)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new M_(i,R_(this.ref,r),Er)))}hasChild(e){const n=new zn(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function OU(t,e){return(t=(0,U.m9)(t))._checkNotDeleted("ref"),void 0!==e?R_(t._root,e):t._root}function LU(t,e){(t=(0,U.m9)(t))._checkNotDeleted("refFromURL");const n=cP(e,t._repo.repoInfo_.nodeAdmin);vU("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Pd("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),OU(t,n.path.toString())}function R_(t,e){return null===gn((t=(0,U.m9)(t))._path)?C6("child","path",e,!1):rC("child","path",e,!1),new _u(t._repo,zr(t._path,e))}function hP(t,e){t=(0,U.m9)(t),mu("set",t._path),Fd("set",e,t._path,!1);const n=new U.BH;return sP(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Y6(t,e){yU("update",e,t._path,!1);const n=new U.BH;return function N6(t,e,n,r){Qw(t,"update",{path:e.toString(),value:n});let i=!0;const a=iC(t),u={};if(Rs(n,(f,_)=>{i=!1,u[f]=pU(zr(e,f),ii(_),t.serverSyncTree_,a)}),i)Ms("update() called with empty data.  Don't do anything."),gg(0,r,"ok",void 0);else{const f=tx(t),_=function i6(t,e,n,r){!function b5(t,e,n,r){(0,U.hu)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ok(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);const i=Ir.fromObject(n);return Yw(t,new Zw({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,u,f);ex(t.eventQueue_,_),t.server_.merge(e.toString(),n,(v,S)=>{const M="ok"===v;M||Co("update at "+e+" failed: "+v);const L=pg(t.serverSyncTree_,f,!M),H=L.length>0?Jw(t,e):e;wl(t.eventQueue_,H,L),gg(0,r,v,S)}),Rs(n,v=>{const S=lP(t,zr(e,v));Jw(t,S)}),wl(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Q6(t){t=(0,U.m9)(t);const e=new dP(()=>{}),n=new sC(e);return function R6(t,e,n){const r=function u6(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(v,S)=>{const M=na(v,n);r=r||hg(S,M)});let i=t.syncPointTree_.get(n);i?r=r||hg(i,Vn()):(i=new rU,t.syncPointTree_=t.syncPointTree_.set(n,i));const a=null!=r,u=a?new cg(r,!0,!1):null;return function q5(t){return BA(t.viewCache_)}(iU(i,e,jA(t.pendingWriteTree_,e._path),a?u.getNode():sn.EMPTY_NODE,a))}(t.serverSyncTree_,e);return null!=r?Promise.resolve(r):t.server_.get(e).then(i=>{const a=ii(i).withIndex(e._queryParams.getIndex());let u;if(zk(t.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())u=YI(t.serverSyncTree_,e._path,a);else{const f=QI(t.serverSyncTree_,e);u=uU(t.serverSyncTree_,e._path,a,f)}return wl(t.eventQueue_,e._path,u),ZA(t.serverSyncTree_,e,n,null,!0),a},i=>(Qw(t,"get for query "+(0,U.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(t._repo,t,n).then(r=>new M_(r,new _u(t._repo,t._path),t._queryParams.getIndex()))}class sC{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new NU("value",this,new M_(e.snapshotNode,new _u(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new kU(this,e,n):null}matches(e){return e instanceof sC&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ox{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n="children_added"===e?"child_added":e;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new kU(this,e,n):null}createEvent(e,n){(0,U.hu)(null!=e.childName,"Child events should have a childName.");const r=R_(new _u(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new NU(e.type,this,new M_(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof ox&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function oC(t,e,n,r,i){let a;if("object"==typeof r&&(a=void 0,i=r),"function"==typeof r&&(a=r),i&&i.onlyOnce){const _=n,v=(S,M)=>{oP(t._repo,t,f),_(S,M)};v.userCallback=n.userCallback,v.context=n.context,n=v}const u=new dP(n,a||void 0),f="value"===e?new sC(u):new ox(e,u);return function F6(t,e,n){let r;r=".info"===gn(e._path)?zk(t.infoSyncTree_,e,n):zk(t.serverSyncTree_,e,n),wU(t.eventQueue_,e._path,r)}(t._repo,t,f),()=>oP(t._repo,t,f)}function fP(t,e,n,r){return oC(t,"value",e,n,r)}function FU(t,e,n,r){return oC(t,"child_added",e,n,r)}function UU(t,e,n,r){return oC(t,"child_changed",e,n,r)}function VU(t,e,n,r){return oC(t,"child_moved",e,n,r)}function BU(t,e,n,r){return oC(t,"child_removed",e,n,r)}function jU(t,e,n){let r=null;const i=n?new dP(n):null;"value"===e?r=new sC(i):e&&(r=new ox(e,i)),oP(t._repo,t,r)}class yc{}class HU extends yc{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Fd("endAt",this._value,e._path,!0);const n=Ak(e._queryParams,this._value,this._key);if(sx(n),mg(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ka(e._repo,e._path,n,e._orderByCalled)}}class X6 extends yc{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Fd("endBefore",this._value,e._path,!1);const n=function l5(t,e,n){let r;return r=Ak(t,e,t.index_===Od||n?n:ag),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(sx(n),mg(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ka(e._repo,e._path,n,e._orderByCalled)}}class $U extends yc{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Fd("startAt",this._value,e._path,!0);const n=Sk(e._queryParams,this._value,this._key);if(sx(n),mg(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ka(e._repo,e._path,n,e._orderByCalled)}}class nG extends yc{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Fd("startAfter",this._value,e._path,!1);const n=function a5(t,e,n){let r;return r=Sk(t,e,t.index_===Od||n?n:Ef),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(sx(n),mg(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ka(e._repo,e._path,n,e._orderByCalled)}}class iG extends yc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ka(e._repo,e._path,function s5(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class oG extends yc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ka(e._repo,e._path,function o5(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class lG extends yc{constructor(e){super(),this._path=e}_apply(e){ix(e,"orderByChild");const n=new zn(this._path);if(mn(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Ck(n),i=OA(e._queryParams,r);return mg(i),new ka(e._repo,e._path,i,!0)}}class cG extends yc{_apply(e){ix(e,"orderByKey");const n=OA(e._queryParams,Od);return mg(n),new ka(e._repo,e._path,n,!0)}}class hG extends yc{_apply(e){ix(e,"orderByPriority");const n=OA(e._queryParams,Er);return mg(n),new ka(e._repo,e._path,n,!0)}}class pG extends yc{_apply(e){ix(e,"orderByValue");const n=OA(e._queryParams,Dk);return mg(n),new ka(e._repo,e._path,n,!0)}}class mG extends yc{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(Fd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new HU(this._value,this._key)._apply(new $U(this._value,this._key)._apply(e))}}function vc(t,...e){let n=(0,U.m9)(t);for(const r of e)n=r._apply(n);return n}(function Y5(t){(0,U.hu)(!zA,"__referenceConstructor has already been defined"),zA=t})(_u),function t6(t){(0,U.hu)(!WA,"__referenceConstructor has already been defined"),WA=t}(_u);const pP={};function zU(t,e,n,r,i){let a=r||t.options.databaseURL;void 0===a&&(t.options.projectId||Pd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ms("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let _,v,u=cP(a,i),f=u.repoInfo;typeof process<"u"&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(_=!0,a=`http://${v}?ns=${f.namespace}`,u=cP(a,i),f=u.repoInfo):_=!u.repoInfo.secure;const S=i&&_?new UI(UI.OWNER):new d4(t.name,t.options,e);vU("Invalid Firebase Database URL",u),mn(u.path)||Pd("Database URL must point to the root of a Firebase Database (not including a child path).");const M=function bG(t,e,n,r){let i=pP[e.name];i||(i={},pP[e.name]=i);let a=i[t.toURLString()];return a&&Pd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new A6(t,false,n,r),i[t.toURLString()]=a,a}(f,t,S,new c4(t.name,n));return new IG(M,t)}class IG{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function x6(t,e,n){if(t.stats_=gk(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new LA(t.repoInfo_,(r,i,a,u)=>{CU(t,r,i,a,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>DU(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,U.Wl)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new D_(t.repoInfo_,e,(r,i,a,u)=>{CU(t,r,i,a,u)},r=>{DU(t,r)},r=>{!function M6(t,e){Rs(e,(n,r)=>{iP(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function p4(t,e){const n=t.toString();return pk[n]||(pk[n]=e()),pk[n]}(t.repoInfo_,()=>new p5(t.stats_,t.server_)),t.infoData_=new u5,t.infoSyncTree_=new lU({startListening:(r,i,a,u)=>{let f=[];const _=t.infoData_.getNode(r._path);return _.isEmpty()||(f=YI(t.infoSyncTree_,r._path,_),setTimeout(()=>{u("ok")},0)),f},stopListening:()=>{}}),iP(t,"connected",!1),t.serverSyncTree_=new lU({startListening:(r,i,a,u)=>(t.server_.listen(r,a,i,(f,_)=>{const v=u(f,_);wl(t.eventQueue_,r._path,v)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _u(this._repo,Vn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function wG(t,e){const n=pP[e];(!n||n[t.key]!==t)&&Pd(`Database ${e}(${t.repoInfo_}) has already been deleted.`),SU(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Pd("Cannot call "+e+" on a deleted database.")}}function qU(){pF.IS_TRANSPORT_INITIALIZED&&Co("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function CG(){qU(),lg.forceDisallow()}function DG(){qU(),$w.forceDisallow(),lg.forceAllow()}function AG(t,e){ZL(t,e)}const MG={".sv":"timestamp"};class kG{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}D_.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},D_.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function xG(t){$L(Ds.SDK_VERSION),(0,Ds._registerComponent)(new Sa.wA("database",(e,{instanceIdentifier:n})=>zU(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,Ds.registerVersion)(jL,"0.14.4",t),(0,Ds.registerVersion)(jL,"0.14.4","esm2017")}();const FG=new fl.Yd("@firebase/database-compat"),ZU=function(t){FG.warn("FIREBASE WARNING: "+t)};class BG{constructor(e){this._delegate=e}cancel(e){(0,U.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,U.Wj)("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){(0,U.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,U.Wj)("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){(0,U.Dv)("OnDisconnect.set",1,2,arguments.length),(0,U.Wj)("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,U.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,U.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),a=>r(a)),i}update(e,n){if((0,U.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let a=0;a<e.length;++a)i[""+a]=e[a];e=i,ZU("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,U.Wj)("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}class jG{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return(0,U.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class _g{constructor(e,n){this._database=e,this._delegate=n}val(){return(0,U.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,U.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,U.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,U.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,U.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),rC("DataSnapshot.child","path",e,!1),new _g(this._database,this._delegate.child(e))}hasChild(e){return(0,U.Dv)("DataSnapshot.hasChild",1,1,arguments.length),rC("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,U.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,U.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,U.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new _g(this._database,n)))}hasChildren(){return(0,U.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,U.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,U.Dv)("DataSnapshot.ref",0,0,arguments.length),new bl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Js{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var a;(0,U.Dv)("Query.on",2,4,arguments.length),(0,U.Wj)("Query.on","callback",n,!1);const u=Js.getCancelAndContextArgs_("Query.on",r,i),f=(v,S)=>{n.call(u.context,new _g(this.database,v),S)};f.userCallback=n,f.context=u.context;const _=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(e){case"value":return fP(this._delegate,f,_),n;case"child_added":return FU(this._delegate,f,_),n;case"child_removed":return BU(this._delegate,f,_),n;case"child_changed":return UU(this._delegate,f,_),n;case"child_moved":return VU(this._delegate,f,_),n;default:throw new Error((0,U.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if((0,U.Dv)("Query.off",0,3,arguments.length),function(t,e,n){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,U.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,U.Wj)("Query.off","callback",n,!0),(0,U.lb)("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,jU(this._delegate,e,i)}else jU(this._delegate,e)}get(){return Q6(this._delegate).then(e=>new _g(this.database,e))}once(e,n,r,i){(0,U.Dv)("Query.once",1,4,arguments.length),(0,U.Wj)("Query.once","callback",n,!0);const a=Js.getCancelAndContextArgs_("Query.once",r,i),u=new U.BH,f=(v,S)=>{const M=new _g(this.database,v);n&&n.call(a.context,M,S),u.resolve(M)};f.userCallback=n,f.context=a.context;const _=v=>{a.cancel&&a.cancel.call(a.context,v),u.reject(v)};switch(e){case"value":fP(this._delegate,f,_,{onlyOnce:!0});break;case"child_added":FU(this._delegate,f,_,{onlyOnce:!0});break;case"child_removed":BU(this._delegate,f,_,{onlyOnce:!0});break;case"child_changed":UU(this._delegate,f,_,{onlyOnce:!0});break;case"child_moved":VU(this._delegate,f,_,{onlyOnce:!0});break;default:throw new Error((0,U.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(e){return(0,U.Dv)("Query.limitToFirst",1,1,arguments.length),new Js(this.database,vc(this._delegate,function sG(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new iG(t)}(e)))}limitToLast(e){return(0,U.Dv)("Query.limitToLast",1,1,arguments.length),new Js(this.database,vc(this._delegate,function aG(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new oG(t)}(e)))}orderByChild(e){return(0,U.Dv)("Query.orderByChild",1,1,arguments.length),new Js(this.database,vc(this._delegate,function uG(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return rC("orderByChild","path",t,!1),new lG(t)}(e)))}orderByKey(){return(0,U.Dv)("Query.orderByKey",0,0,arguments.length),new Js(this.database,vc(this._delegate,function dG(){return new cG}()))}orderByPriority(){return(0,U.Dv)("Query.orderByPriority",0,0,arguments.length),new Js(this.database,vc(this._delegate,function fG(){return new hG}()))}orderByValue(){return(0,U.Dv)("Query.orderByValue",0,0,arguments.length),new Js(this.database,vc(this._delegate,function gG(){return new pG}()))}startAt(e=null,n){return(0,U.Dv)("Query.startAt",0,2,arguments.length),new Js(this.database,vc(this._delegate,function tG(t=null,e){return nC("startAt","key",e,!0),new $U(t,e)}(e,n)))}startAfter(e=null,n){return(0,U.Dv)("Query.startAfter",0,2,arguments.length),new Js(this.database,vc(this._delegate,function rG(t,e){return nC("startAfter","key",e,!0),new nG(t,e)}(e,n)))}endAt(e=null,n){return(0,U.Dv)("Query.endAt",0,2,arguments.length),new Js(this.database,vc(this._delegate,function J6(t,e){return nC("endAt","key",e,!0),new HU(t,e)}(e,n)))}endBefore(e=null,n){return(0,U.Dv)("Query.endBefore",0,2,arguments.length),new Js(this.database,vc(this._delegate,function eG(t,e){return nC("endBefore","key",e,!0),new X6(t,e)}(e,n)))}equalTo(e,n){return(0,U.Dv)("Query.equalTo",1,2,arguments.length),new Js(this.database,vc(this._delegate,function _G(t,e){return nC("equalTo","key",e,!0),new mG(t,e)}(e,n)))}toString(){return(0,U.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,U.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,U.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Js))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,(0,U.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,U.lb)(e,"context",i.context,!0);else if(n)if("object"==typeof n&&null!==n)i.context=n;else{if("function"!=typeof n)throw new Error((0,U.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=n}return i}get ref(){return new bl(this.database,new _u(this._delegate._repo,this._delegate._path))}}class bl extends Js{constructor(e,n){super(e,new ka(n._repo,n._path,new PA,!1)),this.database=e,this._delegate=n}getKey(){return(0,U.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,U.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new bl(this.database,R_(this._delegate,e))}getParent(){(0,U.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new bl(this.database,e):null}getRoot(){return(0,U.Dv)("Reference.root",0,0,arguments.length),new bl(this.database,this._delegate.root)}set(e,n){(0,U.Dv)("Reference.set",1,2,arguments.length),(0,U.Wj)("Reference.set","onComplete",n,!0);const r=hP(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if((0,U.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let a=0;a<e.length;++a)i[""+a]=e[a];e=i,ZU("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}mu("Reference.update",this._delegate._path),(0,U.Wj)("Reference.update","onComplete",n,!0);const r=Y6(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,U.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,U.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function K6(t,e,n){if(mu("setWithPriority",t._path),Fd("setWithPriority",e,t._path,!1),rP("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new U.BH;return sP(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,n);return r&&i.then(()=>r(null),a=>r(a)),i}remove(e){(0,U.Dv)("Reference.remove",0,1,arguments.length),(0,U.Wj)("Reference.remove","onComplete",e,!0);const n=function W6(t){return mu("remove",t._path),hP(t,null)}(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){(0,U.Dv)("Reference.transaction",1,3,arguments.length),(0,U.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,U.Wj)("Reference.transaction","onComplete",n,!0),function(t,e,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,U.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function PG(t,e,n){var r;if(t=(0,U.m9)(t),mu("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=null===(r=n?.applyLocally)||void 0===r||r,a=new U.BH,f=fP(t,()=>{});return function V6(t,e,n,r,i,a){Qw(t,"transaction on "+e);const u={path:e,update:n,onComplete:r,status:null,order:zL(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},f=aP(t,e,void 0);u.currentInputSnapshot=f;const _=u.update(f.val());if(void 0===_)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{tC("transaction failed: Data returned ",_,u.path),u.status=0;const v=QA(t.transactionQueueTree_,e),S=x_(v)||[];let M;S.push(u),eP(v,S),"object"==typeof _&&null!==_&&(0,U.r3)(_,".priority")?(M=(0,U.DV)(_,".priority"),(0,U.hu)(eC(M),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):M=(KA(t.serverSyncTree_,e)||sn.EMPTY_NODE).getPriority().val();const L=iC(t),H=ii(_,M),Q=Qk(H,f,L);u.currentOutputSnapshotRaw=H,u.currentOutputSnapshotResolved=Q,u.currentWriteId=tx(t);const _e=Gk(t.serverSyncTree_,e,Q,u.currentWriteId,u.applyLocally);wl(t.eventQueue_,e,_e),nx(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(_,v,S)=>{let M=null;_?a.reject(_):(M=new M_(S,new _u(t._repo,t._path),Er),a.resolve(new kG(v,M)))},f,i),a.promise}(this._delegate,e,{applyLocally:r}).then(a=>new jG(a.committed,new _g(this.database,a.snapshot)));return n&&i.then(a=>n(null,a.committed,a.snapshot),a=>n(a,!1,null)),i}setPriority(e,n){(0,U.Dv)("Reference.setPriority",1,2,arguments.length),(0,U.Wj)("Reference.setPriority","onComplete",n,!0);const r=function Z6(t,e){t=(0,U.m9)(t),mu("setPriority",t._path),rP("setPriority",e,!1);const n=new U.BH;return sP(t._repo,zr(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){(0,U.Dv)("Reference.push",0,2,arguments.length),(0,U.Wj)("Reference.push","onComplete",n,!0);const r=function q6(t,e){t=(0,U.m9)(t),mu("push",t._path),Fd("push",e,t._path,!0);const n=IU(t._repo),r=z6(n),i=R_(t,r),a=R_(t,r);let u;return u=null!=e?hP(a,e).then(()=>a):Promise.resolve(a),i.then=u.then.bind(u),i.catch=u.then.bind(u,void 0),i}(this._delegate,e),i=r.then(u=>new bl(this.database,u));n&&i.then(()=>n(null),u=>n(u));const a=new bl(this.database,r);return a.then=i.then.bind(i),a.catch=i.catch.bind(i,void 0),a}onDisconnect(){return mu("Reference.onDisconnect",this._delegate._path),new BG(new PU(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class aC{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:CG,forceLongPolling:DG}}useEmulator(e,n,r={}){!function WU(t,e,n,r={}){(t=(0,U.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Pd("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let a;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Pd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new UI(UI.OWNER);else if(r.mockUserToken){const u="string"==typeof r.mockUserToken?r.mockUserToken:(0,U.Sg)(r.mockUserToken,t.app.options.projectId);a=new UI(u)}!function vG(t,e,n,r){t.repoInfo_=new hk(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,a)}(this._delegate,e,n,r)}ref(e){if((0,U.Dv)("database.ref",0,1,arguments.length),e instanceof bl){const n=LU(this._delegate,e.toString());return new bl(this,n)}{const n=OU(this._delegate,e);return new bl(this,n)}}refFromURL(e){(0,U.Dv)("database.refFromURL",1,1,arguments.length);const r=LU(this._delegate,e);return new bl(this,r)}goOffline(){return(0,U.Dv)("database.goOffline",0,0,arguments.length),function TG(t){(t=(0,U.m9)(t))._checkNotDeleted("goOffline"),SU(t._repo)}(this._delegate)}goOnline(){return(0,U.Dv)("database.goOnline",0,0,arguments.length),function SG(t){(t=(0,U.m9)(t))._checkNotDeleted("goOnline"),function U6(t){t.persistentConnection_&&t.persistentConnection_.resume(EU)}(t._repo)}(this._delegate)}}aC.ServerValue={TIMESTAMP:function RG(){return MG}(),increment:t=>function NG(t){return{".sv":{increment:t}}}(t)};var $G=Object.freeze({__proto__:null,initStandalone:function HG({app:t,url:e,version:n,customAuthImpl:r,namespace:i,nodeAdmin:a=!1}){$L(n);const u=new Sa.zt("auth-internal",new Sa.H0("database-standalone"));return u.setComponent(new Sa.wA("auth-internal",()=>r,"PRIVATE")),{instance:new aC(zU(t,u,void 0,e,a),t),namespace:i}}});const GG=aC.ServerValue;function KU(t){return null==t}function YU(t){return"function"==typeof t.set}function QU(t,e){return YU(e)?e:t.ref(e)}function JU(t,e){if(function qG(t){return"string"==typeof t}(t))return e.stringCase();if(YU(t))return e.firebaseCase();if(function WG(t){return"function"==typeof t.exportVal}(t))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function lC(t,e,n="on",r=Wy.z){return new ms.y(i=>{let a=null;return a=t[n](e,(u,f)=>{r.schedule(()=>{i.next({snapshot:u,prevKey:f})}),"once"===n&&r.schedule(()=>i.complete())},u=>{r.schedule(()=>i.error(u))}),"on"===n?{unsubscribe(){null!=a&&t.off(e,a)}}:{unsubscribe(){}}}).pipe((0,kt.U)(i=>{const{snapshot:a,prevKey:u}=i;let f=null;return a.exists()&&(f=a.key),{type:e,payload:a,prevKey:u,key:f}}),(0,w2.B)())}function XU(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function YG(t,e){const{payload:n,prevKey:r,key:i}=e,a=XU(t,i),u=function KG(t,e){if(KU(e))return 0;{const n=XU(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let f=null;e.payload.forEach(_=>{const v={payload:_,type:"value",prevKey:f,key:_.key};return f=_.key,t=[...t,v],!1})}return t;case"child_added":if(a>-1){const f=t[a-1];(f&&f.key||null)!==r&&(t=t.filter(_=>_.payload.key!==n.key)).splice(u,0,e)}else{if(null==r)return[e,...t];(t=t.slice()).splice(u,0,e)}return t;case"child_removed":return t.filter(f=>f.payload.key!==n.key);case"child_changed":return t.map(f=>f.payload.key===i?e:f);case"child_moved":if(a>-1){const f=t.splice(a,1)[0];return(t=t.slice()).splice(u,0,f),t}return t;default:return t}}function eV(t){return(KU(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function tV(t,e,n){return function ZG(t,e,n){return lC(t,"value","once",n).pipe((0,ti.w)(r=>{const i=[(0,Pt.of)(r)];return e.forEach(a=>i.push(lC(t,a,"on",n))),(0,gN.T)(...i).pipe(Jc(YG,[]))}),(0,yD.x)())}(t,e=eV(e),n)}function nV(t,e,n){const r=(e=eV(e)).map(i=>lC(t,i,"on",n));return(0,gN.T)(...r)}function rV(t,e){return function(r,i){return JU(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function ez(t){return function(n){return n?JU(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function iV(t,e){return function(){return lC(t,"value","on",e)}}!function zG(t){t.INTERNAL.registerComponent(new Sa.wA("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new aC(i,r)},"PUBLIC").setServiceProps({Reference:bl,Query:Js,Database:aC,DataSnapshot:_g,enableLogging:AG,INTERNAL:$G,ServerValue:GG}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","0.3.4")}(Hh.Z);const rz=new d.OlP("angularfire2.realtimeDatabaseURL"),iz=new d.OlP("angularfire2.database.use-emulator");let sz=(()=>{class t{constructor(n,r,i,a,u,f,_,v,S,M,L,H,Q,_e,Te){this.schedulers=f;const nt=_,_t=(0,mi.on)(n,u,r);v&&zN(_t,u,S,L,H,Q,M,_e),this.database=(0,mi.cc)(`${_t.name}.database.${i}`,"AngularFireDatabase",_t.name,()=>{const ot=u.runOutsideAngular(()=>_t.database(i||void 0));return nt&&ot.useEmulator(...nt),ot},[nt])}list(n,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>QU(this.database,n));let a=i;return r&&(a=r(i)),function tz(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:rV(r,"update"),set:rV(r,"set"),push:i=>r.push(i),remove:ez(r),snapshotChanges:i=>tV(t,i,n).pipe(Cn.iC),stateChanges:i=>nV(t,i,n).pipe(Cn.iC),auditTrail:i=>function QG(t,e,n){return function XG(t,e,n){return function JG(t,e){return lC(t,"value","on",e).pipe((0,kt.U)(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}(t,n).pipe(function Y$(...t){const e=(0,Vo.jO)(t);return(0,is.e)((n,r)=>{const i=t.length,a=new Array(i);let u=t.map(()=>!1),f=!1;for(let _=0;_<i;_++)(0,Uo.Xf)(t[_]).subscribe((0,vr.x)(r,v=>{a[_]=v,!f&&!u[_]&&(u[_]=!0,(f=u.every(Ku.y))&&(u=null))},IC.Z));n.subscribe((0,vr.x)(r,_=>{if(f){const v=[_,...a];r.next(e?e(...v):v)}}))})}(e),(0,kt.U)(([i,a])=>{const u=i.lastKeyToLoad,f=a.map(_=>_.key);return{actions:a,lastKeyToLoad:u,loadedKeys:f}}),function Q$(t){return(0,is.e)((e,n)=>{let r=!1,i=0;e.subscribe((0,vr.x)(n,a=>(r||(r=!t(a,i++)))&&n.next(a)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,kt.U)(i=>i.actions))}(t,nV(t,e).pipe(Jc((i,a)=>[...i,a],[])),n)}(t,i,n).pipe(Cn.iC),valueChanges:(i,a)=>tV(t,i,n).pipe((0,kt.U)(f=>f.map(_=>a&&a.idField?Object.assign(Object.assign({},_.payload.val()),{[a.idField]:_.key}):_.payload.val())),Cn.iC)}}(a,this)}object(n){return function nz(t,e){return{query:t,snapshotChanges:()=>iV(t,e.schedulers.outsideAngular)().pipe(Cn.iC),update:n=>t.ref.update(n),set:n=>t.ref.set(n),remove:()=>t.ref.remove(),valueChanges:()=>iV(t,e.schedulers.outsideAngular)().pipe(Cn.iC,(0,kt.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>QU(this.database,n)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(n){return new(n||t)(d.LFG(mi.Dh),d.LFG(mi.xv,8),d.LFG(rz,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Cn.HU),d.LFG(iz,8),d.LFG(xI,8),d.LFG(VN,8),d.LFG(BN,8),d.LFG(jN,8),d.LFG(HN,8),d.LFG($N,8),d.LFG(GN,8),d.LFG(AI,8))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),oz=(()=>{class t{constructor(){_A.Z.registerVersion("angularfire",Cn.q4.full,"rtdb-compat")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[sz]}),t})();const az_firebase={projectId:"bluecode-caae6",appId:"1:180699883223:web:61040a086fb05e54677292",storageBucket:"bluecode-caae6.appspot.com",apiKey:"AIzaSyCZzgjbYnQnErT7msi3AD62YAYghYFJokk",authDomain:"bluecode-caae6.firebaseapp.com",messagingSenderId:"180699883223"};let lz=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=d.oAB({type:t,bootstrap:[sH]}),t.\u0275inj=d.cJS({imports:[Yd,$3,al,Pg,mi.hO.initializeApp(az_firebase),l3,m3,K$,oz]}),e})();rr().bootstrapModule(lz).catch(t=>console.error(t))},5619:(Et,Me,F)=>{"use strict";F.d(Me,{X:()=>ne});var d=F(8645);class ne extends d.x{constructor(oe){super(),this._value=oe}get value(){return this.getValue()}_subscribe(oe){const ue=super._subscribe(oe);return!ue.closed&&oe.next(this._value),ue}getValue(){const{hasError:oe,thrownError:ue,_value:ve}=this;if(oe)throw ue;return this._throwIfClosed(),ve}next(oe){super.next(this._value=oe)}}},5592:(Et,Me,F)=>{"use strict";F.d(Me,{y:()=>Be});var d=F(305),ne=F(7394),B=F(4850),oe=F(8407),ue=F(2653),ve=F(4674),re=F(1441);let Be=(()=>{class V{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const Xe=new V;return Xe.source=this,Xe.operator=Pe,Xe}subscribe(Pe,Xe,Ue){const qe=function K(V){return V&&V instanceof d.Lv||function z(V){return V&&(0,ve.m)(V.next)&&(0,ve.m)(V.error)&&(0,ve.m)(V.complete)}(V)&&(0,ne.Nn)(V)}(Pe)?Pe:new d.Hp(Pe,Xe,Ue);return(0,re.x)(()=>{const{operator:Ve,source:Tt}=this;qe.add(Ve?Ve.call(qe,Tt):Tt?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(Xe){Pe.error(Xe)}}forEach(Pe,Xe){return new(Xe=ye(Xe))((Ue,qe)=>{const Ve=new d.Hp({next:Tt=>{try{Pe(Tt)}catch(Dt){qe(Dt),Ve.unsubscribe()}},error:qe,complete:Ue});this.subscribe(Ve)})}_subscribe(Pe){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(Pe)}[B.L](){return this}pipe(...Pe){return(0,oe.U)(Pe)(this)}toPromise(Pe){return new(Pe=ye(Pe))((Xe,Ue)=>{let qe;this.subscribe(Ve=>qe=Ve,Ve=>Ue(Ve),()=>Xe(qe))})}}return V.create=Ge=>new V(Ge),V})();function ye(V){var Ge;return null!==(Ge=V??ue.config.Promise)&&void 0!==Ge?Ge:Promise}},8645:(Et,Me,F)=>{"use strict";F.d(Me,{x:()=>re});var d=F(5592),ne=F(7394);const oe=(0,F(2306).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=F(9039),ve=F(1441);let re=(()=>{class ye extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(K){const V=new Be(this,this);return V.operator=K,V}_throwIfClosed(){if(this.closed)throw new oe}next(K){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const V of this.currentObservers)V.next(K)}})}error(K){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=K;const{observers:V}=this;for(;V.length;)V.shift().error(K)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:K}=this;for(;K.length;)K.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var K;return(null===(K=this.observers)||void 0===K?void 0:K.length)>0}_trySubscribe(K){return this._throwIfClosed(),super._trySubscribe(K)}_subscribe(K){return this._throwIfClosed(),this._checkFinalizedStatuses(K),this._innerSubscribe(K)}_innerSubscribe(K){const{hasError:V,isStopped:Ge,observers:Pe}=this;return V||Ge?ne.Lc:(this.currentObservers=null,Pe.push(K),new ne.w0(()=>{this.currentObservers=null,(0,ue.P)(Pe,K)}))}_checkFinalizedStatuses(K){const{hasError:V,thrownError:Ge,isStopped:Pe}=this;V?K.error(Ge):Pe&&K.complete()}asObservable(){const K=new d.y;return K.source=this,K}}return ye.create=(z,K)=>new Be(z,K),ye})();class Be extends re{constructor(z,K){super(),this.destination=z,this.source=K}next(z){var K,V;null===(V=null===(K=this.destination)||void 0===K?void 0:K.next)||void 0===V||V.call(K,z)}error(z){var K,V;null===(V=null===(K=this.destination)||void 0===K?void 0:K.error)||void 0===V||V.call(K,z)}complete(){var z,K;null===(K=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===K||K.call(z)}_subscribe(z){var K,V;return null!==(V=null===(K=this.source)||void 0===K?void 0:K.subscribe(z))&&void 0!==V?V:ne.Lc}}},305:(Et,Me,F)=>{"use strict";F.d(Me,{Hp:()=>Ue,Lv:()=>V});var d=F(4674),ne=F(7394),B=F(2653),oe=F(3894),ue=F(2420);const ve=ye("C",void 0,void 0);function ye(le,Ce,se){return{kind:le,value:Ce,error:se}}var z=F(7599),K=F(1441);class V extends ne.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,ne.Nn)(Ce)&&Ce.add(this)):this.destination=Dt}static create(Ce,se,Re){return new Ue(Ce,se,Re)}next(Ce){this.isStopped?Tt(function Be(le){return ye("N",le,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?Tt(function re(le){return ye("E",void 0,le)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?Tt(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Pe(le,Ce){return Ge.call(le,Ce)}class Xe{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:se}=this;if(se.next)try{se.next(Ce)}catch(Re){qe(Re)}}error(Ce){const{partialObserver:se}=this;if(se.error)try{se.error(Ce)}catch(Re){qe(Re)}else qe(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(se){qe(se)}}}class Ue extends V{constructor(Ce,se,Re){let je;if(super(),(0,d.m)(Ce)||!Ce)je={next:Ce??void 0,error:se??void 0,complete:Re??void 0};else{let We;this&&B.config.useDeprecatedNextContext?(We=Object.create(Ce),We.unsubscribe=()=>this.unsubscribe(),je={next:Ce.next&&Pe(Ce.next,We),error:Ce.error&&Pe(Ce.error,We),complete:Ce.complete&&Pe(Ce.complete,We)}):je=Ce}this.destination=new Xe(je)}}function qe(le){B.config.useDeprecatedSynchronousErrorHandling?(0,K.O)(le):(0,oe.h)(le)}function Tt(le,Ce){const{onStoppedNotification:se}=B.config;se&&z.z.setTimeout(()=>se(le,Ce))}const Dt={closed:!0,next:ue.Z,error:function Ve(le){throw le},complete:ue.Z}},7394:(Et,Me,F)=>{"use strict";F.d(Me,{Lc:()=>ve,w0:()=>ue,Nn:()=>re});var d=F(4674);const B=(0,F(2306).d)(ye=>function(K){ye(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((V,Ge)=>`${Ge+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K});var oe=F(9039);class ue{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:K}=this;if(K)if(this._parentage=null,Array.isArray(K))for(const Pe of K)Pe.remove(this);else K.remove(this);const{initialTeardown:V}=this;if((0,d.m)(V))try{V()}catch(Pe){z=Pe instanceof B?Pe.errors:[Pe]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Pe of Ge)try{Be(Pe)}catch(Xe){z=z??[],Xe instanceof B?z=[...z,...Xe.errors]:z.push(Xe)}}if(z)throw new B(z)}}add(z){var K;if(z&&z!==this)if(this.closed)Be(z);else{if(z instanceof ue){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(K=this._finalizers)&&void 0!==K?K:[]).push(z)}}_hasParent(z){const{_parentage:K}=this;return K===z||Array.isArray(K)&&K.includes(z)}_addParent(z){const{_parentage:K}=this;this._parentage=Array.isArray(K)?(K.push(z),K):K?[K,z]:z}_removeParent(z){const{_parentage:K}=this;K===z?this._parentage=null:Array.isArray(K)&&(0,oe.P)(K,z)}remove(z){const{_finalizers:K}=this;K&&(0,oe.P)(K,z),z instanceof ue&&z._removeParent(this)}}ue.EMPTY=(()=>{const ye=new ue;return ye.closed=!0,ye})();const ve=ue.EMPTY;function re(ye){return ye instanceof ue||ye&&"closed"in ye&&(0,d.m)(ye.remove)&&(0,d.m)(ye.add)&&(0,d.m)(ye.unsubscribe)}function Be(ye){(0,d.m)(ye)?ye():ye.unsubscribe()}},2653:(Et,Me,F)=>{"use strict";F.d(Me,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Et,Me,F)=>{"use strict";F.d(Me,{E:()=>ne});const ne=new(F(5592).y)(ue=>ue.complete())},2459:(Et,Me,F)=>{"use strict";F.d(Me,{D:()=>Ce});var d=F(4829),ne=F(3093),B=F(5137),ve=F(5592),Be=F(4971),ye=F(4674),z=F(7103);function V(se,Re){if(!se)throw new Error("Iterable cannot be null");return new ve.y(je=>{(0,z.f)(je,Re,()=>{const We=se[Symbol.asyncIterator]();(0,z.f)(je,Re,()=>{We.next().then(he=>{he.done?je.complete():je.next(he.value)})},0,!0)})})}var Ge=F(8382),Pe=F(4026),Xe=F(4266),Ue=F(3664),qe=F(5726),Ve=F(9853),Tt=F(541);function Ce(se,Re){return Re?function le(se,Re){if(null!=se){if((0,Ge.c)(se))return function oe(se,Re){return(0,d.Xf)(se).pipe((0,B.R)(Re),(0,ne.Q)(Re))}(se,Re);if((0,Xe.z)(se))return function re(se,Re){return new ve.y(je=>{let We=0;return Re.schedule(function(){We===se.length?je.complete():(je.next(se[We++]),je.closed||this.schedule())})})}(se,Re);if((0,Pe.t)(se))return function ue(se,Re){return(0,d.Xf)(se).pipe((0,B.R)(Re),(0,ne.Q)(Re))}(se,Re);if((0,qe.D)(se))return V(se,Re);if((0,Ue.T)(se))return function K(se,Re){return new ve.y(je=>{let We;return(0,z.f)(je,Re,()=>{We=se[Be.h](),(0,z.f)(je,Re,()=>{let he,pt;try{({value:he,done:pt}=We.next())}catch(dt){return void je.error(dt)}pt?je.complete():je.next(he)},0,!0)}),()=>(0,ye.m)(We?.return)&&We.return()})}(se,Re);if((0,Tt.L)(se))return function Dt(se,Re){return V((0,Tt.Q)(se),Re)}(se,Re)}throw(0,Ve.z)(se)}(se,Re):(0,d.Xf)(se)}},4829:(Et,Me,F)=>{"use strict";F.d(Me,{Xf:()=>Ge});var d=F(7582),ne=F(4266),B=F(4026),oe=F(5592),ue=F(8382),ve=F(5726),re=F(9853),Be=F(3664),ye=F(541),z=F(4674),K=F(3894),V=F(4850);function Ge(le){if(le instanceof oe.y)return le;if(null!=le){if((0,ue.c)(le))return function Pe(le){return new oe.y(Ce=>{const se=le[V.L]();if((0,z.m)(se.subscribe))return se.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(le);if((0,ne.z)(le))return function Xe(le){return new oe.y(Ce=>{for(let se=0;se<le.length&&!Ce.closed;se++)Ce.next(le[se]);Ce.complete()})}(le);if((0,B.t)(le))return function Ue(le){return new oe.y(Ce=>{le.then(se=>{Ce.closed||(Ce.next(se),Ce.complete())},se=>Ce.error(se)).then(null,K.h)})}(le);if((0,ve.D)(le))return Ve(le);if((0,Be.T)(le))return function qe(le){return new oe.y(Ce=>{for(const se of le)if(Ce.next(se),Ce.closed)return;Ce.complete()})}(le);if((0,ye.L)(le))return function Tt(le){return Ve((0,ye.Q)(le))}(le)}throw(0,re.z)(le)}function Ve(le){return new oe.y(Ce=>{(function Dt(le,Ce){var se,Re,je,We;return(0,d.mG)(this,void 0,void 0,function*(){try{for(se=(0,d.KL)(le);!(Re=yield se.next()).done;)if(Ce.next(Re.value),Ce.closed)return}catch(he){je={error:he}}finally{try{Re&&!Re.done&&(We=se.return)&&(yield We.call(se))}finally{if(je)throw je.error}}Ce.complete()})})(le,Ce).catch(se=>Ce.error(se))})}},3019:(Et,Me,F)=>{"use strict";F.d(Me,{T:()=>ve});var d=F(7537),ne=F(4829),B=F(6232),oe=F(4564),ue=F(2459);function ve(...re){const Be=(0,oe.yG)(re),ye=(0,oe._6)(re,1/0),z=re;return z.length?1===z.length?(0,ne.Xf)(z[0]):(0,d.J)(ye)((0,ue.D)(z,Be)):B.E}},2096:(Et,Me,F)=>{"use strict";F.d(Me,{of:()=>B});var d=F(4564),ne=F(2459);function B(...oe){const ue=(0,d.yG)(oe);return(0,ne.D)(oe,ue)}},8251:(Et,Me,F)=>{"use strict";F.d(Me,{x:()=>ne});var d=F(305);function ne(oe,ue,ve,re,Be){return new B(oe,ue,ve,re,Be)}class B extends d.Lv{constructor(ue,ve,re,Be,ye,z){super(ue),this.onFinalize=ye,this.shouldUnsubscribe=z,this._next=ve?function(K){try{ve(K)}catch(V){ue.error(V)}}:super._next,this._error=Be?function(K){try{Be(K)}catch(V){ue.error(V)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(K){ue.error(K)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},3997:(Et,Me,F)=>{"use strict";F.d(Me,{x:()=>oe});var d=F(2737),ne=F(9360),B=F(8251);function oe(ve,re=d.y){return ve=ve??ue,(0,ne.e)((Be,ye)=>{let z,K=!0;Be.subscribe((0,B.x)(ye,V=>{const Ge=re(V);(K||!ve(z,Ge))&&(K=!1,z=Ge,ye.next(V))}))})}function ue(ve,re){return ve===re}},7398:(Et,Me,F)=>{"use strict";F.d(Me,{U:()=>B});var d=F(9360),ne=F(8251);function B(oe,ue){return(0,d.e)((ve,re)=>{let Be=0;ve.subscribe((0,ne.x)(re,ye=>{re.next(oe.call(ue,ye,Be++))}))})}},7537:(Et,Me,F)=>{"use strict";F.d(Me,{J:()=>B});var d=F(1631),ne=F(2737);function B(oe=1/0){return(0,d.z)(ne.y,oe)}},1631:(Et,Me,F)=>{"use strict";F.d(Me,{z:()=>Be});var d=F(7398),ne=F(4829),B=F(9360),oe=F(7103),ue=F(8251),re=F(4674);function Be(ye,z,K=1/0){return(0,re.m)(z)?Be((V,Ge)=>(0,d.U)((Pe,Xe)=>z(V,Pe,Ge,Xe))((0,ne.Xf)(ye(V,Ge))),K):("number"==typeof z&&(K=z),(0,B.e)((V,Ge)=>function ve(ye,z,K,V,Ge,Pe,Xe,Ue){const qe=[];let Ve=0,Tt=0,Dt=!1;const le=()=>{Dt&&!qe.length&&!Ve&&z.complete()},Ce=Re=>Ve<V?se(Re):qe.push(Re),se=Re=>{Pe&&z.next(Re),Ve++;let je=!1;(0,ne.Xf)(K(Re,Tt++)).subscribe((0,ue.x)(z,We=>{Ge?.(We),Pe?Ce(We):z.next(We)},()=>{je=!0},void 0,()=>{if(je)try{for(Ve--;qe.length&&Ve<V;){const We=qe.shift();Xe?(0,oe.f)(z,Xe,()=>se(We)):se(We)}le()}catch(We){z.error(We)}}))};return ye.subscribe((0,ue.x)(z,Ce,()=>{Dt=!0,le()})),()=>{Ue?.()}}(V,Ge,ye,K)))}},3093:(Et,Me,F)=>{"use strict";F.d(Me,{Q:()=>oe});var d=F(7103),ne=F(9360),B=F(8251);function oe(ue,ve=0){return(0,ne.e)((re,Be)=>{re.subscribe((0,B.x)(Be,ye=>(0,d.f)(Be,ue,()=>Be.next(ye),ve),()=>(0,d.f)(Be,ue,()=>Be.complete(),ve),ye=>(0,d.f)(Be,ue,()=>Be.error(ye),ve)))})}},3020:(Et,Me,F)=>{"use strict";F.d(Me,{B:()=>ue});var d=F(4829),ne=F(8645),B=F(305),oe=F(9360);function ue(re={}){const{connector:Be=(()=>new ne.x),resetOnError:ye=!0,resetOnComplete:z=!0,resetOnRefCountZero:K=!0}=re;return V=>{let Ge,Pe,Xe,Ue=0,qe=!1,Ve=!1;const Tt=()=>{Pe?.unsubscribe(),Pe=void 0},Dt=()=>{Tt(),Ge=Xe=void 0,qe=Ve=!1},le=()=>{const Ce=Ge;Dt(),Ce?.unsubscribe()};return(0,oe.e)((Ce,se)=>{Ue++,!Ve&&!qe&&Tt();const Re=Xe=Xe??Be();se.add(()=>{Ue--,0===Ue&&!Ve&&!qe&&(Pe=ve(le,K))}),Re.subscribe(se),!Ge&&Ue>0&&(Ge=new B.Hp({next:je=>Re.next(je),error:je=>{Ve=!0,Tt(),Pe=ve(Dt,ye,je),Re.error(je)},complete:()=>{qe=!0,Tt(),Pe=ve(Dt,z),Re.complete()}}),(0,d.Xf)(Ce).subscribe(Ge))})(V)}}function ve(re,Be,...ye){if(!0===Be)return void re();if(!1===Be)return;const z=new B.Hp({next:()=>{z.unsubscribe(),re()}});return(0,d.Xf)(Be(...ye)).subscribe(z)}},5137:(Et,Me,F)=>{"use strict";F.d(Me,{R:()=>ne});var d=F(9360);function ne(B,oe=0){return(0,d.e)((ue,ve)=>{ve.add(B.schedule(()=>ue.subscribe(ve),oe))})}},4664:(Et,Me,F)=>{"use strict";F.d(Me,{w:()=>oe});var d=F(4829),ne=F(9360),B=F(8251);function oe(ue,ve){return(0,ne.e)((re,Be)=>{let ye=null,z=0,K=!1;const V=()=>K&&!ye&&Be.complete();re.subscribe((0,B.x)(Be,Ge=>{ye?.unsubscribe();let Pe=0;const Xe=z++;(0,d.Xf)(ue(Ge,Xe)).subscribe(ye=(0,B.x)(Be,Ue=>Be.next(ve?ve(Ge,Ue,Xe,Pe++):Ue),()=>{ye=null,V()}))},()=>{K=!0,V()}))})}},9397:(Et,Me,F)=>{"use strict";F.d(Me,{b:()=>ue});var d=F(4674),ne=F(9360),B=F(8251),oe=F(2737);function ue(ve,re,Be){const ye=(0,d.m)(ve)||re||Be?{next:ve,error:re,complete:Be}:ve;return ye?(0,ne.e)((z,K)=>{var V;null===(V=ye.subscribe)||void 0===V||V.call(ye);let Ge=!0;z.subscribe((0,B.x)(K,Pe=>{var Xe;null===(Xe=ye.next)||void 0===Xe||Xe.call(ye,Pe),K.next(Pe)},()=>{var Pe;Ge=!1,null===(Pe=ye.complete)||void 0===Pe||Pe.call(ye),K.complete()},Pe=>{var Xe;Ge=!1,null===(Xe=ye.error)||void 0===Xe||Xe.call(ye,Pe),K.error(Pe)},()=>{var Pe,Xe;Ge&&(null===(Pe=ye.unsubscribe)||void 0===Pe||Pe.call(ye)),null===(Xe=ye.finalize)||void 0===Xe||Xe.call(ye)}))}):oe.y}},1954:(Et,Me,F)=>{"use strict";F.d(Me,{o:()=>ue});var d=F(7394);class ne extends d.w0{constructor(re,Be){super()}schedule(re,Be=0){return this}}const B={setInterval(ve,re,...Be){const{delegate:ye}=B;return ye?.setInterval?ye.setInterval(ve,re,...Be):setInterval(ve,re,...Be)},clearInterval(ve){const{delegate:re}=B;return(re?.clearInterval||clearInterval)(ve)},delegate:void 0};var oe=F(9039);class ue extends ne{constructor(re,Be){super(re,Be),this.scheduler=re,this.work=Be,this.pending=!1}schedule(re,Be=0){var ye;if(this.closed)return this;this.state=re;const z=this.id,K=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(K,z,Be)),this.pending=!0,this.delay=Be,this.id=null!==(ye=this.id)&&void 0!==ye?ye:this.requestAsyncId(K,this.id,Be),this}requestAsyncId(re,Be,ye=0){return B.setInterval(re.flush.bind(re,this),ye)}recycleAsyncId(re,Be,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return Be;null!=Be&&B.clearInterval(Be)}execute(re,Be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(re,Be);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,Be){let z,ye=!1;try{this.work(re)}catch(K){ye=!0,z=K||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:re,scheduler:Be}=this,{actions:ye}=Be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(ye,this),null!=re&&(this.id=this.recycleAsyncId(Be,re,null)),this.delay=null,super.unsubscribe()}}}},2631:(Et,Me,F)=>{"use strict";F.d(Me,{v:()=>B});var d=F(4552);class ne{constructor(ue,ve=ne.now){this.schedulerActionCtor=ue,this.now=ve}schedule(ue,ve=0,re){return new this.schedulerActionCtor(this,ue).schedule(re,ve)}}ne.now=d.l.now;class B extends ne{constructor(ue,ve=ne.now){super(ue,ve),this.actions=[],this._active=!1}flush(ue){const{actions:ve}=this;if(this._active)return void ve.push(ue);let re;this._active=!0;do{if(re=ue.execute(ue.state,ue.delay))break}while(ue=ve.shift());if(this._active=!1,re){for(;ue=ve.shift();)ue.unsubscribe();throw re}}}},6321:(Et,Me,F)=>{"use strict";F.d(Me,{z:()=>B});var d=F(1954);const B=new(F(2631).v)(d.o)},4552:(Et,Me,F)=>{"use strict";F.d(Me,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(Et,Me,F)=>{"use strict";F.d(Me,{z:()=>d});const d={setTimeout(ne,B,...oe){const{delegate:ue}=d;return ue?.setTimeout?ue.setTimeout(ne,B,...oe):setTimeout(ne,B,...oe)},clearTimeout(ne){const{delegate:B}=d;return(B?.clearTimeout||clearTimeout)(ne)},delegate:void 0}},4971:(Et,Me,F)=>{"use strict";F.d(Me,{h:()=>ne});const ne=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Et,Me,F)=>{"use strict";F.d(Me,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(Et,Me,F)=>{"use strict";F.d(Me,{_6:()=>ve,jO:()=>oe,yG:()=>ue});var d=F(4674);function B(re){return re[re.length-1]}function oe(re){return(0,d.m)(B(re))?re.pop():void 0}function ue(re){return function ne(re){return re&&(0,d.m)(re.schedule)}(B(re))?re.pop():void 0}function ve(re,Be){return"number"==typeof B(re)?re.pop():Be}},9039:(Et,Me,F)=>{"use strict";function d(ne,B){if(ne){const oe=ne.indexOf(B);0<=oe&&ne.splice(oe,1)}}F.d(Me,{P:()=>d})},2306:(Et,Me,F)=>{"use strict";function d(ne){const oe=ne(ue=>{Error.call(ue),ue.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}F.d(Me,{d:()=>d})},1441:(Et,Me,F)=>{"use strict";F.d(Me,{O:()=>oe,x:()=>B});var d=F(2653);let ne=null;function B(ue){if(d.config.useDeprecatedSynchronousErrorHandling){const ve=!ne;if(ve&&(ne={errorThrown:!1,error:null}),ue(),ve){const{errorThrown:re,error:Be}=ne;if(ne=null,re)throw Be}}else ue()}function oe(ue){d.config.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=ue)}},7103:(Et,Me,F)=>{"use strict";function d(ne,B,oe,ue=0,ve=!1){const re=B.schedule(function(){oe(),ve?ne.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(ne.add(re),!ve)return re}F.d(Me,{f:()=>d})},2737:(Et,Me,F)=>{"use strict";function d(ne){return ne}F.d(Me,{y:()=>d})},4266:(Et,Me,F)=>{"use strict";F.d(Me,{z:()=>d});const d=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},5726:(Et,Me,F)=>{"use strict";F.d(Me,{D:()=>ne});var d=F(4674);function ne(B){return Symbol.asyncIterator&&(0,d.m)(B?.[Symbol.asyncIterator])}},4674:(Et,Me,F)=>{"use strict";function d(ne){return"function"==typeof ne}F.d(Me,{m:()=>d})},8382:(Et,Me,F)=>{"use strict";F.d(Me,{c:()=>B});var d=F(4850),ne=F(4674);function B(oe){return(0,ne.m)(oe[d.L])}},3664:(Et,Me,F)=>{"use strict";F.d(Me,{T:()=>B});var d=F(4971),ne=F(4674);function B(oe){return(0,ne.m)(oe?.[d.h])}},4026:(Et,Me,F)=>{"use strict";F.d(Me,{t:()=>ne});var d=F(4674);function ne(B){return(0,d.m)(B?.then)}},541:(Et,Me,F)=>{"use strict";F.d(Me,{L:()=>oe,Q:()=>B});var d=F(7582),ne=F(4674);function B(ue){return(0,d.FC)(this,arguments,function*(){const re=ue.getReader();try{for(;;){const{value:Be,done:ye}=yield(0,d.qq)(re.read());if(ye)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Be)}}finally{re.releaseLock()}})}function oe(ue){return(0,ne.m)(ue?.getReader)}},9360:(Et,Me,F)=>{"use strict";F.d(Me,{A:()=>ne,e:()=>B});var d=F(4674);function ne(oe){return(0,d.m)(oe?.lift)}function B(oe){return ue=>{if(ne(ue))return ue.lift(function(ve){try{return oe(ve,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(Et,Me,F)=>{"use strict";function d(){}F.d(Me,{Z:()=>d})},8407:(Et,Me,F)=>{"use strict";F.d(Me,{U:()=>B,z:()=>ne});var d=F(2737);function ne(...oe){return B(oe)}function B(oe){return 0===oe.length?d.y:1===oe.length?oe[0]:function(ve){return oe.reduce((re,Be)=>Be(re),ve)}}},3894:(Et,Me,F)=>{"use strict";F.d(Me,{h:()=>B});var d=F(2653),ne=F(7599);function B(oe){ne.z.setTimeout(()=>{const{onUnhandledError:ue}=d.config;if(!ue)throw oe;ue(oe)})}},9853:(Et,Me,F)=>{"use strict";function d(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Me,{z:()=>d})},3519:function(Et){Et.exports=function(){"use strict";function Me(C,T){return function ne(C,T){return T.get?T.get.call(C):T.value}(C,d(C,T,"get"))}function F(C,T,k){return function B(C,T,k){if(T.set)T.set.call(C,k);else{if(!T.writable)throw new TypeError("attempted to set read only private field");T.value=k}}(C,d(C,T,"set"),k),k}function d(C,T,k){if(!T.has(C))throw new TypeError("attempted to "+k+" private field on non-instance");return T.get(C)}function ue(C,T,k){(function oe(C,T){if(T.has(C))throw new TypeError("Cannot initialize the same private elements twice on an object")})(C,T),T.set(C,k)}const re={},ye=C=>new Promise(T=>{if(!C)return T();const k=window.scrollX,G=window.scrollY;re.restoreFocusTimeout=setTimeout(()=>{re.previousActiveElement instanceof HTMLElement?(re.previousActiveElement.focus(),re.previousActiveElement=null):document.body&&document.body.focus(),T()},100),window.scrollTo(k,G)}),z="swal2-",V=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((C,T)=>(C[T]=z+T,C),{}),Pe=["success","warning","info","question","error"].reduce((C,T)=>(C[T]=z+T,C),{}),Xe="SweetAlert2:",Ue=C=>C.charAt(0).toUpperCase()+C.slice(1),qe=C=>{console.warn("".concat(Xe," ").concat("object"==typeof C?C.join(" "):C))},Ve=C=>{console.error("".concat(Xe," ").concat(C))},Tt=[],le=(C,T)=>{(C=>{Tt.includes(C)||(Tt.push(C),qe(C))})('"'.concat(C,'" is deprecated and will be removed in the next major release. Please use "').concat(T,'" instead.'))},Ce=C=>"function"==typeof C?C():C,se=C=>C&&"function"==typeof C.toPromise,Re=C=>se(C)?C.toPromise():Promise.resolve(C),je=C=>C&&Promise.resolve(C)===C,We=()=>document.body.querySelector(".".concat(V.container)),he=C=>{const T=We();return T?T.querySelector(C):null},pt=C=>he(".".concat(C)),dt=()=>pt(V.popup),qn=()=>pt(V.icon),cs=()=>pt(V.title),Hn=()=>pt(V["html-container"]),Xs=()=>pt(V.image),Ki=()=>pt(V["progress-steps"]),pe=()=>pt(V["validation-message"]),fe=()=>he(".".concat(V.actions," .").concat(V.confirm)),De=()=>he(".".concat(V.actions," .").concat(V.cancel)),Ie=()=>he(".".concat(V.actions," .").concat(V.deny)),ke=()=>he(".".concat(V.loader)),st=()=>pt(V.actions),Ye=()=>pt(V.footer),An=()=>pt(V["timer-progress-bar"]),It=()=>pt(V.close),Ut=()=>{const C=dt();if(!C)return[];const T=C.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),k=Array.from(T).sort((yt,ln)=>{const it=parseInt(yt.getAttribute("tabindex")||"0"),Ln=parseInt(ln.getAttribute("tabindex")||"0");return it>Ln?1:it<Ln?-1:0}),G=C.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),be=Array.from(G).filter(yt=>"-1"!==yt.getAttribute("tabindex"));return[...new Set(k.concat(be))].filter(yt=>vn(yt))},Sn=()=>Nn(document.body,V.shown)&&!Nn(document.body,V["toast-shown"])&&!Nn(document.body,V["no-backdrop"]),In=()=>{const C=dt();return!!C&&Nn(C,V.toast)},Wt=(C,T)=>{if(C.textContent="",T){const G=(new DOMParser).parseFromString(T,"text/html"),be=G.querySelector("head");be&&Array.from(be.childNodes).forEach(ln=>{C.appendChild(ln)});const yt=G.querySelector("body");yt&&Array.from(yt.childNodes).forEach(ln=>{ln instanceof HTMLVideoElement||ln instanceof HTMLAudioElement?C.appendChild(ln.cloneNode(!0)):C.appendChild(ln)})}},Nn=(C,T)=>{if(!T)return!1;const k=T.split(/\s+/);for(let G=0;G<k.length;G++)if(!C.classList.contains(k[G]))return!1;return!0},or=(C,T,k)=>{if(((C,T)=>{Array.from(C.classList).forEach(k=>{!Object.values(V).includes(k)&&!Object.values(Pe).includes(k)&&!Object.values(T.showClass||{}).includes(k)&&C.classList.remove(k)})})(C,T),T.customClass&&T.customClass[k]){if("string"!=typeof T.customClass[k]&&!T.customClass[k].forEach)return void qe("Invalid type of customClass.".concat(k,'! Expected string or iterable object, got "').concat(typeof T.customClass[k],'"'));Xt(C,T.customClass[k])}},Pr=(C,T)=>{if(!T)return null;switch(T){case"select":case"textarea":case"file":return C.querySelector(".".concat(V.popup," > .").concat(V[T]));case"checkbox":return C.querySelector(".".concat(V.popup," > .").concat(V.checkbox," input"));case"radio":return C.querySelector(".".concat(V.popup," > .").concat(V.radio," input:checked"))||C.querySelector(".".concat(V.popup," > .").concat(V.radio," input:first-child"));case"range":return C.querySelector(".".concat(V.popup," > .").concat(V.range," input"));default:return C.querySelector(".".concat(V.popup," > .").concat(V.input))}},oi=C=>{if(C.focus(),"file"!==C.type){const T=C.value;C.value="",C.value=T}},Ns=(C,T,k)=>{!C||!T||("string"==typeof T&&(T=T.split(/\s+/).filter(Boolean)),T.forEach(G=>{Array.isArray(C)?C.forEach(be=>{k?be.classList.add(G):be.classList.remove(G)}):k?C.classList.add(G):C.classList.remove(G)}))},Xt=(C,T)=>{Ns(C,T,!0)},gt=(C,T)=>{Ns(C,T,!1)},Vt=(C,T)=>{const k=Array.from(C.children);for(let G=0;G<k.length;G++){const be=k[G];if(be instanceof HTMLElement&&Nn(be,T))return be}},Mt=(C,T,k)=>{k==="".concat(parseInt(k))&&(k=parseInt(k)),k||0===parseInt(k)?C.style[T]="number"==typeof k?"".concat(k,"px"):k:C.style.removeProperty(T)},Gt=function(C){C&&(C.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},Jt=C=>{C&&(C.style.display="none")},qr=(C,T,k,G)=>{const be=C.querySelector(T);be&&(be.style[k]=G)},on=function(C,T){T?Gt(C,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Jt(C)},vn=C=>!(!C||!(C.offsetWidth||C.offsetHeight||C.getClientRects().length)),an=C=>C.scrollHeight>C.clientHeight,Wr=C=>{const T=window.getComputedStyle(C),k=parseFloat(T.getPropertyValue("animation-duration")||"0"),G=parseFloat(T.getPropertyValue("transition-duration")||"0");return k>0||G>0},zt=function(C){let T=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const k=An();k&&vn(k)&&(T&&(k.style.transition="none",k.style.width="100%"),setTimeout(()=>{k.style.transition="width ".concat(C/1e3,"s linear"),k.style.width="0%"},10))},ks=()=>typeof window>"u"||typeof document>"u",eo='\n <div aria-labelledby="'.concat(V.title,'" aria-describedby="').concat(V["html-container"],'" class="').concat(V.popup,'" tabindex="-1">\n   <button type="button" class="').concat(V.close,'"></button>\n   <ul class="').concat(V["progress-steps"],'"></ul>\n   <div class="').concat(V.icon,'"></div>\n   <img class="').concat(V.image,'" />\n   <h2 class="').concat(V.title,'" id="').concat(V.title,'"></h2>\n   <div class="').concat(V["html-container"],'" id="').concat(V["html-container"],'"></div>\n   <input class="').concat(V.input,'" id="').concat(V.input,'" />\n   <input type="file" class="').concat(V.file,'" />\n   <div class="').concat(V.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(V.select,'" id="').concat(V.select,'"></select>\n   <div class="').concat(V.radio,'"></div>\n   <label class="').concat(V.checkbox,'">\n     <input type="checkbox" id="').concat(V.checkbox,'" />\n     <span class="').concat(V.label,'"></span>\n   </label>\n   <textarea class="').concat(V.textarea,'" id="').concat(V.textarea,'"></textarea>\n   <div class="').concat(V["validation-message"],'" id="').concat(V["validation-message"],'"></div>\n   <div class="').concat(V.actions,'">\n     <div class="').concat(V.loader,'"></div>\n     <button type="button" class="').concat(V.confirm,'"></button>\n     <button type="button" class="').concat(V.deny,'"></button>\n     <button type="button" class="').concat(V.cancel,'"></button>\n   </div>\n   <div class="').concat(V.footer,'"></div>\n   <div class="').concat(V["timer-progress-bar-container"],'">\n     <div class="').concat(V["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),ai=()=>{re.currentInstance.resetValidationMessage()},Jn=C=>{const T=(()=>{const C=We();return!!C&&(C.remove(),gt([document.documentElement,document.body],[V["no-backdrop"],V["toast-shown"],V["has-column"]]),!0)})();if(ks())return void Ve("SweetAlert2 requires document to initialize");const k=document.createElement("div");k.className=V.container,T&&Xt(k,V["no-transition"]),Wt(k,eo);const G=(C=>"string"==typeof C?document.querySelector(C):C)(C.target);G.appendChild(k),(C=>{const T=dt();T.setAttribute("role",C.toast?"alert":"dialog"),T.setAttribute("aria-live",C.toast?"polite":"assertive"),C.toast||T.setAttribute("aria-modal","true")})(C),(C=>{"rtl"===window.getComputedStyle(C).direction&&Xt(We(),V.rtl)})(G),(()=>{const C=dt(),T=Vt(C,V.input),k=Vt(C,V.file),G=C.querySelector(".".concat(V.range," input")),be=C.querySelector(".".concat(V.range," output")),yt=Vt(C,V.select),ln=C.querySelector(".".concat(V.checkbox," input")),it=Vt(C,V.textarea);T.oninput=ai,k.onchange=ai,yt.onchange=ai,ln.onchange=ai,it.oninput=ai,G.oninput=()=>{ai(),be.value=G.value},G.onchange=()=>{ai(),be.value=G.value}})()},ui=(C,T)=>{C instanceof HTMLElement?T.appendChild(C):"object"==typeof C?Ni(C,T):C&&Wt(T,C)},Ni=(C,T)=>{C.jquery?W(T,C):Wt(T,C.toString())},W=(C,T)=>{if(C.textContent="",0 in T)for(let k=0;k in T;k++)C.appendChild(T[k].cloneNode(!0));else C.appendChild(T.cloneNode(!0))},q=(()=>{if(ks())return!1;const C=document.createElement("div");return typeof C.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof C.style.animation<"u"&&"animationend"})(),X=(C,T)=>{const k=st(),G=ke();!k||!G||(T.showConfirmButton||T.showDenyButton||T.showCancelButton?Gt(k):Jt(k),or(k,T,"actions"),function xe(C,T,k){const G=fe(),be=Ie(),yt=De();!G||!be||!yt||(et(G,"confirm",k),et(be,"deny",k),et(yt,"cancel",k),function ce(C,T,k,G){G.buttonsStyling?(Xt([C,T,k],V.styled),G.confirmButtonColor&&(C.style.backgroundColor=G.confirmButtonColor,Xt(C,V["default-outline"])),G.denyButtonColor&&(T.style.backgroundColor=G.denyButtonColor,Xt(T,V["default-outline"])),G.cancelButtonColor&&(k.style.backgroundColor=G.cancelButtonColor,Xt(k,V["default-outline"]))):gt([C,T,k],V.styled)}(G,be,yt,k),k.reverseButtons&&(k.toast?(C.insertBefore(yt,G),C.insertBefore(be,G)):(C.insertBefore(yt,T),C.insertBefore(be,T),C.insertBefore(G,T))))}(k,G,T),Wt(G,T.loaderHtml||""),or(G,T,"loader"))};function et(C,T,k){const G=Ue(T);on(C,k["show".concat(G,"Button")],"inline-block"),Wt(C,k["".concat(T,"ButtonText")]||""),C.setAttribute("aria-label",k["".concat(T,"ButtonAriaLabel")]||""),C.className=V[T],or(C,k,"".concat(T,"Button"))}const Nt=(C,T)=>{const k=We();k&&(function _r(C,T){"string"==typeof T?C.style.background=T:T||Xt([document.documentElement,document.body],V["no-backdrop"])}(k,T.backdrop),function jt(C,T){T&&(T in V?Xt(C,V[T]):(qe('The "position" parameter is not valid, defaulting to "center"'),Xt(C,V.center)))}(k,T.position),function $n(C,T){T&&Xt(C,V["grow-".concat(T)])}(k,T.grow),or(k,T,"container"))};var bt={innerParams:new WeakMap,domCache:new WeakMap};const ar=["input","file","range","select","radio","checkbox","textarea"],Ps=C=>{if(!C.input)return;if(!Bt[C.input])return void Ve('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(C.input,'"'));const T=Je(C.input),k=Bt[C.input](T,C);Gt(T),C.inputAutoFocus&&setTimeout(()=>{oi(k)})},ge=(C,T)=>{const k=Pr(dt(),C);if(k){(C=>{for(let T=0;T<C.attributes.length;T++){const k=C.attributes[T].name;["id","type","value","style"].includes(k)||C.removeAttribute(k)}})(k);for(const G in T)k.setAttribute(G,T[G])}},ae=C=>{const T=Je(C.input);"object"==typeof C.customClass&&Xt(T,C.customClass.input)},Le=(C,T)=>{(!C.placeholder||T.inputPlaceholder)&&(C.placeholder=T.inputPlaceholder)},at=(C,T,k)=>{if(k.inputLabel){const G=document.createElement("label"),be=V["input-label"];G.setAttribute("for",C.id),G.className=be,"object"==typeof k.customClass&&Xt(G,k.customClass.inputLabel),G.innerText=k.inputLabel,T.insertAdjacentElement("beforebegin",G)}},Je=C=>Vt(dt(),V[C]||V.input),Lt=(C,T)=>{["string","number"].includes(typeof T)?C.value="".concat(T):je(T)||qe('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof T,'"'))},Bt={};Bt.text=Bt.email=Bt.password=Bt.number=Bt.tel=Bt.url=(C,T)=>(Lt(C,T.inputValue),at(C,C,T),Le(C,T),C.type=T.input,C),Bt.file=(C,T)=>(at(C,C,T),Le(C,T),C),Bt.range=(C,T)=>{const k=C.querySelector("input"),G=C.querySelector("output");return Lt(k,T.inputValue),k.type=T.input,Lt(G,T.inputValue),at(k,C,T),C},Bt.select=(C,T)=>{if(C.textContent="",T.inputPlaceholder){const k=document.createElement("option");Wt(k,T.inputPlaceholder),k.value="",k.disabled=!0,k.selected=!0,C.appendChild(k)}return at(C,C,T),C},Bt.radio=C=>(C.textContent="",C),Bt.checkbox=(C,T)=>{const k=Pr(dt(),"checkbox");k.value="1",k.checked=!!T.inputValue;const G=C.querySelector("span");return Wt(G,T.inputPlaceholder),k},Bt.textarea=(C,T)=>{Lt(C,T.inputValue),Le(C,T),at(C,C,T);return setTimeout(()=>{if("MutationObserver"in window){const G=parseInt(window.getComputedStyle(dt()).width);new MutationObserver(()=>{if(!document.body.contains(C))return;const yt=C.offsetWidth+(G=>parseInt(window.getComputedStyle(G).marginLeft)+parseInt(window.getComputedStyle(G).marginRight))(C);yt>G?dt().style.width="".concat(yt,"px"):Mt(dt(),"width",T.width)}).observe(C,{attributes:!0,attributeFilter:["style"]})}}),C};const Xn=(C,T)=>{const k=Hn();k&&(or(k,T,"htmlContainer"),T.html?(ui(T.html,k),Gt(k,"block")):T.text?(k.textContent=T.text,Gt(k,"block")):Jt(k),((C,T)=>{const k=dt();if(!k)return;const G=bt.innerParams.get(C),be=!G||T.input!==G.input;ar.forEach(yt=>{const ln=Vt(k,V[yt]);ln&&(ge(yt,T.inputAttributes),ln.className=V[yt],be&&Jt(ln))}),T.input&&(be&&Ps(T),ae(T))})(C,T))},Qi=(C,T)=>{for(const[k,G]of Object.entries(Pe))T.icon!==k&&gt(C,G);Xt(C,T.icon&&Pe[T.icon]),ki(C,T),ia(),or(C,T,"icon")},ia=()=>{const C=dt();if(!C)return;const T=window.getComputedStyle(C).getPropertyValue("background-color"),k=C.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let G=0;G<k.length;G++)k[G].style.backgroundColor=T},Il=(C,T)=>{if(!T.icon&&!T.iconHtml)return;let k=C.innerHTML,G="";T.iconHtml?G=to(T.iconHtml):"success"===T.icon?(G='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',k=k.replace(/ style=".*?"/g,"")):"error"===T.icon?G='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':T.icon&&(G=to({question:"?",warning:"!",info:"i"}[T.icon])),k.trim()!==G.trim()&&Wt(C,G)},ki=(C,T)=>{if(T.iconColor){C.style.color=T.iconColor,C.style.borderColor=T.iconColor;for(const k of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])qr(C,k,"backgroundColor",T.iconColor);qr(C,".swal2-success-ring","borderColor",T.iconColor)}},to=C=>'<div class="'.concat(V["icon-content"],'">').concat(C,"</div>"),tr=(C,T)=>{const k=T.showClass||{};C.className="".concat(V.popup," ").concat(vn(C)?k.popup:""),T.toast?(Xt([document.documentElement,document.body],V["toast-shown"]),Xt(C,V.toast)):Xt(C,V.modal),or(C,T,"popup"),"string"==typeof T.customClass&&Xt(C,T.customClass),T.icon&&Xt(C,V["icon-".concat(T.icon)])},Cf=C=>{const T=document.createElement("li");return Xt(T,V["progress-step"]),Wt(T,C),T},Ud=C=>{const T=document.createElement("li");return Xt(T,V["progress-step-line"]),C.progressStepsDistance&&Mt(T,"width",C.progressStepsDistance),T},Do=(C,T)=>{((C,T)=>{const k=We(),G=dt();if(k&&G){if(T.toast){Mt(k,"width",T.width),G.style.width="100%";const be=ke();be&&G.insertBefore(be,qn())}else Mt(G,"width",T.width);Mt(G,"padding",T.padding),T.color&&(G.style.color=T.color),T.background&&(G.style.background=T.background),Jt(pe()),tr(G,T)}})(0,T),Nt(0,T),((C,T)=>{const k=Ki();if(!k)return;const{progressSteps:G,currentProgressStep:be}=T;G&&0!==G.length&&void 0!==be?(Gt(k),k.textContent="",be>=G.length&&qe("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),G.forEach((yt,ln)=>{const it=Cf(yt);if(k.appendChild(it),ln===be&&Xt(it,V["active-progress-step"]),ln!==G.length-1){const Ln=Ud(T);k.appendChild(Ln)}})):Jt(k)})(0,T),((C,T)=>{const k=bt.innerParams.get(C),G=qn();if(G){if(k&&T.icon===k.icon)return Il(G,T),void Qi(G,T);if(!T.icon&&!T.iconHtml)return void Jt(G);if(T.icon&&-1===Object.keys(Pe).indexOf(T.icon))return Ve('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(T.icon,'"')),void Jt(G);Gt(G),Il(G,T),Qi(G,T),Xt(G,T.showClass&&T.showClass.icon)}})(C,T),((C,T)=>{const k=Xs();if(k){if(!T.imageUrl)return void Jt(k);Gt(k,""),k.setAttribute("src",T.imageUrl),k.setAttribute("alt",T.imageAlt||""),Mt(k,"width",T.imageWidth),Mt(k,"height",T.imageHeight),k.className=V.image,or(k,T,"image")}})(0,T),((C,T)=>{const k=cs();k&&(on(k,T.title||T.titleText,"block"),T.title&&ui(T.title,k),T.titleText&&(k.innerText=T.titleText),or(k,T,"title"))})(0,T),((C,T)=>{const k=It();k&&(Wt(k,T.closeButtonHtml||""),or(k,T,"closeButton"),on(k,T.showCloseButton),k.setAttribute("aria-label",T.closeButtonAriaLabel||""))})(0,T),Xn(C,T),X(0,T),((C,T)=>{const k=Ye();k&&(on(k,T.footer,"block"),T.footer&&ui(T.footer,k),or(k,T,"footer"))})(0,T);const k=dt();"function"==typeof T.didRender&&k&&T.didRender(k)},bu=()=>{var C;return null===(C=fe())||void 0===C?void 0:C.click()},sa=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),oa=C=>{C.keydownTarget&&C.keydownHandlerAdded&&(C.keydownTarget.removeEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!1)},Cl=(C,T)=>{var k;const G=Ut();if(G.length)return(C+=T)===G.length?C=0:-1===C&&(C=G.length-1),void G[C].focus();null===(k=dt())||void 0===k||k.focus()},Ei=["ArrowRight","ArrowDown"],Dl=["ArrowLeft","ArrowUp"],Or=(C,T,k)=>{C&&(T.isComposing||229===T.keyCode||(C.stopKeydownPropagation&&T.stopPropagation(),"Enter"===T.key?Eu(T,C):"Tab"===T.key?Tl(T):[...Ei,...Dl].includes(T.key)?Oa(T.key):"Escape"===T.key&&bc(T,C,k)))},Eu=(C,T)=>{if(!Ce(T.allowEnterKey))return;const k=Pr(dt(),T.input);if(C.target&&k&&C.target instanceof HTMLElement&&C.target.outerHTML===k.outerHTML){if(["textarea","file"].includes(T.input))return;bu(),C.preventDefault()}},Tl=C=>{const T=C.target,k=Ut();let G=-1;for(let be=0;be<k.length;be++)if(T===k[be]){G=be;break}Cl(G,C.shiftKey?-1:1),C.stopPropagation(),C.preventDefault()},Oa=C=>{const T=st(),k=fe(),G=Ie(),be=De();if(!(T&&k&&G&&be))return;if(document.activeElement instanceof HTMLElement&&![k,G,be].includes(document.activeElement))return;const ln=Ei.includes(C)?"nextElementSibling":"previousElementSibling";let it=document.activeElement;if(it){for(let Ln=0;Ln<T.children.length;Ln++){if(it=it[ln],!it)return;if(it instanceof HTMLButtonElement&&vn(it))break}it instanceof HTMLButtonElement&&it.focus()}},bc=(C,T,k)=>{Ce(T.allowEscapeKey)&&(C.preventDefault(),k(sa.esc))};var no={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Sl=()=>{Array.from(document.body.children).forEach(T=>{T.hasAttribute("data-previous-aria-hidden")?(T.setAttribute("aria-hidden",T.getAttribute("data-previous-aria-hidden")||""),T.removeAttribute("data-previous-aria-hidden")):T.removeAttribute("aria-hidden")})},en=typeof window<"u"&&!!window.GestureEvent,Zr=()=>{const C=We();if(!C)return;let T;C.ontouchstart=k=>{T=ro(k)},C.ontouchmove=k=>{T&&(k.preventDefault(),k.stopPropagation())}},ro=C=>{const T=C.target,k=We(),G=Hn();return!(!k||!G||Kr(C)||Iu(C)||T!==k&&(an(k)||!(T instanceof HTMLElement)||"INPUT"===T.tagName||"TEXTAREA"===T.tagName||an(G)&&G.contains(T)))},Kr=C=>C.touches&&C.touches.length&&"stylus"===C.touches[0].touchType,Iu=C=>C.touches&&C.touches.length>1;let Ls=null;const Pi=C=>{null===Ls&&(document.body.scrollHeight>window.innerHeight||"scroll"===C)&&(Ls=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Ls+(()=>{const C=document.createElement("div");C.className=V["scrollbar-measure"],document.body.appendChild(C);const T=C.getBoundingClientRect().width-C.clientWidth;return document.body.removeChild(C),T})(),"px"))};function rt(C,T,k,G){In()?Ao(C,G):(ye(k).then(()=>Ao(C,G)),oa(re)),en?(T.setAttribute("style","display:none !important"),T.removeAttribute("class"),T.innerHTML=""):T.remove(),Sn()&&(null!==Ls&&(document.body.style.paddingRight="".concat(Ls,"px"),Ls=null),(()=>{if(Nn(document.body,V.iosfix)){const C=parseInt(document.body.style.top,10);gt(document.body,V.iosfix),document.body.style.top="",document.body.scrollTop=-1*C}})(),Sl()),function At(){gt([document.documentElement,document.body],[V.shown,V["height-auto"],V["no-backdrop"],V["toast-shown"]])}()}function hn(C){C=Fa(C);const T=no.swalPromiseResolve.get(this),k=Yr(this);this.isAwaitingPromise?C.isDismissed||(Zn(this),T(C)):k&&T(C)}const Yr=C=>{const T=dt();if(!T)return!1;const k=bt.innerParams.get(C);if(!k||Nn(T,k.hideClass.popup))return!1;gt(T,k.showClass.popup),Xt(T,k.hideClass.popup);const G=We();return gt(G,k.showClass.backdrop),Xt(G,k.hideClass.backdrop),Bn(C,T,k),!0};function io(C){const T=no.swalPromiseReject.get(this);Zn(this),T&&T(C)}const Zn=C=>{C.isAwaitingPromise&&(delete C.isAwaitingPromise,bt.innerParams.get(C)||C._destroy())},Fa=C=>typeof C>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},C),Bn=(C,T,k)=>{const G=We(),be=q&&Wr(T);"function"==typeof k.willClose&&k.willClose(T),be?Fs(C,T,G,k.returnFocus,k.didClose):rt(C,G,k.returnFocus,k.didClose)},Fs=(C,T,k,G,be)=>{q&&(re.swalCloseEventFinishedCallback=rt.bind(null,C,k,G,be),T.addEventListener(q,function(yt){yt.target===T&&(re.swalCloseEventFinishedCallback(),delete re.swalCloseEventFinishedCallback)}))},Ao=(C,T)=>{setTimeout(()=>{"function"==typeof T&&T.bind(C.params)(),C._destroy&&C._destroy()})},St=C=>{let T=dt();if(T||new ha,T=dt(),!T)return;const k=ke();In()?Jt(qn()):Dr(T,C),Gt(k),T.setAttribute("data-loading","true"),T.setAttribute("aria-busy","true"),T.focus()},Dr=(C,T)=>{const k=st(),G=ke();!k||!G||(!T&&vn(fe())&&(T=fe()),Gt(k),T&&(Jt(T),G.setAttribute("data-button-to-replace",T.className),k.insertBefore(G,T)),Xt([C,k],V.loading))},Pn=C=>C.checked?1:0,Cu=C=>C.checked?C.value:null,xo=C=>C.files&&C.files.length?null!==C.getAttribute("multiple")?C.files:C.files[0]:null,yr=(C,T)=>{const k=dt();if(!k)return;const G=be=>{"select"===T.input?function Vs(C,T,k){const G=Vt(C,V.select);if(!G)return;const be=(yt,ln,it)=>{const Ln=document.createElement("option");Ln.value=it,Wt(Ln,ln),Ln.selected=Ji(it,k.inputValue),yt.appendChild(Ln)};T.forEach(yt=>{const ln=yt[0],it=yt[1];if(Array.isArray(it)){const Ln=document.createElement("optgroup");Ln.label=ln,Ln.disabled=!1,G.appendChild(Ln),it.forEach(fa=>be(Ln,fa[1],fa[0]))}else be(G,it,ln)}),G.focus()}(k,Qr(be),T):"radio"===T.input&&function so(C,T,k){const G=Vt(C,V.radio);if(!G)return;T.forEach(yt=>{const ln=yt[0],it=yt[1],Ln=document.createElement("input"),fa=document.createElement("label");Ln.type="radio",Ln.name=V.radio,Ln.value=ln,Ji(ln,k.inputValue)&&(Ln.checked=!0);const Vl=document.createElement("span");Wt(Vl,it),Vl.className=V.label,fa.appendChild(Ln),fa.appendChild(Vl),G.appendChild(fa)});const be=G.querySelectorAll("input");be.length&&be[0].focus()}(k,Qr(be),T)};se(T.inputOptions)||je(T.inputOptions)?(St(fe()),Re(T.inputOptions).then(be=>{C.hideLoading(),G(be)})):"object"==typeof T.inputOptions?G(T.inputOptions):Ve("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof T.inputOptions))},Us=(C,T)=>{const k=C.getInput();k&&(Jt(k),Re(T.inputValue).then(G=>{k.value="".concat("number"===T.input?parseFloat(G)||0:G),Gt(k),k.focus(),C.hideLoading()}).catch(G=>{Ve("Error in inputValue promise: ".concat(G)),k.value="",Gt(k),k.focus(),C.hideLoading()}))};const Qr=C=>{const T=[];return C instanceof Map?C.forEach((k,G)=>{let be=k;"object"==typeof be&&(be=Qr(be)),T.push([G,be])}):Object.keys(C).forEach(k=>{let G=C[k];"object"==typeof G&&(G=Qr(G)),T.push([k,G])}),T},Ji=(C,T)=>!!T&&T.toString()===C.toString(),Ro=(C,T)=>{const k=bt.innerParams.get(C);if(!k.input)return void Ve('The "input" parameter is needed to be set when using returnInputValueOn'.concat(Ue(T)));const G=C.getInput(),be=((C,T)=>{const k=C.getInput();if(!k)return null;switch(T.input){case"checkbox":return Pn(k);case"radio":return Cu(k);case"file":return xo(k);default:return T.inputAutoTrim?k.value.trim():k.value}})(C,k);k.inputValidator?Al(C,be,T):G&&!G.checkValidity()?(C.enableButtons(),C.showValidationMessage(k.validationMessage)):"deny"===T?Kn(C,be):ps(C,be)},Al=(C,T,k)=>{const G=bt.innerParams.get(C);C.disableInput(),Promise.resolve().then(()=>Re(G.inputValidator(T,G.validationMessage))).then(yt=>{C.enableButtons(),C.enableInput(),yt?C.showValidationMessage(yt):"deny"===k?Kn(C,T):ps(C,T)})},Kn=(C,T)=>{const k=bt.innerParams.get(C||void 0);k.showLoaderOnDeny&&St(Ie()),k.preDeny?(C.isAwaitingPromise=!0,Promise.resolve().then(()=>Re(k.preDeny(T,k.validationMessage))).then(be=>{!1===be?(C.hideLoading(),Zn(C)):C.close({isDenied:!0,value:typeof be>"u"?T:be})}).catch(be=>lr(C||void 0,be))):C.close({isDenied:!0,value:T})},Bs=(C,T)=>{C.close({isConfirmed:!0,value:T})},lr=(C,T)=>{C.rejectPromise(T)},ps=(C,T)=>{const k=bt.innerParams.get(C||void 0);k.showLoaderOnConfirm&&St(),k.preConfirm?(C.resetValidationMessage(),C.isAwaitingPromise=!0,Promise.resolve().then(()=>Re(k.preConfirm(T,k.validationMessage))).then(be=>{vn(pe())||!1===be?(C.hideLoading(),Zn(C)):Bs(C,typeof be>"u"?T:be)}).catch(be=>lr(C||void 0,be))):Bs(C,T)};function nr(){const C=bt.innerParams.get(this);if(!C)return;const T=bt.domCache.get(this);Jt(T.loader),In()?C.icon&&Gt(qn()):jd(T),gt([T.popup,T.actions],V.loading),T.popup.removeAttribute("aria-busy"),T.popup.removeAttribute("data-loading"),T.confirmButton.disabled=!1,T.denyButton.disabled=!1,T.cancelButton.disabled=!1}const jd=C=>{const T=C.popup.getElementsByClassName(C.loader.getAttribute("data-button-to-replace"));T.length?Gt(T[0],"inline-block"):!vn(fe())&&!vn(Ie())&&!vn(De())&&Jt(C.actions)};function ur(){const C=bt.innerParams.get(this),T=bt.domCache.get(this);return T?Pr(T.popup,C.input):null}function Tr(C,T,k){const G=bt.domCache.get(C);T.forEach(be=>{G[be].disabled=k})}function Ua(C,T){const k=dt();if(k&&C)if("radio"===C.type){const G=k.querySelectorAll('[name="'.concat(V.radio,'"]'));for(let be=0;be<G.length;be++)G[be].disabled=T}else C.disabled=T}function oo(){Tr(this,["confirmButton","denyButton","cancelButton"],!1)}function fi(){Tr(this,["confirmButton","denyButton","cancelButton"],!0)}function Jr(){Ua(this.getInput(),!1)}function No(){Ua(this.getInput(),!0)}function ko(C){const T=bt.domCache.get(this),k=bt.innerParams.get(this);Wt(T.validationMessage,C),T.validationMessage.className=V["validation-message"],k.customClass&&k.customClass.validationMessage&&Xt(T.validationMessage,k.customClass.validationMessage),Gt(T.validationMessage);const G=this.getInput();G&&(G.setAttribute("aria-invalid","true"),G.setAttribute("aria-describedby",V["validation-message"]),oi(G),Xt(G,V.inputerror))}function xl(){const C=bt.domCache.get(this);C.validationMessage&&Jt(C.validationMessage);const T=this.getInput();T&&(T.removeAttribute("aria-invalid"),T.removeAttribute("aria-describedby"),gt(T,V.inputerror))}const Va={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ml=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Du={},Ec=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Rl=C=>Object.prototype.hasOwnProperty.call(Va,C),Tu=C=>-1!==Ml.indexOf(C),Hd=C=>Du[C],xn=C=>{Rl(C)||qe('Unknown parameter "'.concat(C,'"'))},Ic=C=>{Ec.includes(C)&&qe('The parameter "'.concat(C,'" is incompatible with toasts'))},$d=C=>{const T=Hd(C);T&&le(C,T)};function Su(C){const T=dt(),k=bt.innerParams.get(this);if(!T||Nn(T,k.hideClass.popup))return void qe("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const G=Au(C),be=Object.assign({},k,G);Do(this,be),bt.innerParams.set(this,be),Object.defineProperties(this,{params:{value:Object.assign({},this.params,C),writable:!1,enumerable:!0}})}const Au=C=>{const T={};return Object.keys(C).forEach(k=>{Tu(k)?T[k]=C[k]:qe("Invalid parameter to update: ".concat(k))}),T};function Xi(){const C=bt.domCache.get(this),T=bt.innerParams.get(this);T?(C.popup&&re.swalCloseEventFinishedCallback&&(re.swalCloseEventFinishedCallback(),delete re.swalCloseEventFinishedCallback),"function"==typeof T.didDestroy&&T.didDestroy(),xu(this)):ao(this)}const xu=C=>{ao(C),delete C.params,delete re.keydownHandler,delete re.keydownTarget,delete re.currentInstance},ao=C=>{C.isAwaitingPromise?(Ba(bt,C),C.isAwaitingPromise=!0):(Ba(no,C),Ba(bt,C),delete C.isAwaitingPromise,delete C.disableButtons,delete C.enableButtons,delete C.getInput,delete C.disableInput,delete C.enableInput,delete C.hideLoading,delete C.disableLoading,delete C.showValidationMessage,delete C.resetValidationMessage,delete C.close,delete C.closePopup,delete C.closeModal,delete C.closeToast,delete C.rejectPromise,delete C.update,delete C._destroy)},Ba=(C,T)=>{for(const k in C)C[k].delete(T)};var aa=Object.freeze({__proto__:null,_destroy:Xi,close:hn,closeModal:hn,closePopup:hn,closeToast:hn,disableButtons:fi,disableInput:No,disableLoading:nr,enableButtons:oo,enableInput:Jr,getInput:ur,handleAwaitingPromise:Zn,hideLoading:nr,rejectPromise:io,resetValidationMessage:xl,showValidationMessage:ko,update:Su});const ja=(C,T,k)=>{T.popup.onclick=()=>{C&&(lo(C)||C.timer||C.input)||k(sa.close)}},lo=C=>C.showConfirmButton||C.showDenyButton||C.showCancelButton||C.showCloseButton;let Po=!1;const Cc=C=>{C.popup.onmousedown=()=>{C.container.onmouseup=function(T){C.container.onmouseup=void 0,T.target===C.container&&(Po=!0)}}},Xr=C=>{C.container.onmousedown=()=>{C.popup.onmouseup=function(T){C.popup.onmouseup=void 0,(T.target===C.popup||T.target instanceof HTMLElement&&C.popup.contains(T.target))&&(Po=!0)}}},Ha=(C,T,k)=>{T.container.onclick=G=>{Po?Po=!1:G.target===T.container&&Ce(C.allowOutsideClick)&&k(sa.backdrop)}},Nl=C=>C instanceof Element||(C=>"object"==typeof C&&C.jquery)(C);const uo=()=>{if(re.timeout)return(()=>{const C=An();if(!C)return;const T=parseInt(window.getComputedStyle(C).width);C.style.removeProperty("transition"),C.style.width="100%";const k=parseInt(window.getComputedStyle(C).width);C.style.width="".concat(T/k*100,"%")})(),re.timeout.stop()},jn=()=>{if(re.timeout){const C=re.timeout.start();return zt(C),C}};let za=!1;const Oo={};const Ac=C=>{for(let T=C.target;T&&T!==document;T=T.parentNode)for(const k in Oo){const G=T.getAttribute(k);if(G)return void Oo[k].fire({template:G})}};var Pl=Object.freeze({__proto__:null,argsToParams:C=>{const T={};return"object"!=typeof C[0]||Nl(C[0])?["title","html","icon"].forEach((k,G)=>{const be=C[G];"string"==typeof be||Nl(be)?T[k]=be:void 0!==be&&Ve("Unexpected type of ".concat(k,'! Expected "string" or "Element", got ').concat(typeof be))}):Object.assign(T,C[0]),T},bindClickHandler:function Sc(){Oo[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,za||(document.body.addEventListener("click",Ac),za=!0)},clickCancel:()=>{var C;return null===(C=De())||void 0===C?void 0:C.click()},clickConfirm:bu,clickDeny:()=>{var C;return null===(C=Ie())||void 0===C?void 0:C.click()},enableLoading:St,fire:function Dc(){for(var T=arguments.length,k=new Array(T),G=0;G<T;G++)k[G]=arguments[G];return new this(...k)},getActions:st,getCancelButton:De,getCloseButton:It,getConfirmButton:fe,getContainer:We,getDenyButton:Ie,getFocusableElements:Ut,getFooter:Ye,getHtmlContainer:Hn,getIcon:qn,getIconContent:()=>pt(V["icon-content"]),getImage:Xs,getInputLabel:()=>pt(V["input-label"]),getLoader:ke,getPopup:dt,getProgressSteps:Ki,getTimerLeft:()=>re.timeout&&re.timeout.getTimerLeft(),getTimerProgressBar:An,getTitle:cs,getValidationMessage:pe,increaseTimer:C=>{if(re.timeout){const T=re.timeout.increase(C);return zt(T,!0),T}},isDeprecatedParameter:Hd,isLoading:()=>{const C=dt();return!!C&&C.hasAttribute("data-loading")},isTimerRunning:()=>!(!re.timeout||!re.timeout.isRunning()),isUpdatableParameter:Tu,isValidParameter:Rl,isVisible:()=>vn(dt()),mixin:function Ga(C){return class T extends(this){_main(G,be){return super._main(G,Object.assign({},C,be))}}},resumeTimer:jn,showLoading:St,stopTimer:uo,toggleTimer:()=>{const C=re.timeout;return C&&(C.running?uo():jn())}});class ua{constructor(T,k){this.callback=T,this.remaining=k,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(T){const k=this.running;return k&&this.stop(),this.remaining+=T,k&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ol=["swal-title","swal-html","swal-footer"],Gd=C=>{const T={};return Array.from(C.querySelectorAll("swal-param")).forEach(G=>{ho(G,["name","value"]);const be=G.getAttribute("name"),yt=G.getAttribute("value");T[be]="boolean"==typeof Va[be]?"false"!==yt:"object"==typeof Va[be]?JSON.parse(yt):yt}),T},zd=C=>{const T={};return Array.from(C.querySelectorAll("swal-function-param")).forEach(G=>{const be=G.getAttribute("name"),yt=G.getAttribute("value");T[be]=new Function("return ".concat(yt))()}),T},yg=C=>{const T={};return Array.from(C.querySelectorAll("swal-button")).forEach(G=>{ho(G,["type","color","aria-label"]);const be=G.getAttribute("type");T["".concat(be,"ButtonText")]=G.innerHTML,T["show".concat(Ue(be),"Button")]=!0,G.hasAttribute("color")&&(T["".concat(be,"ButtonColor")]=G.getAttribute("color")),G.hasAttribute("aria-label")&&(T["".concat(be,"ButtonAriaLabel")]=G.getAttribute("aria-label"))}),T},Ll=C=>{const T={},k=C.querySelector("swal-image");return k&&(ho(k,["src","width","height","alt"]),k.hasAttribute("src")&&(T.imageUrl=k.getAttribute("src")),k.hasAttribute("width")&&(T.imageWidth=k.getAttribute("width")),k.hasAttribute("height")&&(T.imageHeight=k.getAttribute("height")),k.hasAttribute("alt")&&(T.imageAlt=k.getAttribute("alt"))),T},xc=C=>{const T={},k=C.querySelector("swal-icon");return k&&(ho(k,["type","color"]),k.hasAttribute("type")&&(T.icon=k.getAttribute("type")),k.hasAttribute("color")&&(T.iconColor=k.getAttribute("color")),T.iconHtml=k.innerHTML),T},Mc=C=>{const T={},k=C.querySelector("swal-input");k&&(ho(k,["type","label","placeholder","value"]),T.input=k.getAttribute("type")||"text",k.hasAttribute("label")&&(T.inputLabel=k.getAttribute("label")),k.hasAttribute("placeholder")&&(T.inputPlaceholder=k.getAttribute("placeholder")),k.hasAttribute("value")&&(T.inputValue=k.getAttribute("value")));const G=Array.from(C.querySelectorAll("swal-input-option"));return G.length&&(T.inputOptions={},G.forEach(be=>{ho(be,["value"]);const yt=be.getAttribute("value");T.inputOptions[yt]=be.innerHTML})),T},qd=(C,T)=>{const k={};for(const G in T){const be=T[G],yt=C.querySelector(be);yt&&(ho(yt,[]),k[be.replace(/^swal-/,"")]=yt.innerHTML.trim())}return k},ca=C=>{const T=Ol.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(C.children).forEach(k=>{const G=k.tagName.toLowerCase();T.includes(G)||qe("Unrecognized element <".concat(G,">"))})},ho=(C,T)=>{Array.from(C.attributes).forEach(k=>{-1===T.indexOf(k.name)&&qe(['Unrecognized attribute "'.concat(k.name,'" on <').concat(C.tagName.toLowerCase(),">."),"".concat(T.length?"Allowed attributes are: ".concat(T.join(", ")):"To set the value, use HTML within the element.")])})},qa=C=>{const T=We(),k=dt();"function"==typeof C.willOpen&&C.willOpen(k);const be=window.getComputedStyle(document.body).overflowY;Lo(T,k,C),setTimeout(()=>{Rc(T,k)},10),Sn()&&(Fl(T,C.scrollbarPadding,be),Array.from(document.body.children).forEach(T=>{T===We()||T.contains(We())||(T.hasAttribute("aria-hidden")&&T.setAttribute("data-previous-aria-hidden",T.getAttribute("aria-hidden")||""),T.setAttribute("aria-hidden","true"))})),!In()&&!re.previousActiveElement&&(re.previousActiveElement=document.activeElement),"function"==typeof C.didOpen&&setTimeout(()=>C.didOpen(k)),gt(T,V["no-transition"])},Wa=C=>{const T=dt();if(C.target!==T||!q)return;const k=We();T.removeEventListener(q,Wa),k.style.overflowY="auto"},Rc=(C,T)=>{q&&Wr(T)?(C.style.overflowY="hidden",T.addEventListener(q,Wa)):C.style.overflowY="auto"},Fl=(C,T,k)=>{(()=>{if(en&&!Nn(document.body,V.iosfix)){const C=document.body.scrollTop;document.body.style.top="".concat(-1*C,"px"),Xt(document.body,V.iosfix),Zr()}})(),T&&"hidden"!==k&&Pi(k),setTimeout(()=>{C.scrollTop=0})},Lo=(C,T,k)=>{Xt(C,k.showClass.backdrop),T.style.setProperty("opacity","0","important"),Gt(T,"grid"),setTimeout(()=>{Xt(T,k.showClass.popup),T.style.removeProperty("opacity")},10),Xt([document.documentElement,document.body],V.shown),k.heightAuto&&k.backdrop&&!k.toast&&Xt([document.documentElement,document.body],V["height-auto"])};var Nc={email:(C,T)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(C)?Promise.resolve():Promise.resolve(T||"Invalid email address"),url:(C,T)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(C)?Promise.resolve():Promise.resolve(T||"Invalid URL")};function Mu(C){(function Oi(C){C.inputValidator||("email"===C.input&&(C.inputValidator=Nc.email),"url"===C.input&&(C.inputValidator=Nc.url))})(C),C.showLoaderOnConfirm&&!C.preConfirm&&qe("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Wd(C){(!C.target||"string"==typeof C.target&&!document.querySelector(C.target)||"string"!=typeof C.target&&!C.target.appendChild)&&(qe('Target parameter is not valid, defaulting to "body"'),C.target="body")}(C),"string"==typeof C.title&&(C.title=C.title.split("\n").join("<br />")),Jn(C)}let rn;var js=new WeakMap;class On{constructor(){if(ue(this,js,{writable:!0,value:void 0}),typeof window>"u")return;rn=this;for(var T=arguments.length,k=new Array(T),G=0;G<T;G++)k[G]=arguments[G];const be=Object.freeze(this.constructor.argsToParams(k));this.params=be,this.isAwaitingPromise=!1,F(this,js,this._main(rn.params))}_main(T){let k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(C=>{!1===C.backdrop&&C.allowOutsideClick&&qe('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const T in C)xn(T),C.toast&&Ic(T),$d(T)})(Object.assign({},k,T)),re.currentInstance&&(re.currentInstance._destroy(),Sn()&&Sl()),re.currentInstance=rn;const G=Ul(T,k);Mu(G),Object.freeze(G),re.timeout&&(re.timeout.stop(),delete re.timeout),clearTimeout(re.restoreFocusTimeout);const be=kc(rn);return Do(rn,G),bt.innerParams.set(rn,G),ei(rn,be,G)}then(T){return Me(this,js).then(T)}finally(T){return Me(this,js).finally(T)}}const ei=(C,T,k)=>new Promise((G,be)=>{const yt=ln=>{C.close({isDismissed:!0,dismiss:ln})};no.swalPromiseResolve.set(C,G),no.swalPromiseReject.set(C,be),T.confirmButton.onclick=()=>{(C=>{const T=bt.innerParams.get(C);C.disableButtons(),T.input?Ro(C,"confirm"):ps(C,!0)})(C)},T.denyButton.onclick=()=>{(C=>{const T=bt.innerParams.get(C);C.disableButtons(),T.returnInputValueOnDeny?Ro(C,"deny"):Kn(C,!1)})(C)},T.cancelButton.onclick=()=>{((C,T)=>{C.disableButtons(),T(sa.cancel)})(C,yt)},T.closeButton.onclick=()=>{yt(sa.close)},((C,T,k)=>{C.toast?ja(C,T,k):(Cc(T),Xr(T),Ha(C,T,k))})(k,T,yt),((C,T,k)=>{oa(C),T.toast||(C.keydownHandler=G=>Or(T,G,k),C.keydownTarget=T.keydownListenerCapture?window:dt(),C.keydownListenerCapture=T.keydownListenerCapture,C.keydownTarget.addEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!0)})(re,k,yt),((C,T)=>{"select"===T.input||"radio"===T.input?yr(C,T):["text","email","number","tel","textarea"].some(k=>k===T.input)&&(se(T.inputValue)||je(T.inputValue))&&(St(fe()),Us(C,T))})(C,k),qa(k),Li(re,k,yt),Yn(T,k),setTimeout(()=>{T.container.scrollTop=0})}),Ul=(C,T)=>{const k=(C=>{const T="string"==typeof C.template?document.querySelector(C.template):C.template;if(!T)return{};const k=T.content;return ca(k),Object.assign(Gd(k),zd(k),yg(k),Ll(k),xc(k),Mc(k),qd(k,Ol))})(C),G=Object.assign({},Va,T,k,C);return G.showClass=Object.assign({},Va.showClass,G.showClass),G.hideClass=Object.assign({},Va.hideClass,G.hideClass),G},kc=C=>{const T={popup:dt(),container:We(),actions:st(),confirmButton:fe(),denyButton:Ie(),cancelButton:De(),loader:ke(),closeButton:It(),validationMessage:pe(),progressSteps:Ki()};return bt.domCache.set(C,T),T},Li=(C,T,k)=>{const G=An();Jt(G),T.timer&&(C.timeout=new ua(()=>{k("timer"),delete C.timeout},T.timer),T.timerProgressBar&&(Gt(G),or(G,T,"timerProgressBar"),setTimeout(()=>{C.timeout&&C.timeout.running&&zt(T.timer)})))},Yn=(C,T)=>{if(!T.toast){if(!Ce(T.allowEnterKey))return void Pc();da(C,T)||Cl(-1,1)}},da=(C,T)=>T.focusDeny&&vn(C.denyButton)?(C.denyButton.focus(),!0):T.focusCancel&&vn(C.cancelButton)?(C.cancelButton.focus(),!0):!(!T.focusConfirm||!vn(C.confirmButton)||(C.confirmButton.focus(),0)),Pc=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const C=new Date,T=localStorage.getItem("swal-initiation");T?(C.getTime()-Date.parse(T))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const k=document.createElement("audio");k.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",k.loop=!0,document.body.appendChild(k),setTimeout(()=>{k.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation","".concat(C))}On.prototype.disableButtons=fi,On.prototype.enableButtons=oo,On.prototype.getInput=ur,On.prototype.disableInput=No,On.prototype.enableInput=Jr,On.prototype.hideLoading=nr,On.prototype.disableLoading=nr,On.prototype.showValidationMessage=ko,On.prototype.resetValidationMessage=xl,On.prototype.close=hn,On.prototype.closePopup=hn,On.prototype.closeModal=hn,On.prototype.closeToast=hn,On.prototype.rejectPromise=io,On.prototype.update=Su,On.prototype._destroy=Xi,Object.assign(On,Pl),Object.keys(aa).forEach(C=>{On[C]=function(){return rn&&rn[C]?rn[C](...arguments):null}}),On.DismissReason=sa,On.version="11.7.31";const ha=On;return ha.default=ha,ha}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Me,F){var d=Me.createElement("style");if(Me.getElementsByTagName("head")[0].appendChild(d),d.styleSheet)d.styleSheet.disabled||(d.styleSheet.cssText=F);else try{d.innerHTML=F}catch{d.innerText=F}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},5879:(Et,Me,F)=>{"use strict";F.d(Me,{$8M:()=>$c,$WT:()=>ro,$Z:()=>nD,AFp:()=>PC,ALo:()=>NT,AaK:()=>V,CHM:()=>Oc,CRH:()=>zT,Cb_:()=>QM,EJc:()=>OE,EpF:()=>uv,F4k:()=>Dp,FYo:()=>ip,FiY:()=>ol,Gf:()=>GT,GfV:()=>R0,Gpc:()=>Xe,HDt:()=>$r,JOm:()=>qf,Jf7:()=>qC,KtG:()=>xf,LFG:()=>Nt,LSH:()=>y0,Lbi:()=>C0,Lck:()=>qi,MAs:()=>ud,MMx:()=>Wi,NdJ:()=>cv,O4$:()=>Uc,Ojb:()=>D0,OlP:()=>Mn,Oqu:()=>bv,P3R:()=>v0,PXZ:()=>hw,Q6J:()=>ov,QGY:()=>Cp,Qsj:()=>xP,R0b:()=>ji,RDi:()=>Is,Rgc:()=>sf,SBq:()=>qs,Sil:()=>iS,Suo:()=>du,TTD:()=>ca,TgZ:()=>cd,Udp:()=>yv,VuI:()=>FS,WLB:()=>oc,X6Q:()=>gw,XFs:()=>gt,Xpm:()=>Dl,Xq5:()=>Yy,Xts:()=>ep,Y36:()=>dp,YKP:()=>jv,YNc:()=>mm,Yjl:()=>Sl,Yz7:()=>Ut,Z0I:()=>Wt,ZZ4:()=>tI,_Bn:()=>sE,_UZ:()=>as,_c5:()=>WM,_uU:()=>JD,aQg:()=>nI,c2e:()=>rS,cJS:()=>In,cg1:()=>kp,dDg:()=>df,dqk:()=>on,eFA:()=>gS,eJc:()=>Yv,ekj:()=>kb,eoX:()=>Dd,evT:()=>WC,f3M:()=>jt,g9A:()=>OC,h0i:()=>ef,hGG:()=>vw,hij:()=>Mp,iGM:()=>bE,ifc:()=>Le,ip1:()=>kE,jDz:()=>oE,kL8:()=>Kh,kcU:()=>ih,kuF:()=>Ce,l5B:()=>nf,lG2:()=>So,lcZ:()=>fE,lqb:()=>ss,lri:()=>BE,n5z:()=>rl,oAB:()=>Oa,oxw:()=>Sb,q4F:()=>Jg,qFp:()=>hI,qLn:()=>cp,qOj:()=>ab,qZA:()=>_m,rWj:()=>i_,rg0:()=>Ll,s9C:()=>hv,sBO:()=>l_,s_b:()=>Bp,soG:()=>uw,tb:()=>dw,tp0:()=>ju,uIk:()=>lm,vHH:()=>le,vpe:()=>Jl,wAp:()=>hd,xp6:()=>eD,z2F:()=>Td,z3N:()=>_o,zSh:()=>Iy,zs3:()=>Ql});var d=F(8645),ne=F(7394),B=F(5592),oe=F(3019),ue=F(5619),ve=F(2096),re=F(3020),Be=F(4664),ye=F(3997);function z(s){for(let o in s)if(s[o]===z)return o;throw Error("Could not find renamed property on target object.")}function K(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function V(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(V).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function Ge(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Pe=z({__forward_ref__:z});function Xe(s){return s.__forward_ref__=Xe,s.toString=function(){return V(this())},s}function Ue(s){return qe(s)?s():s}function qe(s){return"function"==typeof s&&s.hasOwnProperty(Pe)&&s.__forward_ref__===Xe}function Ve(s){return s&&!!s.\u0275providers}const Dt="https://g.co/ng/security#xss";class le extends Error{constructor(o,l){super(Ce(o,l)),this.code=o}}function Ce(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}function se(s){return"string"==typeof s?s:null==s?"":String(s)}function pt(s,o){throw new le(-201,!1)}function st(s,o){null==s&&function Ye(s,o,l,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${l} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function Ut(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function In(s){return{providers:s.providers||[],imports:s.imports||[]}}function pr(s){return Nn(s,Pr)||Nn(s,Ns)}function Wt(s){return null!==pr(s)}function Nn(s,o){return s.hasOwnProperty(o)?s[o]:null}function or(s){return s&&(s.hasOwnProperty(oi)||s.hasOwnProperty(Xt))?s[oi]:null}const Pr=z({\u0275prov:z}),oi=z({\u0275inj:z}),Ns=z({ngInjectableDef:z}),Xt=z({ngInjectorDef:z});var gt=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(gt||{});let Vt;function Gt(s){const o=Vt;return Vt=s,o}function Jt(s,o,l){const c=pr(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&gt.Optional?null:void 0!==o?o:void pt(V(s))}const on=globalThis,li={},Jn="__NG_DI_FLAG__",ui="ngTempTokenPath",W=/\n/gm,X="__source";let xe;function et(s){const o=xe;return xe=s,o}function Ot(s,o=gt.Default){if(void 0===xe)throw new le(-203,!1);return null===xe?Jt(s,void 0,o):xe.get(s,o&gt.Optional?null:void 0,o)}function Nt(s,o=gt.Default){return(function Mt(){return Vt}()||Ot)(Ue(s),o)}function jt(s,o=gt.Default){return Nt(s,$n(o))}function $n(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function bt(s){const o=[];for(let l=0;l<s.length;l++){const c=Ue(s[l]);if(Array.isArray(c)){if(0===c.length)throw new le(900,!1);let h,g=gt.Default;for(let y=0;y<c.length;y++){const E=c[y],D=hs(E);"number"==typeof D?-1===D?h=E.token:g|=D:h=E}o.push(Nt(h,g))}else o.push(Nt(c))}return o}function ar(s,o){return s[Jn]=o,s.prototype[Jn]=o,s}function hs(s){return s[Jn]}function ge(s){return{toString:s}.toString()}var ae=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(ae||{}),Le=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(Le||{});const at={},Je=[],Lt=z({\u0275cmp:z}),Bt=z({\u0275dir:z}),Xn=z({\u0275pipe:z}),er=z({\u0275mod:z}),Cr=z({\u0275fac:z}),Qi=z({__NG_ELEMENT_ID__:z}),ia=z({__NG_ENV_ID__:z});function yu(s,o,l){let c=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===c||s.charCodeAt(h+g)<=32)return h}l=h+1}}function ci(s,o,l){let c=0;for(;c<l.length;){const h=l[c];if("number"==typeof h){if(0!==h)break;c++;const g=l[c++],y=l[c++],E=l[c++];s.setAttribute(o,y,E,g)}else{const g=h,y=l[++c];ki(g)?s.setProperty(o,g,y):s.setAttribute(o,g,y),c++}}return c}function Il(s){return 3===s||4===s||6===s}function ki(s){return 64===s.charCodeAt(0)}function to(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?l=h:0===l||Os(s,l,h,null,-1===l||2===l?o[++c]:null)}}return s}function Os(s,o,l,c,h){let g=0,y=s.length;if(-1===o)y=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){y=-1;break}if(E>o){y=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===l){if(null===c)return void(null!==h&&(s[g+1]=h));if(c===s[g+1])return void(s[g+2]=h)}g++,null!==c&&g++,null!==h&&g++}-1!==y&&(s.splice(y,0,o),g=y+1),s.splice(g++,0,l),null!==c&&s.splice(g++,0,c),null!==h&&s.splice(g++,0,h)}const vu="ng-template";function tr(s,o,l){let c=0,h=!0;for(;c<s.length;){let g=s[c++];if("string"==typeof g&&h){const y=s[c++];if(l&&"class"===g&&-1!==yu(y.toLowerCase(),o,0))return!0}else{if(1===g){for(;c<s.length&&"string"==typeof(g=s[c++]);)if(g.toLowerCase()===o)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function di(s){return 4===s.type&&s.value!==vu}function Cf(s,o,l){return o===(4!==s.type||l?s.value:vu)}function Ud(s,o,l){let c=4;const h=s.attrs||[],g=function Df(s){for(let o=0;o<s.length;o++)if(Il(s[o]))return o;return s.length}(h);let y=!1;for(let E=0;E<o.length;E++){const D=o[E];if("number"!=typeof D){if(!y)if(4&c){if(c=2|1&c,""!==D&&!Cf(s,D,l)||""===D&&1===o.length){if(hi(c))return!1;y=!0}}else{const R=8&c?D:o[++E];if(8&c&&null!==s.attrs){if(!tr(s.attrs,R,l)){if(hi(c))return!1;y=!0}continue}const $=Do(8&c?"class":D,h,di(s),l);if(-1===$){if(hi(c))return!1;y=!0;continue}if(""!==R){let J;J=$>g?"":h[$+1].toLowerCase();const te=8&c?J:null;if(te&&-1!==yu(te,R,0)||2&c&&R!==J){if(hi(c))return!1;y=!0}}}}else{if(!y&&!hi(c)&&!hi(D))return!1;if(y&&hi(D))continue;y=!1,c=D|1&c}}return hi(c)||y}function hi(s){return 0==(1&s)}function Do(s,o,l,c){if(null===o)return-1;let h=0;if(c||!l){let g=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)g=!0;else{if(1===y||2===y){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=g?1:2}return-1}return function To(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const c=s[l];if("number"==typeof c)return-1;if(c===o)return l;l++}return-1}(o,s)}function wu(s,o,l=!1){for(let c=0;c<o.length;c++)if(Ud(s,o[c],l))return!0;return!1}function oa(s,o){return s?":not("+o.trim()+")":o}function wc(s){let o=s[0],l=1,c=2,h="",g=!1;for(;l<s.length;){let y=s[l];if("string"==typeof y)if(2&c){const E=s[++l];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?h+="."+y:4&c&&(h+=" "+y);else""!==h&&!hi(y)&&(o+=oa(g,h),h=""),c=y,g=g||!hi(c);l++}return""!==h&&(o+=oa(g,h)),o}function Dl(s){return ge(()=>{const o=Iu(s),l={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===ae.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||Le.Emulated,styles:s.styles||Je,_:null,schemas:s.schemas||null,tView:null,id:""};Vd(l);const c=s.dependencies;return l.directiveDefs=La(c,!1),l.pipeDefs=La(c,!0),l.id=function Pi(s){let o=0;const l=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const h of l)o=Math.imul(31,o)+h.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(l),l})}function Eu(s){return en(s)||Wn(s)}function Tl(s){return null!==s}function Oa(s){return ge(()=>({type:s.type,bootstrap:s.bootstrap||Je,declarations:s.declarations||Je,imports:s.imports||Je,exports:s.exports||Je,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function no(s,o){if(null==s)return at;const l={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=c,o&&(o[h]=g)}return l}function So(s){return ge(()=>{const o=Iu(s);return Vd(o),o})}function Sl(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function en(s){return s[Lt]||null}function Wn(s){return s[Bt]||null}function Zr(s){return s[Xn]||null}function ro(s){const o=en(s)||Wn(s)||Zr(s);return null!==o&&o.standalone}function Kr(s,o){const l=s[er]||null;if(!l&&!0===o)throw new Error(`Type ${V(s)} does not have '\u0275mod' property.`);return l}function Iu(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:s.inputs||at,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||Je,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:no(s.inputs,o),outputs:no(s.outputs)}}function Vd(s){s.features?.forEach(o=>o(s))}function La(s,o){if(!s)return null;const l=o?Zr:Eu;return()=>("function"==typeof s?s():s).map(c=>l(c)).filter(Tl)}const kn=0,rt=1,At=2,hn=3,Yr=4,io=5,Zn=6,Fa=7,Bn=8,Fs=9,Ao=10,St=11,Dr=12,Bd=13,fs=14,Pn=15,Cu=16,xo=17,yr=18,Us=19,Vs=20,so=21,Qr=22,Ji=23,Mo=24,$t=25,Ro=1,Al=2,Kn=7,lr=9,nr=11;function ur(s){return Array.isArray(s)&&"object"==typeof s[Ro]}function Tr(s){return Array.isArray(s)&&!0===s[Ro]}function Ua(s){return 0!=(4&s.flags)}function oo(s){return s.componentOffset>-1}function fi(s){return 1==(1&s.flags)}function Jr(s){return!!s.template}function No(s){return 0!=(512&s[At])}function lo(s,o){return s.hasOwnProperty(Cr)?s[Cr]:null}let Nl=on.WeakRef??class $a{constructor(o){this.ref=o}deref(){return this.ref}},Ga=0,gs=null,uo=!1;function jn(s){const o=gs;return gs=s,o}class Tc{constructor(){this.id=Ga++,this.ref=function la(s){return new Nl(s)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[o,l]of this.producers){const c=l.producerNode.deref();if(null!=c&&l.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(l.seenValueVersion))return!0}else this.producers.delete(o),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const o=uo;uo=!0;try{for(const[l,c]of this.consumers){const h=c.consumerNode.deref();null!=h&&h.trackingVersion===c.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(l),h?.producers.delete(this.id))}}finally{uo=o}}producerAccessed(){if(uo)throw new Error("");if(null===gs)return;let o=gs.producers.get(this.id);void 0===o?(o={consumerNode:gs.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:gs.trackingVersion},gs.producers.set(this.id,o),this.consumers.set(gs.id,o)):(o.seenValueVersion=this.valueVersion,o.atTrackingVersion=gs.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==gs?.consumerAllowSignalWrites}producerPollStatus(o){return this.valueVersion!==o||(this.onProducerUpdateValueVersion(),this.valueVersion!==o)}}let Pl=null;function Ll(s){const o=jn(null);try{return s()}finally{jn(o)}}const xc=()=>{};class Mc extends Tc{constructor(o,l,c){super(),this.watch=o,this.schedule=l,this.dirty=!1,this.cleanupFn=xc,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const o=jn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=xc,this.watch(this.registerOnCleanup)}finally{jn(o)}}cleanup(){this.cleanupFn()}}class qd{constructor(o,l,c){this.previousValue=o,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function ca(){return ho}function ho(s){return s.type.prototype.ngOnChanges&&(s.setInput=qa),fo}function fo(){const s=Rc(this),o=s?.current;if(o){const l=s.previous;if(l===at)s.previous=o;else for(let c in o)l[c]=o[c];s.current=null,this.ngOnChanges(o)}}function qa(s,o,l,c){const h=this.declaredInputs[l],g=Rc(s)||function Fl(s,o){return s[Wa]=o}(s,{previous:at,current:null}),y=g.current||(g.current={}),E=g.previous,D=E[h];y[h]=new qd(D&&D.currentValue,o,E===at),s[c]=o}ca.ngInherit=!0;const Wa="__ngSimpleChanges__";function Rc(s){return s[Wa]||null}const Oi=function(s,o,l){},Wd="svg";function rn(s){for(;Array.isArray(s);)s=s[kn];return s}function On(s,o){return rn(o[s])}function ei(s,o){return rn(o[s.index])}function kc(s,o){return s.data[o]}function Li(s,o){return s[o]}function Yn(s,o){const l=o[s];return ur(l)?l:l[kn]}function C(s,o){return null==o?null:s[o]}function T(s){s[xo]=0}function k(s){1024&s[At]||(s[At]|=1024,be(s,1))}function G(s){1024&s[At]&&(s[At]&=-1025,be(s,-1))}function be(s,o){let l=s[hn];if(null===l)return;l[io]+=o;let c=l;for(l=l[hn];null!==l&&(1===o&&1===c[io]||-1===o&&0===c[io]);)l[io]+=o,c=l,l=l[hn]}const it={lFrame:kf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Za(){return it.bindingsEnabled}function Ee(){return it.lFrame.lView}function fn(){return it.lFrame.tView}function Oc(s){return it.lFrame.contextLView=s,s[Bn]}function xf(s){return it.lFrame.contextLView=null,s}function Sr(){let s=Nu();for(;null!==s&&64===s.type;)s=s.parent;return s}function Nu(){return it.lFrame.currentTNode}function Hs(s,o){const l=it.lFrame;l.currentTNode=s,l.isParent=o}function Fr(){return it.lFrame.isParent}function Fi(){const s=it.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Fo(){return it.lFrame.bindingIndex++}function eh(s,o){const l=it.lFrame;l.bindingIndex=l.bindingRootIndex=s,wg(o)}function wg(s){it.lFrame.currentDirectiveIndex=s}function Rf(){return it.lFrame.currentQueryIndex}function th(s){it.lFrame.currentQueryIndex=s}function k_(s){const o=s[rt];return 2===o.type?o.declTNode:1===o.type?s[Zn]:null}function nh(s,o,l){if(l&gt.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&gt.Host||(h=k_(g),null===h||(g=g[fs],10&h.type))););if(null===h)return!1;o=h,s=g}const c=it.lFrame=Hl();return c.currentTNode=o,c.lView=s,!0}function Nf(s){const o=Hl(),l=s[rt];it.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Hl(){const s=it.lFrame,o=null===s?null:s.child;return null===o?kf(s):o}function kf(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function rh(){const s=it.lFrame;return it.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const bg=rh;function Lc(){const s=rh();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ui(){return it.lFrame.selectedIndex}function pa(s){it.lFrame.selectedIndex=s}function ir(){const s=it.lFrame;return kc(s.tView,s.selectedIndex)}function Uc(){it.lFrame.currentNamespace=Wd}function ih(){!function O_(){it.lFrame.currentNamespace=null}()}let ms=!0;function ga(){return ms}function ma(s){ms=s}function $l(s,o){for(let l=o.directiveStart,c=o.directiveEnd;l<c;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:R,ngOnDestroy:P}=g;y&&(s.contentHooks??=[]).push(-l,y),E&&((s.contentHooks??=[]).push(l,E),(s.contentCheckHooks??=[]).push(l,E)),D&&(s.viewHooks??=[]).push(-l,D),R&&((s.viewHooks??=[]).push(l,R),(s.viewCheckHooks??=[]).push(l,R)),null!=P&&(s.destroyHooks??=[]).push(l,P)}}function _a(s,o,l){Vo(s,o,3,l)}function ya(s,o,l,c){(3&s[At])===l&&Vo(s,o,l,c)}function Uo(s,o){let l=s[At];(3&l)===o&&(l&=8191,l+=1,s[At]=l)}function Vo(s,o,l,c){const g=c??-1,y=o.length-1;let E=0;for(let D=void 0!==c?65535&s[xo]:0;D<y;D++)if("number"==typeof o[D+1]){if(E=o[D],null!=c&&E>=c)break}else o[D]<0&&(s[xo]+=65536),(E<g||-1==g)&&(kt(s,l,o,D),s[xo]=(4294901760&s[xo])+D+2),D++}function vr(s,o){Oi(4,s,o);const l=jn(null);try{o.call(s)}finally{jn(l),Oi(5,s,o)}}function kt(s,o,l,c){const h=l[c]<0,g=l[c+1],E=s[h?-l[c]:l[c]];h?s[At]>>13<s[xo]>>16&&(3&s[At])===o&&(s[At]+=8192,vr(E,g)):vr(E,g)}const _s=-1;class pi{constructor(o,l,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function oh(s){return s!==_s}function Ja(s){return 32767&s}function po(s,o){let l=function L_(s){return s>>16}(s),c=o;for(;l>0;)c=c[fs],l--;return c}let ys=!0;function Xa(s){const o=ys;return ys=s,o}const va=255,Bc=5;let jo=0;const vs={};function jc(s,o){const l=lh(s,o);if(-1!==l)return l;const c=o[rt];c.firstCreatePass&&(s.injectorIndex=o.length,zl(c.data,s),zl(o,null),zl(c.blueprint,null));const h=el(s,o),g=s.injectorIndex;if(oh(h)){const y=Ja(h),E=po(h,o),D=E[rt].data;for(let R=0;R<8;R++)o[g+R]=E[y+R]|D[y+R]}return o[g+8]=h,g}function zl(s,o){s.push(0,0,0,0,0,0,0,0,o)}function lh(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function el(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,c=null,h=o;for(;null!==h;){if(c=Vu(h),null===c)return _s;if(l++,h=h[fs],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return _s}function Ou(s,o,l){!function ah(s,o,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(Qi)&&(c=l[Qi]),null==c&&(c=l[Qi]=jo++);const h=c&va;o.data[s+(h>>Bc)]|=1<<h}(s,o,l)}function tl(s,o,l){if(l&gt.Optional||void 0!==s)return s;pt()}function uh(s,o,l,c){if(l&gt.Optional&&void 0===c&&(c=null),!(l&(gt.Self|gt.Host))){const h=s[Fs],g=Gt(void 0);try{return h?h.get(o,c,l&gt.Optional):Jt(o,c,l&gt.Optional)}finally{Gt(g)}}return tl(c,0,l)}function ch(s,o,l,c=gt.Default,h){if(null!==s){if(2048&o[At]&&!(c&gt.Self)){const y=function Uu(s,o,l,c,h){let g=s,y=o;for(;null!==g&&null!==y&&2048&y[At]&&!(512&y[At]);){const E=Lu(g,y,l,c|gt.Self,vs);if(E!==vs)return E;let D=g.parent;if(!D){const R=y[Vs];if(R){const P=R.get(l,vs,c);if(P!==vs)return P}D=Vu(y),y=y[fs]}g=D}return h}(s,o,l,c,vs);if(y!==vs)return y}const g=Lu(s,o,l,c,vs);if(g!==vs)return g}return uh(o,l,c,h)}function Lu(s,o,l,c,h){const g=function Vf(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Qi)?s[Qi]:void 0;return"number"==typeof o?o>=0?o&va:Hc:o}(l);if("function"==typeof g){if(!nh(o,s,c))return c&gt.Host?tl(h,0,c):uh(o,l,c,h);try{let y;if(y=g(c),null!=y||c&gt.Optional)return y;pt()}finally{bg()}}else if("number"==typeof g){let y=null,E=lh(s,o),D=_s,R=c&gt.Host?o[Pn][Zn]:null;for((-1===E||c&gt.SkipSelf)&&(D=-1===E?el(s,o):o[E+8],D!==_s&&ql(c,!1)?(y=o[rt],E=Ja(D),o=po(D,o)):E=-1);-1!==E;){const P=o[rt];if(nl(g,E,P.data)){const $=Uf(E,o,l,y,c,R);if($!==vs)return $}D=o[E+8],D!==_s&&ql(c,o[rt].data[E+8]===R)&&nl(g,E,o)?(y=P,E=Ja(D),o=po(D,o)):E=-1}}return h}function Uf(s,o,l,c,h,g){const y=o[rt],E=y.data[s+8],P=dh(E,y,l,null==c?oo(E)&&ys:c!=y&&0!=(3&E.type),h&gt.Host&&g===E);return null!==P?go(o,y,P,E):vs}function dh(s,o,l,c,h){const g=s.providerIndexes,y=o.data,E=1048575&g,D=s.directiveStart,P=g>>20,J=h?E+P:s.directiveEnd;for(let te=c?E:E+P;te<J;te++){const Ae=y[te];if(te<D&&l===Ae||te>=D&&Ae.type===l)return te}if(h){const te=y[D];if(te&&Jr(te)&&te.type===l)return D}return null}function go(s,o,l,c){let h=s[l];const g=o.data;if(function sh(s){return s instanceof pi}(h)){const y=h;y.resolving&&function je(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new le(-200,`Circular dependency in DI detected for ${s}${l}`)}(function Re(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():se(s)}(g[l]));const E=Xa(y.canSeeViewProviders);y.resolving=!0;const R=y.injectImpl?Gt(y.injectImpl):null;nh(s,c,gt.Default);try{h=s[l]=y.factory(void 0,g,s,c),o.firstCreatePass&&l>=c.directiveStart&&function Pu(s,o,l){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(c){const y=ho(o);(l.preOrderHooks??=[]).push(s,y),(l.preOrderCheckHooks??=[]).push(s,y)}h&&(l.preOrderHooks??=[]).push(0-s,h),g&&((l.preOrderHooks??=[]).push(s,g),(l.preOrderCheckHooks??=[]).push(s,g))}(l,g[l],o)}finally{null!==R&&Gt(R),Xa(E),y.resolving=!1,bg()}}return h}function nl(s,o,l){return!!(l[o+(s>>Bc)]&1<<s)}function ql(s,o){return!(s&gt.Self||s&gt.Host&&o)}class wr{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,c){return ch(this._tNode,this._lView,o,$n(c),l)}}function Hc(){return new wr(Sr(),Ee())}function rl(s){return ge(()=>{const o=s.prototype.constructor,l=o[Cr]||$o(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const g=h[Cr]||$o(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function $o(s){return qe(s)?()=>{const o=$o(Ue(s));return o&&o()}:lo(s)}function Vu(s){const o=s[rt],l=o.type;return 2===l?o.declTNode:1===l?s[Zn]:null}function $c(s){return function Ff(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const c=l.length;let h=0;for(;h<c;){const g=l[h];if(Il(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<c&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(Sr(),s)}const ws="__parameters__";function wa(s,o,l){return ge(()=>{const c=function Go(s){return function(...l){if(s){const c=s(...l);for(const h in c)this[h]=c[h]}}}(o);function h(...g){if(this instanceof h)return c.apply(this,g),this;const y=new h(...g);return E.annotation=y,E;function E(D,R,P){const $=D.hasOwnProperty(ws)?D[ws]:Object.defineProperty(D,ws,{value:[]})[ws];for(;$.length<=P;)$.push(null);return($[P]=$[P]||[]).push(y),D}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}function ee(s,o){s.forEach(l=>Array.isArray(l)?ee(l,o):o(l))}function we(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Ke(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function pn(s,o,l){let c=zs(s,o);return c>=0?s[1|c]=l:(c=~c,function Ht(s,o,l,c){let h=s.length;if(h==o)s.push(l,c);else if(1===h)s.push(c,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=c}}(s,c,o,l)),c}function Ea(s,o){const l=zs(s,o);if(l>=0)return s[1|l]}function zs(s,o){return function es(s,o,l){let c=0,h=s.length>>l;for(;h!==c;){const g=c+(h-c>>1),y=s[g<<l];if(o===y)return g<<l;y>o?h=g:c=g+1}return~(h<<l)}(s,o,1)}const ol=ar(wa("Optional"),8),ju=ar(wa("SkipSelf"),4);function zf(s){return 128==(128&s.flags)}var qf=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(qf||{});const Mg=new Map;let Zc=0;const Eh="__ngContext__";function Bi(s,o){ur(o)?(s[Eh]=o[Us],function ts(s){Mg.set(s[Us],s)}(o)):s[Eh]=o}let qu;function Th(s,o){return qu(s,o)}function Yc(s){const o=s[hn];return Tr(o)?o[hn]:o}function Kf(s){return ly(s[Dr])}function Ng(s){return ly(s[Yr])}function ly(s){for(;null!==s&&!Tr(s);)s=s[Yr];return s}function w(s,o,l,c,h){if(null!=c){let g,y=!1;Tr(c)?g=c:ur(c)&&(y=!0,c=c[kn]);const E=rn(c);0===s&&null!==l?null==h?Pg(o,l,E):al(o,l,E,h||null,!0):1===s&&null!==l?al(o,l,E,h||null,!0):2===s?function Fg(s,o,l){const c=Es(s,o);c&&function Og(s,o,l,c){s.removeChild(o,l,c)}(s,c,o,l)}(o,E,y):3===s&&o.destroyNode(E),null!=g&&function h0(s,o,l,c,h){const g=l[Kn];g!==rn(l)&&w(o,s,c,g,h);for(let E=nr;E<l.length;E++){const D=l[E];Ca(D[rt],D,s,o,c,g)}}(o,s,g,l,h)}}function x(s,o,l){return s.createElement(o,l)}function ft(s,o){const l=s[lr],c=l.indexOf(o);G(o),l.splice(c,1)}function Qn(s,o){if(s.length<=nr)return;const l=nr+o,c=s[l];if(c){const h=c[Cu];null!==h&&h!==s&&ft(h,c),o>0&&(s[l-1][Yr]=c[Yr]);const g=Ke(s,nr+o);!function O(s,o){Ca(s,o,o[St],2,null,null),o[kn]=null,o[Zn]=null}(c[rt],c);const y=g[yr];null!==y&&y.detachView(g[rt]),c[hn]=null,c[Yr]=null,c[At]&=-129}return c}function mo(s,o){if(!(256&o[At])){const l=o[St];o[Ji]?.destroy(),o[Mo]?.destroy(),l.destroyNode&&Ca(s,o,l,3,null,null),function He(s){let o=s[Dr];if(!o)return Wu(s[rt],s);for(;o;){let l=null;if(ur(o))l=o[Dr];else{const c=o[nr];c&&(l=c)}if(!l){for(;o&&!o[Yr]&&o!==s;)ur(o)&&Wu(o[rt],o),o=o[hn];null===o&&(o=s),ur(o)&&Wu(o[rt],o),l=o&&o[Yr]}o=l}}(o)}}function Wu(s,o){if(!(256&o[At])){o[At]&=-129,o[At]|=256,function cy(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let c=0;c<l.length;c+=2){const h=o[l[c]];if(!(h instanceof pi)){const g=l[c+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const E=h[g[y]],D=g[y+1];Oi(4,E,D);try{D.call(E)}finally{Oi(5,E,D)}}else{Oi(4,h,g);try{g.call(h)}finally{Oi(5,h,g)}}}}}(s,o),function uy(s,o){const l=s.cleanup,c=o[Fa];if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const y=l[g+3];y>=0?c[y]():c[-y].unsubscribe(),g+=2}else l[g].call(c[l[g+1]]);null!==c&&(o[Fa]=null);const h=o[so];if(null!==h){o[so]=null;for(let g=0;g<h.length;g++)(0,h[g])()}}(s,o),1===o[rt].type&&o[St].destroy();const l=o[Cu];if(null!==l&&Tr(o[hn])){l!==o[hn]&&ft(l,o);const c=o[yr];null!==c&&c.detachView(s)}!function Zf(s){Mg.delete(s[Us])}(o)}}function kg(s,o,l){return function dy(s,o,l){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return l[kn];{const{componentOffset:h}=c;if(h>-1){const{encapsulation:g}=s.data[c.directiveStart+h];if(g===Le.None||g===Le.Emulated)return null}return ei(c,l)}}(s,o.parent,l)}function al(s,o,l,c,h){s.insertBefore(o,l,c,h)}function Pg(s,o,l){s.appendChild(o,l)}function Zu(s,o,l,c,h){null!==c?al(s,o,l,c,h):Pg(s,o,l)}function Es(s,o){return s.parentNode(o)}let py,Rh,my,gC=function fy(s,o,l){return 40&s.type?ei(s,l):null};function Sh(s,o,l,c){const h=kg(s,c,o),g=o[St],E=function hy(s,o,l){return gC(s,o,l)}(c.parent||o[Zn],c,o);if(null!=h)if(Array.isArray(l))for(let D=0;D<l.length;D++)Zu(g,h,l[D],E,!1);else Zu(g,h,l,E,!1);void 0!==py&&py(g,c,o,l,h)}function Yu(s,o){if(null!==o){const l=o.type;if(3&l)return ei(o,s);if(4&l)return Lg(-1,s[o.index]);if(8&l){const c=o.child;if(null!==c)return Yu(s,c);{const h=s[o.index];return Tr(h)?Lg(-1,h):rn(h)}}if(32&l)return Th(o,s)()||rn(s[o.index]);{const c=_C(s,o);return null!==c?Array.isArray(c)?c[0]:Yu(Yc(s[Pn]),c):Yu(s,o.next)}}return null}function _C(s,o){return null!==o?s[Pn][Zn].projection[o.projection]:null}function Lg(s,o){const l=nr+s+1;if(l<o.length){const c=o[l],h=c[rt].firstChild;if(null!==h)return Yu(c,h)}return o[Kn]}function Ah(s,o,l,c,h,g,y){for(;null!=l;){const E=c[l.index],D=l.type;if(y&&0===o&&(E&&Bi(rn(E),c),l.flags|=2),32!=(32&l.flags))if(8&D)Ah(s,o,l.child,c,h,g,!1),w(o,s,h,E,g);else if(32&D){const R=Th(l,c);let P;for(;P=R();)w(o,s,h,P,g);w(o,s,h,E,g)}else 16&D?is(s,o,c,l,h,g):w(o,s,h,E,g);l=y?l.projectionNext:l.next}}function Ca(s,o,l,c,h,g){Ah(l,c,s.firstChild,o,h,g,!1)}function is(s,o,l,c,h,g){const y=l[Pn],D=y[Zn].projection[c.projection];if(Array.isArray(D))for(let R=0;R<D.length;R++)w(o,s,h,D[R],g);else{let R=D;const P=y[hn];zf(c)&&(R.flags|=128),Ah(s,o,R,P,h,g,!0)}}function ti(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function xh(s,o,l){const{mergedAttrs:c,classes:h,styles:g}=l;null!==c&&ci(s,o,c),null!==h&&ti(s,o,h),null!==g&&function Qu(s,o,l){s.setAttribute(o,"style",l)}(s,o,g)}function Is(s){Rh=s}function EC(s){return function Jc(){if(void 0===my&&(my=null,on.trustedTypes))try{my=on.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return my}()?.createScriptURL(s)||s}class yy{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Dt})`}}function _o(s){return s instanceof yy?s.changingThisBreaksApplicationSecurity:s}function Vg(s,o){const l=function hx(s){return s instanceof yy&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see ${Dt})`)}return l===o}const mx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Xf=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(Xf||{});function y0(s){const o=ll();return o?o.sanitize(Xf.URL,s)||"":Vg(s,"URL")?_o(s):function vy(s){return(s=String(s)).match(mx)?s:"unsafe:"+s}(se(s))}function AC(s){const o=ll();if(o)return EC(o.sanitize(Xf.RESOURCE_URL,s)||"");if(Vg(s,"ResourceURL"))return EC(_o(s));throw new le(904,!1)}function v0(s,o,l){return function Ix(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?AC:y0}(o,l)(s)}function ll(){const s=Ee();return s&&s[Ao].sanitizer}class Mn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Ut({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ep=new Mn("ENVIRONMENT_INITIALIZER"),w0=new Mn("INJECTOR",-1),$g=new Mn("INJECTOR_DEF_TYPES");class Oh{get(o,l=li){if(l===li){const c=new Error(`NullInjectorError: No provider for ${V(o)}!`);throw c.name="NullInjectorError",c}return l}}function xC(...s){return{\u0275providers:b0(0,s),\u0275fromNgModule:!0}}function b0(s,...o){const l=[],c=new Set;let h;const g=y=>{l.push(y)};return ee(o,y=>{const E=y;Lh(E,g,[],c)&&(h||=[],h.push(E))}),void 0!==h&&MC(h,g),l}function MC(s,o){for(let l=0;l<s.length;l++){const{ngModule:c,providers:h}=s[l];E0(h,g=>{o(g,c)})}}function Lh(s,o,l,c){if(!(s=Ue(s)))return!1;let h=null,g=or(s);const y=!g&&en(s);if(g||y){if(y&&!y.standalone)return!1;h=s}else{const D=s.ngModule;if(g=or(D),!g)return!1;h=D}const E=c.has(h);if(y){if(E)return!1;if(c.add(h),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const R of D)Lh(R,o,l,c)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let R;c.add(h);try{ee(g.imports,P=>{Lh(P,o,l,c)&&(R||=[],R.push(P))})}finally{}void 0!==R&&MC(R,o)}if(!E){const R=lo(h)||(()=>new h);o({provide:h,useFactory:R,deps:Je},h),o({provide:$g,useValue:h,multi:!0},h),o({provide:ep,useValue:()=>Nt(h),multi:!0},h)}const D=g.providers;if(null!=D&&!E){const R=s;E0(D,P=>{o(P,R)})}}}return h!==s&&void 0!==s.providers}function E0(s,o){for(let l of s)Ve(l)&&(l=l.\u0275providers),Array.isArray(l)?E0(l,o):o(l)}const Dx=z({provide:String,useValue:z});function Ey(s){return null!==s&&"object"==typeof s&&Dx in s}function Xu(s){return"function"==typeof s}const Iy=new Mn("Set Injector scope."),Gg={},zg={};let Ta;function Fh(){return void 0===Ta&&(Ta=new Oh),Ta}class ss{}class ed extends ss{get destroyed(){return this._destroyed}constructor(o,l,c,h){super(),this.parent=l,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,I0(o,y=>this.processProvider(y)),this.records.set(w0,np(void 0,this)),h.has("environment")&&this.records.set(ss,np(void 0,this));const g=this.records.get(Iy);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get($g.multi,Je,gt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of o)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const l=et(this),c=Gt(void 0);try{return o()}finally{et(l),Gt(c)}}get(o,l=li,c=gt.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(ia))return o[ia](this);c=$n(c);const g=et(this),y=Gt(void 0);try{if(!(c&gt.SkipSelf)){let D=this.records.get(o);if(void 0===D){const R=function xx(s){return"function"==typeof s||"object"==typeof s&&s instanceof Mn}(o)&&pr(o);D=R&&this.injectableDefInScope(R)?np(td(o),Gg):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(c&gt.Self?Fh():this.parent).get(o,l=c&gt.Optional&&l===li?null:l)}catch(E){if("NullInjectorError"===E.name){if((E[ui]=E[ui]||[]).unshift(V(o)),g)throw E;return function Ps(s,o,l,c){const h=s[ui];throw o[X]&&h.unshift(o[X]),s.message=function Pa(s,o,l,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=V(o);if(Array.isArray(o))h=o.map(V).join(" -> ");else if("object"==typeof o){let g=[];for(let y in o)if(o.hasOwnProperty(y)){let E=o[y];g.push(y+":"+("string"==typeof E?JSON.stringify(E):V(E)))}h=`{${g.join(", ")}}`}return`${l}${c?"("+c+")":""}[${h}]: ${s.replace(W,"\n  ")}`}("\n"+s.message,h,l,c),s.ngTokenPath=h,s[ui]=null,s}(E,o,"R3InjectorError",this.source)}throw E}finally{Gt(y),et(g)}}resolveInjectorInitializers(){const o=et(this),l=Gt(void 0);try{const h=this.get(ep.multi,Je,gt.Self);for(const g of h)g()}finally{et(o),Gt(l)}}toString(){const o=[],l=this.records;for(const c of l.keys())o.push(V(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(o){let l=Xu(o=Ue(o))?o:Ue(o&&o.provide);const c=function NC(s){return Ey(s)?np(void 0,s.useValue):np(kC(s),Gg)}(o);if(Xu(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=np(void 0,Gg,!0),h.factory=()=>bt(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,c)}hydrate(o,l){return l.value===Gg&&(l.value=zg,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Ax(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=Ue(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(o){const l=this._onDestroyHooks.indexOf(o);-1!==l&&this._onDestroyHooks.splice(l,1)}}function td(s){const o=pr(s),l=null!==o?o.factory:lo(s);if(null!==l)return l;if(s instanceof Mn)throw new le(204,!1);if(s instanceof Function)return function Cy(s){const o=s.length;if(o>0)throw function Ze(s,o){const l=[];for(let c=0;c<s;c++)l.push(o);return l}(o,"?"),new le(204,!1);const l=function bi(s){return s&&(s[Pr]||s[Ns])||null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new le(204,!1)}function kC(s,o,l){let c;if(Xu(s)){const h=Ue(s);return lo(h)||td(h)}if(Ey(s))c=()=>Ue(s.useValue);else if(function RC(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...bt(s.deps||[]));else if(function tp(s){return!(!s||!s.useExisting)}(s))c=()=>Nt(Ue(s.useExisting));else{const h=Ue(s&&(s.useClass||s.provide));if(!function Sx(s){return!!s.deps}(s))return lo(h)||td(h);c=()=>new h(...bt(s.deps))}return c}function np(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function I0(s,o){for(const l of s)Array.isArray(l)?I0(l,o):l&&Ve(l)?I0(l.\u0275providers,o):o(l)}const PC=new Mn("AppId",{providedIn:"root",factory:()=>Mx}),Mx="ng",OC=new Mn("Platform Initializer"),C0=new Mn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),D0=new Mn("CSP nonce",{providedIn:"root",factory:()=>function Da(){if(void 0!==Rh)return Rh;if(typeof document<"u")return document;throw new le(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let xy=(s,o,l)=>null;function Ry(s,o,l=!1){return xy(s,o,l)}class DP{}class Ox{}class AP{resolveComponentFactory(o){throw function TP(s){const o=Error(`No component factory found for ${V(s)}.`);return o.ngComponent=s,o}(o)}}let Oy=(()=>{class o{}return o.NULL=new AP,o})();function Fx(){return nd(Sr(),Ee())}function nd(s,o){return new qs(ei(s,o))}let qs=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=Fx,o})();function Ux(s){return s instanceof qs?s.nativeElement:s}class ip{}let xP=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function Vx(){const s=Ee(),l=Yn(Sr().index,s);return(ur(l)?l:s)[St]}(),o})(),Bx=(()=>{var s;class o{}return(s=o).\u0275prov=Ut({token:s,providedIn:"root",factory:()=>null}),o})();class R0{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Jg=new R0("16.2.3"),N0={};function BC(s,o=null,l=null,c){const h=jC(s,o,l,c);return h.resolveInjectorInitializers(),h}function jC(s,o=null,l=null,c,h=new Set){const g=[l||Je,xC(s)];return c=c||("object"==typeof s?void 0:V(s)),new ed(g,o||Fh(),c||null,h)}let Ql=(()=>{var s;class o{static create(c,h){if(Array.isArray(c))return BC({name:""},h,c,"");{const g=c.name??"";return BC({name:g},c.parent,c.providers,g)}}}return(s=o).THROW_IF_NOT_FOUND=li,s.NULL=new Oh,s.\u0275prov=Ut({token:s,providedIn:"any",factory:()=>Nt(w0)}),s.__NG_ELEMENT_ID__=-1,o})();function O0(s){return o=>{setTimeout(s,void 0,o)}}const Jl=class ap extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,c){let h=o,g=l||(()=>null),y=c;if(o&&"object"==typeof o){const D=o;h=D.next?.bind(D),g=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(g=O0(g),h&&(h=O0(h)),y&&(y=O0(y)));const E=super.subscribe({next:h,error:g,complete:y});return o instanceof ne.w0&&o.add(E),E}};function $C(...s){}class ji{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jl(!1),this.onMicrotaskEmpty=new Jl(!1),this.onStable=new Jl(!1),this.onError=new Jl(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&l,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function zx(){const s="function"==typeof on.requestAnimationFrame;let o=on[s?"requestAnimationFrame":"setTimeout"],l=on[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&l){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function GC(s){const o=()=>{!function Wx(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(on,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,F0(s),s.isCheckStableRunning=!0,L0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),F0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,h,g,y,E)=>{try{return em(s),l.invokeTask(h,g,y,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),U0(s)}},onInvoke:(l,c,h,g,y,E,D)=>{try{return em(s),l.invoke(h,g,y,E,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),U0(s)}},onHasTask:(l,c,h,g)=>{l.hasTask(h,g),c===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,F0(s),L0(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,c,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ji.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(ji.isInAngularZone())throw new le(909,!1)}run(o,l,c){return this._inner.run(o,l,c)}runTask(o,l,c,h){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+h,o,qx,$C,$C);try{return g.runTask(y,l,c)}finally{g.cancelTask(y)}}runGuarded(o,l,c){return this._inner.runGuarded(o,l,c)}runOutsideAngular(o){return this._outer.run(o)}}const qx={};function L0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function F0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function em(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function U0(s){s._nesting--,L0(s)}class lp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jl,this.onMicrotaskEmpty=new Jl,this.onStable=new Jl,this.onError=new Jl}run(o,l,c){return o.apply(l,c)}runGuarded(o,l,c){return o.apply(l,c)}runOutsideAngular(o){return o()}runTask(o,l,c,h){return o.apply(l,c)}}const V0=new Mn("",{providedIn:"root",factory:zC});function zC(){const s=jt(ji);let o=!0;const l=new B.y(h=>{o=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{h.next(o),h.complete()})}),c=new B.y(h=>{let g;s.runOutsideAngular(()=>{g=s.onStable.subscribe(()=>{ji.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(o=!0,h.next(!0))})})});const y=s.onUnstable.subscribe(()=>{ji.assertInAngularZone(),o&&(o=!1,s.runOutsideAngular(()=>{h.next(!1)}))});return()=>{g.unsubscribe(),y.unsubscribe()}});return(0,oe.T)(l,c.pipe((0,re.B)()))}function qC(s){return s.ownerDocument.defaultView}function WC(s){return s.ownerDocument}function dl(s){return s instanceof Function?s():s}let B0=(()=>{var s;class o{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new le(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const c of this.callbacks)c.invoke()}finally{this.runningCallbacks=!1;for(const c of this.deferredCallbacks)this.callbacks.add(c);this.deferredCallbacks.clear()}}register(c){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(c)}unregister(c){this.callbacks.delete(c),this.deferredCallbacks.delete(c)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(s=o).\u0275prov=Ut({token:s,providedIn:"root",factory:()=>new s}),o})();function id(s){for(;s;){s[At]|=64;const o=Yc(s);if(No(s)&&!o)return s;s=o}return null}function j0(s){return s.ngOriginalError}class cp{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&j0(o);for(;l&&j0(l);)l=j0(l);return l||null}}const H0=new Mn("",{providedIn:"root",factory:()=>!1});class Vy extends Tc{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(o){this._lView=o}onConsumerDependencyMayHaveChanged(){id(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(o,l,c){const h=jn(this);this.trackingVersion++;try{o(l,c)}finally{jn(h)}}destroy(){this.trackingVersion++}}let By=null;function G0(){return By??=new Vy,By}function nm(s,o){return s[o]??G0()}function z0(s,o){const l=G0();l.hasReadASignal&&(s[o]=By,l.lView=s,By=new Vy)}const Yt={};function eD(s){tD(fn(),Ee(),Ui()+s,!1)}function tD(s,o,l,c){if(!c)if(3==(3&o[At])){const g=s.preOrderCheckHooks;null!==g&&_a(o,g,l)}else{const g=s.preOrderHooks;null!==g&&ya(o,g,0,l)}pa(l)}function dp(s,o=gt.Default){const l=Ee();return null===l?Nt(s,o):ch(Sr(),l,Ue(s),o)}function nD(){throw new Error("invalid")}function Hy(s,o,l,c,h,g,y,E,D,R,P){const $=o.blueprint.slice();return $[kn]=h,$[At]=140|c,(null!==R||s&&2048&s[At])&&($[At]|=2048),T($),$[hn]=$[fs]=s,$[Bn]=l,$[Ao]=y||s&&s[Ao],$[St]=E||s&&s[St],$[Fs]=D||s&&s[Fs]||null,$[Zn]=g,$[Us]=function l0(){return Zc++}(),$[Qr]=P,$[Vs]=R,$[Pn]=2==o.type?s[Pn]:$,$}function hp(s,o,l,c,h){let g=s.data[o];if(null===g)g=function jh(s,o,l,c,h){const g=Nu(),y=Fr(),D=s.data[o]=function Xx(s,o,l,c,h,g){let y=o?o.injectorIndex:-1,E=0;return function Bl(){return null!==it.skipHydrationRootTNode}()&&(E|=128),{type:l,index:c,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,l,o,c,h);return null===s.firstChild&&(s.firstChild=D),null!==g&&(y?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D,D.prev=g)),D}(s,o,l,c,h),function Jd(){return it.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=l,g.value=c,g.attrs=h;const y=function rr(){const s=it.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return Hs(g,!0),g}function fp(s,o,l,c){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function rD(s,o,l,c,h){const g=nm(o,Ji),y=Ui(),E=2&c;try{if(pa(-1),E&&o.length>$t&&tD(s,o,$t,!1),Oi(E?2:0,h),E)g.runInContext(l,c,h);else{const R=jn(null);try{l(c,h)}finally{jn(R)}}}finally{E&&null===o[Ji]&&z0(o,Ji),pa(y),Oi(E?3:1,h)}}function q0(s,o,l){if(Ua(o)){const c=jn(null);try{const g=o.directiveEnd;for(let y=o.directiveStart;y<g;y++){const E=s.data[y];E.contentQueries&&E.contentQueries(1,l[y],y)}}finally{jn(c)}}}function W0(s,o,l){Za()&&(function t1(s,o,l,c){const h=l.directiveStart,g=l.directiveEnd;oo(l)&&function qP(s,o,l){const c=ei(o,s),h=Cs(l);let y=16;l.signals?y=4096:l.onPush&&(y=64);const E=Gy(s,Hy(s,h,null,y,c,o,null,s[Ao].rendererFactory.createRenderer(c,l),null,null,null));s[o.index]=E}(o,l,s.data[h+l.componentOffset]),s.firstCreatePass||jc(l,o),Bi(c,o);const y=l.initialInputs;for(let E=h;E<g;E++){const D=s.data[E],R=go(o,s,E,l);Bi(R,o),null!==y&&r1(0,E-h,R,D,0,y),Jr(D)&&(Yn(l.index,o)[Bn]=go(o,s,E,l))}}(s,o,l,ei(l,o)),64==(64&l.flags)&&cD(s,o,l))}function Z0(s,o,l=ei){const c=o.localNames;if(null!==c){let h=o.index+1;for(let g=0;g<c.length;g+=2){const y=c[g+1],E=-1===y?l(o,s):s[y];s[h++]=E}}}function Cs(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=K0(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):o}function K0(s,o,l,c,h,g,y,E,D,R,P){const $=$t+c,J=$+h,te=function iD(s,o){const l=[];for(let c=0;c<o;c++)l.push(c<s?null:Yt);return l}($,J),Ae="function"==typeof R?R():R;return te[rt]={type:s,blueprint:te,template:l,queries:null,viewQuery:E,declTNode:o,data:te.slice().fill(null,$),bindingStartIndex:$,expandoStartIndex:J,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:Ae,incompleteFirstPass:!1,ssrId:P}}let sD=s=>null;function $y(s,o,l,c){for(let h in s)if(s.hasOwnProperty(h)){l=null===l?{}:l;const g=s[h];null===c?Y0(l,o,h,g):c.hasOwnProperty(h)&&Y0(l,o,c[h],g)}return l}function Y0(s,o,l,c){s.hasOwnProperty(l)?s[l].push(o,c):s[l]=[o,c]}function ni(s,o,l,c,h,g,y,E){const D=ei(o,l);let P,R=o.inputs;!E&&null!=R&&(P=R[c])?(gD(s,l,P,c,h),oo(o)&&function e1(s,o){const l=Yn(o,s);16&l[At]||(l[At]|=64)}(l,o.index)):3&o.type&&(c=function aD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=y?y(h,o.value||"",c):h,g.setProperty(D,c,h))}function lD(s,o,l,c){if(Za()){const h=null===c?null:{"":-1},g=function dD(s,o){const l=s.directiveRegistry;let c=null,h=null;if(l)for(let g=0;g<l.length;g++){const y=l[g];if(wu(o,y.selectors,!1))if(c||(c=[]),Jr(y))if(null!==y.findHostDirectiveDefs){const E=[];h=h||new Map,y.findHostDirectiveDefs(y,E,h),c.unshift(...E,y),X0(s,o,E.length)}else c.unshift(y),X0(s,o,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,c,h),c.push(y)}return null===c?null:[c,h]}(s,l);let y,E;null===g?y=E=null:[y,E]=g,null!==y&&Q0(s,o,l,y,h,E),h&&function $P(s,o,l){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new le(-301,!1);c.push(o[h],g)}}}(l,c,h)}l.mergedAttrs=to(l.mergedAttrs,l.attrs)}function Q0(s,o,l,c,h,g){for(let R=0;R<c.length;R++)Ou(jc(l,o),s,c[R].type);!function zP(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}(l,s.data.length,c.length);for(let R=0;R<c.length;R++){const P=c[R];P.providersResolver&&P.providersResolver(P)}let y=!1,E=!1,D=fp(s,o,c.length,null);for(let R=0;R<c.length;R++){const P=c[R];l.mergedAttrs=to(l.mergedAttrs,P.hostAttrs),n1(s,l,o,D,P),GP(D,P,h),null!==P.contentQueries&&(l.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(l.flags|=64);const $=P.type.prototype;!y&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((s.preOrderHooks??=[]).push(l.index),y=!0),!E&&($.ngOnChanges||$.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(l.index),E=!0),D++}!function BP(s,o,l){const h=o.directiveEnd,g=s.data,y=o.attrs,E=[];let D=null,R=null;for(let P=o.directiveStart;P<h;P++){const $=g[P],J=l?l.get($):null,Ae=J?J.outputs:null;D=$y($.inputs,P,D,J?J.inputs:null),R=$y($.outputs,P,R,Ae);const ze=null===D||null===y||di(o)?null:i1(D,P,y);E.push(ze)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=8),D.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=E,o.inputs=D,o.outputs=R}(s,l,g)}function cD(s,o,l){const c=l.directiveStart,h=l.directiveEnd,g=l.index,y=function Mf(){return it.lFrame.currentDirectiveIndex}();try{pa(g);for(let E=c;E<h;E++){const D=s.data[E],R=o[E];wg(E),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&HP(D,R)}}finally{pa(-1),wg(y)}}function HP(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function X0(s,o,l){o.componentOffset=l,(s.components??=[]).push(o.index)}function GP(s,o,l){if(l){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)l[o.exportAs[c]]=s;Jr(o)&&(l[""]=s)}}function n1(s,o,l,c,h){s.data[c]=h;const g=h.factory||(h.factory=lo(h.type)),y=new pi(g,Jr(h),dp);s.blueprint[c]=y,l[c]=y,function uD(s,o,l,c,h){const g=h.hostBindings;if(g){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const E=~o.index;(function J0(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(y)!=E&&y.push(E),y.push(l,c,g)}}(s,o,c,fp(s,l,h.hostVars,Yt),h)}function hl(s,o,l,c,h,g){const y=ei(s,o);!function eb(s,o,l,c,h,g,y){if(null==g)s.removeAttribute(o,h,l);else{const E=null==y?se(g):y(g,c||"",h);s.setAttribute(o,h,E,l)}}(o[St],y,g,s.value,l,c,h)}function r1(s,o,l,c,h,g){const y=g[o];if(null!==y)for(let E=0;E<y.length;)tb(c,l,y[E++],y[E++],y[E++])}function tb(s,o,l,c,h){const g=jn(null);try{const y=s.inputTransforms;null!==y&&y.hasOwnProperty(c)&&(h=y[c].call(o,h)),null!==s.setInput?s.setInput(o,h,l,c):o[c]=h}finally{jn(g)}}function i1(s,o,l){let c=null,h=0;for(;h<l.length;){const g=l[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(s.hasOwnProperty(g)){null===c&&(c=[]);const y=s[g];for(let E=0;E<y.length;E+=2)if(y[E]===o){c.push(g,y[E+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return c}function hD(s,o,l,c){return[s,!0,!1,o,null,0,c,l,null,null,null]}function fD(s,o){const l=s.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const g=l[c+1];if(-1!==g){const y=s.data[g];th(l[c]),y.contentQueries(2,o[g],g)}}}function Gy(s,o){return s[Dr]?s[Bd][Yr]=o:s[Dr]=o,s[Bd]=o,o}function nb(s,o,l){th(0);const c=jn(null);try{o(s,l)}finally{jn(c)}}function pD(s){return s[Fa]||(s[Fa]=[])}function o1(s){return s.cleanup||(s.cleanup=[])}function l1(s,o){const l=s[Fs],c=l?l.get(cp,null):null;c&&c.handleError(o)}function gD(s,o,l,c,h){for(let g=0;g<l.length;){const y=l[g++],E=l[g++];tb(s.data[y],o[y],c,E,h)}}function WP(s,o){const l=Yn(o,s),c=l[rt];!function Xl(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])}(c,l);const h=l[kn];null!==h&&null===l[Qr]&&(l[Qr]=Ry(h,l[Fs])),rb(c,l,l[Bn])}function rb(s,o,l){Nf(o);try{const c=s.viewQuery;null!==c&&nb(1,c,l);const h=s.template;null!==h&&rD(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&fD(s,o),s.staticViewQueries&&nb(2,s.viewQuery,l);const g=s.components;null!==g&&function u1(s,o){for(let l=0;l<o.length;l++)WP(s,o[l])}(o,g)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[At]&=-5,Lc()}}let mD=(()=>{var s;class o{constructor(){this.all=new Set,this.queue=new Map}create(c,h,g){const y=typeof Zone>"u"?null:Zone.current,E=new Mc(c,P=>{this.all.has(P)&&this.queue.set(P,y)},g);let D;this.all.add(E),E.notify();const R=()=>{E.cleanup(),D?.(),this.all.delete(E),this.queue.delete(E)};return D=h?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[c,h]of this.queue)this.queue.delete(c),h?h.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}}return(s=o).\u0275prov=Ut({token:s,providedIn:"root",factory:()=>new s}),o})();function zy(s,o,l){let c=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let y=0;y<o.length;y++){const E=o[y];"number"==typeof E?g=E:1==g?h=Ge(h,E):2==g&&(c=Ge(c,E+": "+o[++y]+";"))}l?s.styles=c:s.stylesWithoutHost=c,l?s.classes=h:s.classesWithoutHost=h}function rm(s,o,l,c,h=!1){for(;null!==l;){const g=o[l.index];null!==g&&c.push(rn(g)),Tr(g)&&_D(g,c);const y=l.type;if(8&y)rm(s,o,l.child,c);else if(32&y){const E=Th(l,o);let D;for(;D=E();)c.push(D)}else if(16&y){const E=_C(o,l);if(Array.isArray(E))c.push(...E);else{const D=Yc(o[Pn]);rm(D[rt],D,E,c,!0)}}l=h?l.projectionNext:l.next}return c}function _D(s,o){for(let l=nr;l<s.length;l++){const c=s[l],h=c[rt].firstChild;null!==h&&rm(c[rt],c,h,o)}s[Kn]!==s[kn]&&o.push(s[Kn])}function qy(s,o,l,c=!0){const h=o[Ao],g=h.rendererFactory,y=h.afterRenderEventManager;g.begin?.(),y?.begin();try{Wy(s,o,s.template,l)}catch(D){throw c&&l1(o,D),D}finally{g.end?.(),h.effectManager?.flush(),y?.end()}}function Wy(s,o,l,c){const h=o[At];if(256!=(256&h)){o[Ao].effectManager?.flush(),Nf(o);try{T(o),function jl(s){return it.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&rD(s,o,l,2,c);const y=3==(3&h);if(y){const R=s.preOrderCheckHooks;null!==R&&_a(o,R,null)}else{const R=s.preOrderHooks;null!==R&&ya(o,R,0,null),Uo(o,0)}if(function ib(s){for(let o=Kf(s);null!==o;o=Ng(o)){if(!o[Al])continue;const l=o[lr];for(let c=0;c<l.length;c++){k(l[c])}}}(o),Cn(o,2),null!==s.contentQueries&&fD(s,o),y){const R=s.contentCheckHooks;null!==R&&_a(o,R)}else{const R=s.contentHooks;null!==R&&ya(o,R,1),Uo(o,1)}!function jy(s,o){const l=s.hostBindingOpCodes;if(null===l)return;const c=nm(o,Mo);try{for(let h=0;h<l.length;h++){const g=l[h];if(g<0)pa(~g);else{const y=g,E=l[++h],D=l[++h];eh(E,y),c.runInContext(D,2,o[y])}}}finally{null===o[Mo]&&z0(o,Mo),pa(-1)}}(s,o);const E=s.components;null!==E&&h1(o,E,0);const D=s.viewQuery;if(null!==D&&nb(2,D,c),y){const R=s.viewCheckHooks;null!==R&&_a(o,R)}else{const R=s.viewHooks;null!==R&&ya(o,R,2),Uo(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[At]&=-73,G(o)}finally{Lc()}}}function Cn(s,o){for(let l=Kf(s);null!==l;l=Ng(l))for(let c=nr;c<l.length;c++)mi(l[c],o)}function yD(s,o,l){mi(Yn(o,s),l)}function mi(s,o){if(!function Pc(s){return 128==(128&s[At])}(s))return;const l=s[rt];if(80&s[At]&&0===o||1024&s[At]||2===o)Wy(l,s,l.template,s[Bn]);else if(s[io]>0){Cn(s,1);const h=s[rt].components;null!==h&&h1(s,h,1)}}function h1(s,o,l){for(let c=0;c<o.length;c++)yD(s,o[c],l)}class Hh{get rootNodes(){const o=this._lView,l=o[rt];return rm(l,o,l.firstChild,[])}constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bn]}set context(o){this._lView[Bn]=o}get destroyed(){return 256==(256&this._lView[At])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[hn];if(Tr(o)){const l=o[8],c=l?l.indexOf(this):-1;c>-1&&(Qn(o,c),Ke(l,c))}this._attachedToViewContainer=!1}mo(this._lView[rt],this._lView)}onDestroy(o){!function yt(s,o){if(256==(256&s[At]))throw new le(911,!1);null===s[so]&&(s[so]=[]),s[so].push(o)}(this._lView,o)}markForCheck(){id(this._cdRefInjectingView||this._lView)}detach(){this._lView[At]&=-129}reattach(){this._lView[At]|=128}detectChanges(){qy(this._lView[rt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ie(s,o){Ca(s,o,o[St],2,null,null)}(this._lView[rt],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=o}}class Se extends Hh{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;qy(o[rt],o,o[Bn],!1)}checkNoChanges(){}get context(){return null}}class Ds extends Oy{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=en(o);return new im(l,this.ngModule)}}function Sa(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class U{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,c){c=$n(c);const h=this.injector.get(o,N0,c);return h!==N0||l===N0?h:this.parentInjector.get(o,l,c)}}class im extends Ox{get inputs(){const o=this.componentDef,l=o.inputTransforms,c=Sa(o.inputs);if(null!==l)for(const h of c)l.hasOwnProperty(h.propName)&&(h.transform=l[h.propName]);return c}get outputs(){return Sa(this.componentDef.outputs)}constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function Cl(s){return s.map(wc).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}create(o,l,c,h){let g=(h=h||this.ngModule)instanceof ss?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const y=g?new U(o,g):o,E=y.get(ip,null);if(null===E)throw new le(407,!1);const $={rendererFactory:E,sanitizer:y.get(Bx,null),effectManager:y.get(mD,null),afterRenderEventManager:y.get(B0,null)},J=E.createRenderer(null,this.componentDef),te=this.componentDef.selectors[0][0]||"div",Ae=c?function ec(s,o,l,c){const g=c.get(H0,!1)||l===Le.ShadowDom,y=s.selectRootElement(o,g);return function Jx(s){sD(s)}(y),y}(J,c,this.componentDef.encapsulation,y):x(J,te,function fl(s){const o=s.toLowerCase();return"svg"===o?Wd:"math"===o?"math":null}(te)),xt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Fe=null;null!==Ae&&(Fe=Ry(Ae,y,!0));const Zt=K0(0,null,null,1,0,null,null,null,null,null,null),un=Hy(null,Zt,null,xt,null,null,$,J,y,null,Fe);let Tn,xs;Nf(un);try{const Eo=this.componentDef;let Ad,eg=null;Eo.findHostDirectiveDefs?(Ad=[],eg=new Map,Eo.findHostDirectiveDefs(Eo,Ad,eg),Ad.push(Eo)):Ad=[Eo];const h_=function ct(s,o){const l=s[rt],c=$t;return s[c]=o,hp(l,c,2,"#host",null)}(un,Ae),fI=function sb(s,o,l,c,h,g,y){const E=h[rt];!function Qt(s,o,l,c){for(const h of s)o.mergedAttrs=to(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(zy(o,o.mergedAttrs,!0),null!==l&&xh(c,l,o))}(c,s,o,y);let D=null;null!==o&&(D=Ry(o,h[Fs]));const R=g.rendererFactory.createRenderer(o,l);let P=16;l.signals?P=4096:l.onPush&&(P=64);const $=Hy(h,Cs(l),null,P,h[s.index],s,g,R,null,null,D);return E.firstCreatePass&&X0(E,s,c.length-1),Gy(h,$),h[s.index]=$}(h_,Ae,Eo,Ad,un,$,J);xs=kc(Zt,$t),Ae&&function sm(s,o,l,c){if(c)ci(s,l,["ng-version",Jg.full]);else{const{attrs:h,classes:g}=function Ei(s){const o=[],l=[];let c=1,h=2;for(;c<s.length;){let g=s[c];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++c]):8===h&&l.push(g);else{if(!hi(h))break;h=g}c++}return{attrs:o,classes:l}}(o.selectors[0]);h&&ci(s,l,h),g&&g.length>0&&ti(s,l,g.join(" "))}}(J,Eo,Ae,c),void 0!==l&&function f1(s,o,l){const c=s.projection=[];for(let h=0;h<o.length;h++){const g=l[h];c.push(null!=g?Array.from(g):null)}}(xs,this.ngContentSelectors,l),Tn=function Zy(s,o,l,c,h,g){const y=Sr(),E=h[rt],D=ei(y,h);Q0(E,h,y,l,null,c);for(let P=0;P<l.length;P++)Bi(go(h,E,y.directiveStart+P,y),h);cD(E,h,y),D&&Bi(D,h);const R=go(h,E,y.directiveStart+y.componentOffset,y);if(s[Bn]=h[Bn]=R,null!==g)for(const P of g)P(R,o);return q0(E,y,s),R}(fI,Eo,Ad,eg,un,[ob]),rb(Zt,un,null)}finally{Lc()}return new pl(this.componentType,Tn,nd(xs,un),un,xs)}}class pl extends DP{constructor(o,l,c,h,g){super(),this.location=c,this._rootLView=h,this._tNode=g,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new Se(h),this.componentType=o}setInput(o,l){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),l))return;const g=this._rootLView;gD(g[rt],g,h,o,l),this.previousInputValues.set(o,l),id(Yn(this._tNode.index,g))}}get injector(){return new wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function ob(){const s=Sr();$l(Ee()[rt],s)}function ab(s){let o=function vD(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const c=[s];for(;o;){let h;if(Jr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new le(903,!1);h=o.\u0275dir}if(h){if(l){c.push(h);const y=s;y.inputs=Ci(s.inputs),y.inputTransforms=Ci(s.inputTransforms),y.declaredInputs=Ci(s.declaredInputs),y.outputs=Ci(s.outputs);const E=h.hostBindings;E&&od(s,E);const D=h.viewQuery,R=h.contentQueries;if(D&&Ky(s,D),R&&Hi(s,R),K(s.inputs,h.inputs),K(s.declaredInputs,h.declaredInputs),K(s.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),K(y.inputTransforms,h.inputTransforms)),Jr(h)&&h.data.animation){const P=s.data;P.animation=(P.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let y=0;y<g.length;y++){const E=g[y];E&&E.ngInherit&&E(s),E===ab&&(l=!1)}}o=Object.getPrototypeOf(o)}!function p1(s){let o=0,l=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=to(h.hostAttrs,l=to(l,h.hostAttrs))}}(c)}function Ci(s){return s===at?{}:s===Je?[]:s}function Ky(s,o){const l=s.viewQuery;s.viewQuery=l?(c,h)=>{o(c,h),l(c,h)}:o}function Hi(s,o){const l=s.contentQueries;s.contentQueries=l?(c,h,g)=>{o(c,h,g),l(c,h,g)}:o}function od(s,o){const l=s.hostBindings;s.hostBindings=l?(c,h)=>{o(c,h),l(c,h)}:o}function Yy(s){const o=s.inputConfig,l={};for(const c in o)if(o.hasOwnProperty(c)){const h=o[c];Array.isArray(h)&&h[2]&&(l[c]=h[2])}s.inputTransforms=l}function Qy(s){return!!am(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function am(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function eu(s,o,l){return s[o]=l}function $i(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function tc(s,o,l,c){const h=$i(s,o,l);return $i(s,o+1,c)||h}function lm(s,o,l,c){const h=Ee();return $i(h,Fo(),o)&&(fn(),hl(ir(),h,s,o,l,c)),lm}function _p(s,o,l,c){return $i(s,Fo(),l)?o+se(l)+c:Yt}function mm(s,o,l,c,h,g,y,E){const D=Ee(),R=fn(),P=s+$t,$=R.firstCreatePass?function kD(s,o,l,c,h,g,y,E,D){const R=o.consts,P=hp(o,s,4,y||null,C(R,E));lD(o,l,P,C(R,D)),$l(o,P);const $=P.tView=K0(2,P,c,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,R,null);return null!==o.queries&&(o.queries.template(o,P),$.queries=o.queries.embeddedTView(P)),P}(P,R,D,o,l,c,h,g,y):R.data[P];Hs($,!1);const J=PD(R,D,$,s);ga()&&Sh(R,D,J,$),Bi(J,D),Gy(D,D[P]=hD(J,D,J,$)),fi($)&&W0(R,D,$),null!=y&&Z0(D,$,E)}let PD=function OD(s,o,l,c){return ma(!0),o[St].createComment("")};function ud(s){return Li(function Yd(){return it.lFrame.contextLView}(),$t+s)}function ov(s,o,l){const c=Ee();return $i(c,Fo(),o)&&ni(fn(),ir(),c,s,o,c[St],l,!1),ov}function Ep(s,o,l,c,h){const y=h?"class":"style";gD(s,l,o.inputs[y],y,c)}function cd(s,o,l,c){const h=Ee(),g=fn(),y=$t+s,E=h[St],D=g.firstCreatePass?function LD(s,o,l,c,h,g){const y=o.consts,D=hp(o,s,2,c,C(y,h));return lD(o,l,D,C(y,g)),null!==D.attrs&&zy(D,D.attrs,!1),null!==D.mergedAttrs&&zy(D,D.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,D),D}(y,g,h,o,l,c):g.data[y],R=bb(g,h,D,E,o,s);h[y]=R;const P=fi(D);return Hs(D,!0),xh(E,R,D),32!=(32&D.flags)&&ga()&&Sh(g,h,R,D),0===function Vl(){return it.lFrame.elementDepthCount}()&&Bi(R,h),function Ru(){it.lFrame.elementDepthCount++}(),P&&(W0(g,h,D),q0(g,D,h)),null!==c&&Z0(h,D),cd}function _m(){let s=Sr();Fr()?function Ya(){it.lFrame.isParent=!1}():(s=s.parent,Hs(s,!1));const o=s;(function Ka(s){return it.skipHydrationRootTNode===s})(o)&&function e0(){it.skipHydrationRootTNode=null}(),function vg(){it.lFrame.elementDepthCount--}();const l=fn();return l.firstCreatePass&&($l(l,s),Ua(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Bo(s){return 0!=(8&s.flags)}(o)&&Ep(l,o,Ee(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Ar(s){return 0!=(16&s.flags)}(o)&&Ep(l,o,Ee(),o.stylesWithoutHost,!1),_m}function as(s,o,l,c){return cd(s,o,l,c),_m(),as}let bb=(s,o,l,c,h,g)=>(ma(!0),x(c,h,function wn(){return it.lFrame.currentNamespace}()));function uv(){return Ee()}function Cp(s){return!!s&&"function"==typeof s.then}function Dp(s){return!!s&&"function"==typeof s.subscribe}function cv(s,o,l,c){const h=Ee(),g=fn(),y=Sr();return function wm(s,o,l,c,h,g,y){const E=fi(c),R=s.firstCreatePass&&o1(s),P=o[Bn],$=pD(o);let J=!0;if(3&c.type||y){const ze=ei(c,o),ut=y?y(ze):ze,xt=$.length,Fe=y?un=>y(rn(un[c.index])):c.index;let Zt=null;if(!y&&E&&(Zt=function Db(s,o,l,c){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const y=h[g];if(y===l&&h[g+1]===c){const E=o[Fa],D=h[g+2];return E.length>D?E[D]:null}"string"==typeof y&&(g+=2)}return null}(s,o,h,c.index)),null!==Zt)(Zt.__ngLastListenerFn__||Zt).__ngNextListenerFn__=g,Zt.__ngLastListenerFn__=g,J=!1;else{g=Tb(c,o,P,g,!1);const un=l.listen(ut,h,g);$.push(g,un),R&&R.push(h,Fe,xt,xt+1)}}else g=Tb(c,o,P,g,!1);const te=c.outputs;let Ae;if(J&&null!==te&&(Ae=te[h])){const ze=Ae.length;if(ze)for(let ut=0;ut<ze;ut+=2){const Tn=o[Ae[ut]][Ae[ut+1]].subscribe(g),xs=$.length;$.push(g,Tn),R&&R.push(h,c.index,xs,-(xs+1))}}}(g,h,h[St],y,s,o,c),cv}function dv(s,o,l,c){try{return Oi(6,o,l),!1!==l(c)}catch(h){return l1(s,h),!1}finally{Oi(7,o,l)}}function Tb(s,o,l,c,h){return function g(y){if(y===Function)return c;id(s.componentOffset>-1?Yn(s.index,o):o);let D=dv(o,l,c,y),R=g.__ngNextListenerFn__;for(;R;)D=dv(o,l,R,y)&&D,R=R.__ngNextListenerFn__;return h&&!1===D&&y.preventDefault(),D}}function Sb(s=1){return function Eg(s){return(it.lFrame.contextLView=function Fc(s,o){for(;s>0;)o=o[fs],s--;return o}(s,it.lFrame.contextLView))[Bn]}(s)}function hv(s,o,l){return Tp(s,"",o,"",l),hv}function Tp(s,o,l,c,h){const g=Ee(),y=_p(g,o,l,c);return y!==Yt&&ni(fn(),ir(),g,s,y,g[St],h,!1),Tp}function ru(s,o){return s<<17|o<<2}function Ts(s){return s>>17&32767}function mv(s){return 2|s}function Rn(s){return(131068&s)>>2}function Ap(s,o){return-131069&s|o<<2}function zh(s){return 1|s}function $D(s,o,l,c,h){const g=s[l+1],y=null===o;let E=c?Ts(g):Rn(g),D=!1;for(;0!==E&&(!1===D||y);){const P=s[E+1];S1(s[E],o)&&(D=!0,s[E+1]=c?zh(P):mv(P)),E=c?Ts(P):Rn(P)}D&&(s[l+1]=c?mv(g):zh(g))}function S1(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&zs(s,o)>=0}function yv(s,o,l){return Ws(s,o,l,!1),yv}function kb(s,o){return Ws(s,o,null,!0),kb}function Ws(s,o,l,c){const h=Ee(),g=fn(),y=function Ur(s){const o=it.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}(2);g.firstUpdatePass&&function Pb(s,o,l,c){const h=s.data;if(null===h[l+1]){const g=h[Ui()],y=function vv(s,o){return o>=s.expandoStartIndex}(s,l);(function Lb(s,o){return 0!=(s.flags&(o?8:16))})(g,c)&&null===o&&!y&&(o=!1),o=function Im(s,o,l,c){const h=function Qa(s){const o=it.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(l=Dm(l=wv(null,s,o,l,c),o.attrs,c),g=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(l=wv(h,s,o,l,c),null===g){let D=function Cm(s,o,l){const c=l?o.classBindings:o.styleBindings;if(0!==Rn(c))return s[Ts(c)]}(s,o,c);void 0!==D&&Array.isArray(D)&&(D=wv(null,s,o,D[1],c),D=Dm(D,o.attrs,c),function N1(s,o,l,c){s[Ts(l?o.classBindings:o.styleBindings)]=c}(s,o,c,D))}else g=function Br(s,o,l){let c;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)c=Dm(c,s[g].hostAttrs,l);return Dm(c,o.attrs,l)}(s,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,c),function D1(s,o,l,c,h,g){let y=g?o.classBindings:o.styleBindings,E=Ts(y),D=Rn(y);s[c]=l;let P,R=!1;if(Array.isArray(l)?(P=l[1],(null===P||zs(l,P)>0)&&(R=!0)):P=l,h)if(0!==D){const J=Ts(s[E+1]);s[c+1]=ru(J,E),0!==J&&(s[J+1]=Ap(s[J+1],c)),s[E+1]=function gv(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=ru(E,0),0!==E&&(s[E+1]=Ap(s[E+1],c)),E=c;else s[c+1]=ru(D,0),0===E?E=c:s[D+1]=Ap(s[D+1],c),D=c;R&&(s[c+1]=mv(s[c+1])),$D(s,P,c,!0),$D(s,P,c,!1),function T1(s,o,l,c,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&zs(g,o)>=0&&(l[c+1]=zh(l[c+1]))}(o,P,s,c,g),y=ru(E,D),g?o.classBindings=y:o.styleBindings=y}(h,g,o,l,y,c)}}(g,s,y,c),o!==Yt&&$i(h,y,o)&&function Ob(s,o,l,c,h,g,y,E){if(!(3&o.type))return;const D=s.data,R=D[E+1],P=function Em(s){return 1==(1&s)}(R)?Tm(D,o,l,h,Rn(R),y):void 0;Sm(P)||(Sm(g)||function pv(s){return 2==(2&s)}(R)&&(g=Tm(D,null,l,h,E,y)),function vC(s,o,l,c,h){if(o)h?s.addClass(l,c):s.removeClass(l,c);else{let g=-1===c.indexOf("-")?void 0:qf.DashCase;null==h?s.removeStyle(l,c,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=qf.Important),s.setStyle(l,c,h,g))}}(c,y,On(Ui(),l),h,g))}(g,g.data[Ui()],h,h[St],s,h[y+1]=function su(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=V(_o(s)))),s}(o,l),c,y)}function wv(s,o,l,c,h){let g=null;const y=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<y&&(g=o[E],c=Dm(c,g.hostAttrs,h),g!==s);)E++;return null!==s&&(l.directiveStylingLast=E),c}function Dm(s,o,l){const c=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const y=o[g];"number"==typeof y?h=y:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),pn(s,y,!!l||o[++g]))}return void 0===s?null:s}function Tm(s,o,l,c,h,g){const y=null===o;let E;for(;h>0;){const D=s[h],R=Array.isArray(D),P=R?D[1]:D,$=null===P;let J=l[h+1];J===Yt&&(J=$?Je:void 0);let te=$?Ea(J,c):P===c?J:void 0;if(R&&!Sm(te)&&(te=Ea(D,c)),Sm(te)&&(E=te,y))return E;const Ae=s[h+1];h=y?Ts(Ae):Rn(Ae)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(E=Ea(D,c))}return E}function Sm(s){return void 0!==s}function JD(s,o=""){const l=Ee(),c=fn(),h=s+$t,g=c.firstCreatePass?hp(c,h,1,o,null):c.data[h],y=Fb(c,l,g,o,s);l[h]=y,ga()&&Sh(c,l,y,g),Hs(g,!1)}let Fb=(s,o,l,c,h)=>(ma(!0),function p(s,o){return s.createText(o)}(o[St],c));function bv(s){return Mp("",s,""),bv}function Mp(s,o,l){const c=Ee(),h=_p(c,s,o,l);return h!==Yt&&function sd(s,o,l){const c=On(o,s);!function m(s,o,l){s.setValue(o,l)}(s[St],c,l)}(c,Ui(),h),Mp}const zi=void 0;var Av=["en",[["a","p"],["AM","PM"],zi],[["AM","PM"],zi,zi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zi,"{1} 'at' {0}",zi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ls(s){const l=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let ic={};function kp(s){const o=function L1(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=cT(o);if(l)return l;const c=o.split("-")[0];if(l=cT(c),l)return l;if("en"===c)return Av;throw new le(701,!1)}function Kh(s){return kp(s)[hd.PluralCase]}function cT(s){return s in ic||(ic[s]=on.ng&&on.ng.common&&on.ng.common.locales&&on.ng.common.locales[s]),ic[s]}var hd=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(hd||{});const Pp="en-US";let Si=Pp;function tE(s,o,l,c,h){if(s=Ue(s),Array.isArray(s))for(let g=0;g<s.length;g++)tE(s[g],o,l,c,h);else{const g=fn(),y=Ee(),E=Sr();let D=Xu(s)?s:Ue(s.provide);const R=kC(s),P=1048575&E.providerIndexes,$=E.directiveStart,J=E.providerIndexes>>20;if(Xu(s)||!s.multi){const te=new pi(R,h,dp),Ae=rE(D,o,h?P:P+J,$);-1===Ae?(Ou(jc(E,y),g,D),nE(g,s,o.length),o.push(D),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),l.push(te),y.push(te)):(l[Ae]=te,y[Ae]=te)}else{const te=rE(D,o,P+J,$),Ae=rE(D,o,P,P+J),ut=Ae>=0&&l[Ae];if(h&&!ut||!h&&!(te>=0&&l[te])){Ou(jc(E,y),g,D);const xt=function AT(s,o,l,c,h){const g=new pi(s,l,dp);return g.multi=[],g.index=o,g.componentProviders=0,TT(g,h,c&&!l),g}(h?ST:rM,l.length,h,c,R);!h&&ut&&(l[Ae].providerFactory=xt),nE(g,s,o.length,0),o.push(D),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),l.push(xt),y.push(xt)}else nE(g,s,te>-1?te:Ae,TT(l[h?Ae:te],R,!h&&c));!h&&c&&ut&&l[Ae].componentProviders++}}}function nE(s,o,l,c){const h=Xu(o),g=function Tx(s){return!!s.useClass}(o);if(h||g){const D=(g?Ue(o.useClass):o).prototype.ngOnDestroy;if(D){const R=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const P=R.indexOf(l);-1===P?R.push(l,[c,D]):R[P+1].push(c,D)}else R.push(l,D)}}}function TT(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function rE(s,o,l,c){for(let h=l;h<c;h++)if(o[h]===s)return h;return-1}function rM(s,o,l,c){return iE(this.multi,[])}function ST(s,o,l,c){const h=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=go(l,l[rt],this.providerFactory.index,c);g=E.slice(0,y),iE(h,g);for(let D=y;D<E.length;D++)g.push(E[D])}else g=[],iE(h,g);return g}function iE(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function sE(s,o=[]){return l=>{l.providersResolver=(c,h)=>function nM(s,o,l){const c=fn();if(c.firstCreatePass){const h=Jr(s);tE(l,c.data,c.blueprint,h,!0),tE(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class ef{}class jv{}function qi(s,o){return new lu(s,o??null,[])}class lu extends ef{constructor(o,l,c){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ds(this);const h=Kr(o);this._bootstrapComponents=dl(h.bootstrap),this._r3Injector=jC(o,l,[{provide:ef,useValue:this},{provide:Oy,useValue:this.componentFactoryResolver},...c],V(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Hv extends jv{constructor(o){super(),this.moduleType=o}create(o){return new lu(this.moduleType,o,[])}}class Lm extends ef{constructor(o){super(),this.componentFactoryResolver=new Ds(this),this.instance=null;const l=new ed([...o.providers,{provide:ef,useValue:this},{provide:Oy,useValue:this.componentFactoryResolver}],o.parent||Fh(),o.debugName,new Set(["environment"]));this.injector=l,o.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Wi(s,o,l=null){return new Lm({providers:s,parent:o,debugName:l,runEnvironmentInitializers:!0}).injector}let dr=(()=>{var s;class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const h=b0(0,c.type),g=h.length>0?Wi([h],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,g)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return(s=o).\u0275prov=Ut({token:s,providedIn:"environment",factory:()=>new s(Nt(ss))}),o})();function oE(s){s.getStandaloneInjector=o=>o.get(dr).getOrCreateStandaloneInjector(s)}function oc(s,o,l,c,h){return function Bm(s,o,l,c,h,g,y){const E=o+l;return tc(s,E,h,g)?eu(s,E+2,y?c.call(y,h,g):c(h,g)):Fp(s,E+2)}(Ee(),Fi(),s,o,l,c,h)}function nf(s,o,l,c,h,g,y){return function hE(s,o,l,c,h,g,y,E,D){const R=o+l;return function yo(s,o,l,c,h,g){const y=tc(s,o,l,c);return tc(s,o+2,h,g)||y}(s,R,h,g,y,E)?eu(s,R+4,D?c.call(D,h,g,y,E):c(h,g,y,E)):Fp(s,R+4)}(Ee(),Fi(),s,o,l,c,h,g,y)}function Fp(s,o){const l=s[o];return l===Yt?void 0:l}function NT(s,o){const l=fn();let c;const h=s+$t;l.firstCreatePass?(c=function kT(s,o){if(o)for(let l=o.length-1;l>=0;l--){const c=o[l];if(s===c.name)return c}}(o,l.pipeRegistry),l.data[h]=c,c.onDestroy&&(l.destroyHooks??=[]).push(h,c.onDestroy)):c=l.data[h];const g=c.factory||(c.factory=lo(c.type)),E=Gt(dp);try{const D=Xa(!1),R=g();return Xa(D),function E1(s,o,l,c){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=c}(l,Ee(),h,R),R}finally{Gt(E)}}function fE(s,o,l){const c=s+$t,h=Ee(),g=Li(h,c);return function cu(s,o){return s[rt].data[o].pure}(h,c)?function dE(s,o,l,c,h,g){const y=o+l;return $i(s,y,h)?eu(s,y+1,g?c.call(g,h):c(h)):Fp(s,y+1)}(h,Fi(),o,g.transform,l,g):g.transform(l)}function lM(){return this._results[Symbol.iterator]()}class zv{get changes(){return this._changes||(this._changes=new Jl)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=zv.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=lM)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const c=this;c.dirty=!1;const h=function Y(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function j(s,o,l){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],g=o[c];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(c._results,h,l))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Vp(s,o,l,c=!0){const h=o[rt];if(function Qe(s,o,l,c){const h=nr+c,g=l.length;c>0&&(l[h-1][Yr]=o),c<g-nr?(o[Yr]=l[h],we(l,nr+c,o)):(l.push(o),o[Yr]=null),o[hn]=l;const y=o[Cu];null!==y&&l!==y&&function ht(s,o){const l=s[lr];o[Pn]!==o[hn][hn][Pn]&&(s[Al]=!0),null===l?s[lr]=[o]:l.push(o)}(y,o);const E=o[yr];null!==E&&E.insertView(s),o[At]|=128}(h,o,s,l),c){const g=Lg(l,s),y=o[St],E=Es(y,s[Kn]);null!==E&&function Z(s,o,l,c,h,g){c[kn]=h,c[Zn]=o,Ca(s,c,l,1,h,g)}(h,s[Zn],y,o,E,g)}}let sf=(()=>{class o{}return o.__NG_ELEMENT_ID__=UT,o})();const FT=sf,pE=class extends FT{constructor(o,l,c){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,l){return this.createEmbeddedViewImpl(o,l)}createEmbeddedViewImpl(o,l,c){const h=function _n(s,o,l,c){const h=o.tView,E=Hy(s,h,l,4096&s[At]?4096:16,null,o,null,null,null,c?.injector??null,c?.hydrationInfo??null);E[Cu]=s[o.index];const R=s[yr];return null!==R&&(E[yr]=R.createEmbeddedView(h)),rb(h,E,l),E}(this._declarationLView,this._declarationTContainer,o,{injector:l,hydrationInfo:c});return new Hh(h)}};function UT(){return jm(Sr(),Ee())}function jm(s,o){return 4&s.type?new pE(o,s,nd(s,o)):null}let Bp=(()=>{class o{}return o.__NG_ELEMENT_ID__=af,o})();function af(){return _E(Sr(),Ee())}const Hm=Bp,$m=class extends Hm{constructor(o,l,c){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=c}get element(){return nd(this._hostTNode,this._hostLView)}get injector(){return new wr(this._hostTNode,this._hostLView)}get parentInjector(){const o=el(this._hostTNode,this._hostLView);if(oh(o)){const l=po(o,this._hostLView),c=Ja(o);return new wr(l[rt].data[c+8],l)}return new wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Gm(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-nr}createEmbeddedView(o,l,c){let h,g;"number"==typeof c?h=c:null!=c&&(h=c.index,g=c.injector);const E=o.createEmbeddedViewImpl(l||{},g,null);return this.insertImpl(E,h,false),E}createComponent(o,l,c,h,g){const y=o&&!function N(s){return"function"==typeof s}(o);let E;if(y)E=l;else{const ze=l||{};E=ze.index,c=ze.injector,h=ze.projectableNodes,g=ze.environmentInjector||ze.ngModuleRef}const D=y?o:new im(en(o)),R=c||this.parentInjector;if(!g&&null==D.ngModule){const ut=(y?R:this.parentInjector).get(ss,null);ut&&(g=ut)}en(D.componentType??{});const te=D.create(R,h,null,g);return this.insertImpl(te.hostView,E,false),te}insert(o,l){return this.insertImpl(o,l,!1)}insertImpl(o,l,c){const h=o._lView;if(function ha(s){return Tr(s[hn])}(h)){const D=this.indexOf(o);if(-1!==D)this.detach(D);else{const R=h[hn],P=new $m(R,R[Zn],R[hn]);P.detach(P.indexOf(o))}}const y=this._adjustIndex(l),E=this._lContainer;return Vp(E,h,y,!c),o.attachToViewContainerRef(),we(Wv(E),y,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Gm(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),c=Qn(this._lContainer,l);c&&(Ke(Wv(this._lContainer),l),mo(c[rt],c))}detach(o){const l=this._adjustIndex(o,-1),c=Qn(this._lContainer,l);return c&&null!=Ke(Wv(this._lContainer),l)?new Hh(c):null}_adjustIndex(o,l=0){return o??this.length+l}};function Gm(s){return s[8]}function Wv(s){return s[8]||(s[8]=[])}function _E(s,o){let l;const c=o[s.index];return Tr(c)?l=c:(l=hD(c,o,null,s),o[s.index]=l,Gy(o,l)),yE(l,o,s,c),new $m(l,s,o)}let yE=function lf(s,o,l,c){if(s[Kn])return;let h;h=8&l.type?rn(c):function ac(s,o){const l=s[St],c=l.createComment(""),h=ei(o,s);return al(l,Es(l,h),c,function Ku(s,o){return s.nextSibling(o)}(l,h),!1),c}(o,l),s[Kn]=h};class jp{constructor(o){this.queryList=o,this.matches=null}clone(){return new jp(this.queryList)}setDirty(){this.queryList.setDirty()}}class zm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const c=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<c;g++){const y=l.getByIndex(g);h.push(this.queries[y.indexInDeclarationView].clone())}return new zm(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==yl(o,l).matches&&this.queries[l].setDirty()}}class bd{constructor(o,l,c=null){this.predicate=o,this.flags=l,this.read=c}}class us{constructor(o=[]){this.queries=o}elementStart(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let c=0;c<this.length;c++){const h=null!==l?l.length:0,g=this.getByIndex(c).embeddedTView(o,h);g&&(g.indexInDeclarationView=c,null!==l?l.push(g):l=[g])}return null!==l?new us(l):null}template(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class qm{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new qm(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const g=c[h];this.matchTNodeWithReadOption(o,l,Zv(l,g)),this.matchTNodeWithReadOption(o,l,dh(l,o,g,!1,!1))}else c===sf?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,dh(l,o,c,!1,!1))}matchTNodeWithReadOption(o,l,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===qs||h===Bp||h===sf&&4&l.type)this.addMatch(l.index,-2);else{const g=dh(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,c)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function Zv(s,o){const l=s.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===o)return l[c+1];return null}function $T(s,o,l,c){return-1===l?function Wm(s,o){return 11&s.type?nd(s,o):4&s.type?jm(s,o):null}(o,s):-2===l?function wE(s,o,l){return l===qs?nd(o,s):l===sf?jm(o,s):l===Bp?_E(o,s):void 0}(s,o,c):go(s,s[rt],l,o)}function Hp(s,o,l,c){const h=o[yr].queries[c];if(null===h.matches){const g=s.data,y=l.matches,E=[];for(let D=0;D<y.length;D+=2){const R=y[D];E.push(R<0?null:$T(o,g[R],y[D+1],l.metadata.read))}h.matches=E}return h.matches}function Kv(s,o,l,c){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const y=Hp(s,o,h,l);for(let E=0;E<g.length;E+=2){const D=g[E];if(D>0)c.push(y[E/2]);else{const R=g[E+1],P=o[-D];for(let $=nr;$<P.length;$++){const J=P[$];J[Cu]===J[hn]&&Kv(J[rt],J,R,c)}if(null!==P[lr]){const $=P[lr];for(let J=0;J<$.length;J++){const te=$[J];Kv(te[rt],te,R,c)}}}}}return c}function bE(s){const o=Ee(),l=fn(),c=Rf();th(c+1);const h=yl(l,c);if(s.dirty&&function da(s){return 4==(4&s[At])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Kv(l,o,c,[]):Hp(l,o,h,c);s.reset(g,Ux),s.notifyOnChanges()}return!0}return!1}function GT(s,o,l){const c=fn();c.firstCreatePass&&($p(c,new bd(s,o,l),-1),2==(2&o)&&(c.staticViewQueries=!0)),EE(c,Ee(),o)}function du(s,o,l,c){const h=fn();if(h.firstCreatePass){const g=Sr();$p(h,new bd(o,l,c),g.index),function qT(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}EE(h,Ee(),l)}function zT(){return function wo(s,o){return s[yr].queries[o].queryList}(Ee(),Rf())}function EE(s,o,l){const c=new zv(4==(4&l));(function VP(s,o,l,c){const h=pD(o);h.push(l),s.firstCreatePass&&o1(s).push(c,h.length-1)})(s,o,c,c.destroy),null===o[yr]&&(o[yr]=new zm),o[yr].queries.push(new jp(c))}function $p(s,o,l){null===s.queries&&(s.queries=new us),s.queries.track(new qm(o,l))}function yl(s,o){return s.queries.getByIndex(o)}function Yv(s){return!!Kr(s)}const kE=new Mn("Application Initializer");let PE=(()=>{var s;class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h}),this.appInits=jt(kE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const g of this.appInits){const y=g();if(Cp(y))c.push(y);else if(Dp(y)){const E=new Promise((D,R)=>{y.subscribe({complete:D,error:R})});c.push(E)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{h()}).catch(g=>{this.reject(g)}),0===c.length&&h(),this.initialized=!0}}return(s=o).\u0275fac=function(c){return new(c||s)},s.\u0275prov=Ut({token:s,factory:s.\u0275fac,providedIn:"root"}),o})(),rS=(()=>{var s;class o{log(c){console.log(c)}warn(c){console.warn(c)}}return(s=o).\u0275fac=function(c){return new(c||s)},s.\u0275prov=Ut({token:s,factory:s.\u0275fac,providedIn:"platform"}),o})();const uw=new Mn("LocaleId",{providedIn:"root",factory:()=>jt(uw,gt.Optional|gt.SkipSelf)||function IM(){return typeof $localize<"u"&&$localize.locale||Pp}()}),OE=new Mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let $r=(()=>{var s;class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ue.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(s=o).\u0275fac=function(c){return new(c||s)},s.\u0275prov=Ut({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();class LE{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let iS=(()=>{var s;class o{compileModuleSync(c){return new Hv(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const h=this.compileModuleSync(c),y=dl(Kr(c).declarations).reduce((E,D)=>{const R=en(D);return R&&E.push(new im(R)),E},[]);return new LE(h,y)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return(s=o).\u0275fac=function(c){return new(c||s)},s.\u0275prov=Ut({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();const BE=new Mn(""),i_=new Mn("");let ff,df=(()=>{var s;class o{constructor(c,h,g){this._ngZone=c,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ff||(function hf(s){ff=s}(g),g.addToWindow(h)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ji.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(c)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,h,g){let y=-1;h&&h>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==y),c(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:c,timeoutId:y,updateCb:g})}whenStable(c,h,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,h,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,h,g){return[]}}return(s=o).\u0275fac=function(c){return new(c||s)(Nt(ji),Nt(Dd),Nt(i_))},s.\u0275prov=Ut({token:s,factory:s.\u0275fac}),o})(),Dd=(()=>{var s;class o{constructor(){this._applications=new Map}registerApplication(c,h){this._applications.set(c,h)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,h=!0){return ff?.findTestabilityInTree(this,c,h)??null}}return(s=o).\u0275fac=function(c){return new(c||s)},s.\u0275prov=Ut({token:s,factory:s.\u0275fac,providedIn:"platform"}),o})(),dc=null;const cw=new Mn("AllowMultipleToken"),s_=new Mn("PlatformDestroyListeners"),dw=new Mn("appBootstrapListener");class hw{constructor(o,l){this.name=o,this.token=l}}function gS(s,o,l=[]){const c=`Platform: ${o}`,h=new Mn(c);return(g=[])=>{let y=hc();if(!y||y.injector.get(cw,!1)){const E=[...l,...g,{provide:h,useValue:!0}];s?s(E):function o_(s){if(dc&&!dc.get(cw,!1))throw new le(400,!1);(function jE(){!function Ol(s){Pl=s}(()=>{throw new le(600,!1)})})(),dc=s;const o=s.get(fc);(function pS(s){s.get(OC,null)?.forEach(l=>l())})(s)}(function mS(s=[],o){return Ql.create({name:o,providers:[{provide:Iy,useValue:"platform"},{provide:s_,useValue:new Set([()=>dc=null])},...s]})}(E,c))}return function LM(s){const o=hc();if(!o)throw new le(401,!1);return o}()}}function hc(){return dc?.get(fc)??null}let fc=(()=>{var s;class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,h){const g=function FM(s="zone.js",o){return"noop"===s?new lp:"zone.js"===s?new ji(o):s}(h?.ngZone,function HE(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return g.run(()=>{const y=function sr(s,o,l){return new lu(s,o,l)}(c.moduleType,this.injector,function vS(s){return[{provide:ji,useFactory:s},{provide:ep,multi:!0,useFactory:()=>{const o=jt(yS,{optional:!0});return()=>o.initialize()}},{provide:pw,useFactory:zE},{provide:V0,useFactory:zC}]}(()=>g)),E=y.injector.get(cp,null);return g.runOutsideAngular(()=>{const D=g.onError.subscribe({next:R=>{E.handleError(R)}});y.onDestroy(()=>{Kp(this._modules,y),D.unsubscribe()})}),function $E(s,o,l){try{const c=l();return Cp(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(E,g,()=>{const D=y.injector.get(PE);return D.runInitializers(),D.donePromise.then(()=>(function Yh(s){st(s,"Expected localeId to be defined"),"string"==typeof s&&(Si=s.toLowerCase().replace(/_/g,"-"))}(y.injector.get(uw,Pp)||Pp),this._moduleDoBootstrap(y),y))})})}bootstrapModule(c,h=[]){const g=_S({},h);return function hS(s,o,l){const c=new Hv(l);return Promise.resolve(c)}(0,0,c).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(c){const h=c.injector.get(Td);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(g=>h.bootstrap(g));else{if(!c.instance.ngDoBootstrap)throw new le(-403,!1);c.instance.ngDoBootstrap(h)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const c=this._injector.get(s_,null);c&&(c.forEach(h=>h()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(s=o).\u0275fac=function(c){return new(c||s)(Nt(Ql))},s.\u0275prov=Ut({token:s,factory:s.\u0275fac,providedIn:"platform"}),o})();function _S(s,o){return Array.isArray(o)?o.reduce(_S,s):{...s,...o}}let Td=(()=>{var s;class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=jt(pw),this.zoneIsStable=jt(V0),this.componentTypes=[],this.components=[],this.isStable=jt($r).hasPendingTasks.pipe((0,Be.w)(c=>c?(0,ve.of)(!1):this.zoneIsStable),(0,ye.x)(),(0,re.B)()),this._injector=jt(ss)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,h){const g=c instanceof Ox;if(!this._injector.get(PE).done)throw!g&&ro(c),new le(405,!1);let E;E=g?c:this._injector.get(Oy).resolveComponentFactory(c),this.componentTypes.push(E.componentType);const D=function fS(s){return s.isBoundToModule}(E)?void 0:this._injector.get(ef),P=E.create(Ql.NULL,[],h||E.selector,D),$=P.location.nativeElement,J=P.injector.get(BE,null);return J?.registerApplication($),P.onDestroy(()=>{this.detachView(P.hostView),Kp(this.components,P),J?.unregisterApplication($)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const h=c;this._views.push(h),h.attachToAppRef(this)}detachView(c){const h=c;Kp(this._views,h),h.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const h=this._injector.get(dw,[]);h.push(...this._bootstrapListeners),h.forEach(g=>g(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Kp(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new le(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(s=o).\u0275fac=function(c){return new(c||s)},s.\u0275prov=Ut({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();function Kp(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}const pw=new Mn("",{providedIn:"root",factory:()=>jt(cp).handleError.bind(void 0)});function zE(){const s=jt(ji),o=jt(cp);return l=>s.runOutsideAngular(()=>o.handleError(l))}let yS=(()=>{var s;class o{constructor(){this.zone=jt(ji),this.applicationRef=jt(Td)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(s=o).\u0275fac=function(c){return new(c||s)},s.\u0275prov=Ut({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();function gw(){return!1}let l_=(()=>{class o{}return o.__NG_ELEMENT_ID__=wS,o})();function wS(s){return function bS(s,o,l){if(oo(s)&&!l){const c=Yn(s.index,o);return new Hh(c,c)}return 47&s.type?new Hh(o[Pn],o):null}(Sr(),Ee(),16==(16&s))}class CS{constructor(){}supports(o){return Qy(o)}create(o){return new $M(o)}}const DS=(s,o)=>o;class $M{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||DS}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,c=this._removalsHead,h=0,g=null;for(;l||c;){const y=!c||l&&l.currentIndex<XE(c,h,g)?l:c,E=XE(y,h,g),D=y.currentIndex;if(y===c)h--,c=c._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{g||(g=[]);const R=E-h,P=D-h;if(R!=P){for(let J=0;J<R;J++){const te=J<g.length?g[J]:g[J]=0,Ae=te+J;P<=Ae&&Ae<R&&(g[J]=te+1)}g[y.previousIndex]=P-R}}E!==D&&o(y,E,D)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Qy(o))throw new le(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,y,l=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],y=this._trackByFn(E,g),null!==l&&Object.is(l.trackById,y)?(c&&(l=this._verifyReinsertion(l,g,y,E)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,y,E),c=!0),l=l._next}else h=0,function ID(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Symbol.iterator]();let c;for(;!(c=l.next()).done;)o(c.value)}}(o,E=>{y=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,y)?(c&&(l=this._verifyReinsertion(l,E,y,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,y,h),c=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,c,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new TS(l,c),g,h),o}_verifyReinsertion(o,l,c,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,c),this._addToMoves(o,c),o}_moveAfter(o,l,c){return this._unlink(o),this._insertAfter(o,l,c),this._addToMoves(o,c),o}_addAfter(o,l,c){return this._insertAfter(o,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,c){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new Yp),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,c=o._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yp),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class TS{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mf{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const l=o._prevDup,c=o._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class Yp{constructor(){this.map=new Map}put(o){const l=o.trackById;let c=this.map.get(l);c||(c=new mf,this.map.set(l,c)),c.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function XE(s,o,l){const c=s.previousIndex;if(null===c)return c;let h=0;return l&&c<l.length&&(h=l[c]),c+o+h}class eI{constructor(){}supports(o){return o instanceof Map||am(o)}create(){return new GM}}class GM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||am(o)))throw new le(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,c);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const c=o._prev;return l._next=o,l._prev=c,o._prev=l,c&&(c._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,y=h._next;return g&&(g._next=y),y&&(y._prev=g),h._next=null,h._prev=null,h}const c=new SS(o);return this._records.set(o,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(c=>l(o[c],c))}}class SS{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AS(){return new tI([new CS])}let tI=(()=>{var s;class o{constructor(c){this.factories=c}static create(c,h){if(null!=h){const g=h.factories.slice();c=c.concat(g)}return new o(c)}static extend(c){return{provide:o,useFactory:h=>o.create(c,h||AS()),deps:[[o,new ju,new ol]]}}find(c){const h=this.factories.find(g=>g.supports(c));if(null!=h)return h;throw new le(901,!1)}}return(s=o).\u0275prov=Ut({token:s,providedIn:"root",factory:AS}),o})();function xi(){return new nI([new eI])}let nI=(()=>{var s;class o{constructor(c){this.factories=c}static create(c,h){if(h){const g=h.factories.slice();c=c.concat(g)}return new o(c)}static extend(c){return{provide:o,useFactory:h=>o.create(c,h||xi()),deps:[[o,new ju,new ol]]}}find(c){const h=this.factories.find(g=>g.supports(c));if(h)return h;throw new le(901,!1)}}return(s=o).\u0275prov=Ut({token:s,providedIn:"root",factory:xi}),o})();const WM=gS(null,"core",[]);let vw=(()=>{var s;class o{constructor(c){}}return(s=o).\u0275fac=function(c){return new(c||s)(Nt(Td))},s.\u0275mod=Oa({type:s}),s.\u0275inj=In({}),o})();function FS(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function QM(s,o=NaN){return isNaN(parseFloat(s))||isNaN(Number(s))?o:Number(s)}function hI(s){const o=en(s);if(!o)return null;const l=new im(o);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},3106:(Et,Me,F)=>{"use strict";F.d(Me,{Z:()=>Xe});var d=F(9058),ne=F(4537),B=F(534),oe=F(7879);class ue{constructor(qe,Ve){this._delegate=qe,this.firebase=Ve,(0,B._addComponent)(qe,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this._delegate.automaticDataCollectionEnabled=qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(qe=>{this._delegate.checkDestroyed(),qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(qe,Ve=B._DEFAULT_ENTRY_NAME){var Tt;this._delegate.checkDestroyed();const Dt=this._delegate.container.getProvider(qe);return!Dt.isInitialized()&&"EXPLICIT"===(null===(Tt=Dt.getComponent())||void 0===Tt?void 0:Tt.instantiationMode)&&Dt.initialize(),Dt.getImmediate({identifier:Ve})}_removeServiceInstance(qe,Ve=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(qe).clearInstance(Ve)}_addComponent(qe){(0,B._addComponent)(this._delegate,qe)}_addOrOverwriteComponent(qe){(0,B._addOrOverwriteComponent)(this._delegate,qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function ye(){const Ue=function Be(Ue){const qe={},Ve={__esModule:!0,initializeApp:function le(je,We={}){const he=B.initializeApp(je,We);if((0,d.r3)(qe,he.name))return qe[he.name];const pt=new Ue(he,Ve);return qe[he.name]=pt,pt},app:Dt,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function se(je){const We=je.name,he=We.replace("-compat","");if(B._registerComponent(je)&&"PUBLIC"===je.type){const pt=(dt=Dt())=>{if("function"!=typeof dt[he])throw re.create("invalid-app-argument",{appName:We});return dt[he]()};void 0!==je.serviceProps&&(0,d.ZB)(pt,je.serviceProps),Ve[he]=pt,Ue.prototype[he]=function(...dt){return this._getService.bind(this,We).apply(this,je.multipleInstances?dt:[])}}return"PUBLIC"===je.type?Ve[he]:null},removeApp:function Tt(je){delete qe[je]},useAsService:function Re(je,We){return"serverAuth"===We?null:We},modularAPIs:B}};function Dt(je){if(!(0,d.r3)(qe,je=je||B._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:je});return qe[je]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function Ce(){return Object.keys(qe).map(je=>qe[je])}}),Dt.App=Ue,Ve}(ue);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function qe(Ve){(0,d.ZB)(Ue,Ve)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Ue}(),K=new oe.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=z;!function Pe(Ue){(0,B.registerVersion)("@firebase/app-compat","0.2.13",Ue)}()},534:(Et,Me,F)=>{"use strict";F.r(Me),F.d(Me,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>ks,_DEFAULT_ENTRY_NAME:()=>gt,_addComponent:()=>Jt,_addOrOverwriteComponent:()=>qr,_apps:()=>Mt,_clearComponents:()=>an,_components:()=>Gt,_getProvider:()=>vn,_registerComponent:()=>on,_removeServiceInstance:()=>ra,deleteApp:()=>Yi,getApp:()=>Ri,getApps:()=>ai,initializeApp:()=>eo,onLog:()=>li,registerVersion:()=>mr,setLogLevel:()=>Jn});var d=F(5861),ne=F(4537),B=F(7879),oe=F(9058);const ue=(ge,ae)=>ae.some(Le=>ge instanceof Le);let ve,re;const z=new WeakMap,K=new WeakMap,V=new WeakMap,Ge=new WeakMap,Pe=new WeakMap;let qe={get(ge,ae,Le){if(ge instanceof IDBTransaction){if("done"===ae)return K.get(ge);if("objectStoreNames"===ae)return ge.objectStoreNames||V.get(ge);if("store"===ae)return Le.objectStoreNames[1]?void 0:Le.objectStore(Le.objectStoreNames[0])}return le(ge[ae])},set:(ge,ae,Le)=>(ge[ae]=Le,!0),has:(ge,ae)=>ge instanceof IDBTransaction&&("done"===ae||"store"===ae)||ae in ge};function Dt(ge){return"function"==typeof ge?function Tt(ge){return ge!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ge)?function(...ae){return ge.apply(Ce(this),ae),le(z.get(this))}:function(...ae){return le(ge.apply(Ce(this),ae))}:function(ae,...Le){const at=ge.call(Ce(this),ae,...Le);return V.set(at,ae.sort?ae.sort():[ae]),le(at)}}(ge):(ge instanceof IDBTransaction&&function Ue(ge){if(K.has(ge))return;const ae=new Promise((Le,at)=>{const Je=()=>{ge.removeEventListener("complete",Lt),ge.removeEventListener("error",Bt),ge.removeEventListener("abort",Bt)},Lt=()=>{Le(),Je()},Bt=()=>{at(ge.error||new DOMException("AbortError","AbortError")),Je()};ge.addEventListener("complete",Lt),ge.addEventListener("error",Bt),ge.addEventListener("abort",Bt)});K.set(ge,ae)}(ge),ue(ge,function Be(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ge,qe):ge)}function le(ge){if(ge instanceof IDBRequest)return function Xe(ge){const ae=new Promise((Le,at)=>{const Je=()=>{ge.removeEventListener("success",Lt),ge.removeEventListener("error",Bt)},Lt=()=>{Le(le(ge.result)),Je()},Bt=()=>{at(ge.error),Je()};ge.addEventListener("success",Lt),ge.addEventListener("error",Bt)});return ae.then(Le=>{Le instanceof IDBCursor&&z.set(Le,ge)}).catch(()=>{}),Pe.set(ae,ge),ae}(ge);if(Ge.has(ge))return Ge.get(ge);const ae=Dt(ge);return ae!==ge&&(Ge.set(ge,ae),Pe.set(ae,ge)),ae}const Ce=ge=>Pe.get(ge),je=["get","getKey","getAll","getAllKeys","count"],We=["put","add","delete","clear"],he=new Map;function pt(ge,ae){if(!(ge instanceof IDBDatabase)||ae in ge||"string"!=typeof ae)return;if(he.get(ae))return he.get(ae);const Le=ae.replace(/FromIndex$/,""),at=ae!==Le,Je=We.includes(Le);if(!(Le in(at?IDBIndex:IDBObjectStore).prototype)||!Je&&!je.includes(Le))return;const Lt=function(){var Bt=(0,d.Z)(function*(Xn,...er){const Cr=this.transaction(Xn,Je?"readwrite":"readonly");let Qi=Cr.store;return at&&(Qi=Qi.index(er.shift())),(yield Promise.all([Qi[Le](...er),Je&&Cr.done]))[0]});return function(er){return Bt.apply(this,arguments)}}();return he.set(ae,Lt),Lt}!function Ve(ge){qe=ge(qe)}(ge=>({...ge,get:(ae,Le,at)=>pt(ae,Le)||ge.get(ae,Le,at),has:(ae,Le)=>!!pt(ae,Le)||ge.has(ae,Le)}));class dt{constructor(ae){this.container=ae}getPlatformInfoString(){return this.container.getProviders().map(Le=>{if(function qn(ge){const ae=ge.getComponent();return"VERSION"===ae?.type}(Le)){const at=Le.getImmediate();return`${at.library}/${at.version}`}return null}).filter(Le=>Le).join(" ")}}const si="@firebase/app",Hn=new B.Yd("@firebase/app"),gt="[DEFAULT]",Vt={[si]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mt=new Map,Gt=new Map;function Jt(ge,ae){try{ge.container.addComponent(ae)}catch(Le){Hn.debug(`Component ${ae.name} failed to register with FirebaseApp ${ge.name}`,Le)}}function qr(ge,ae){ge.container.addOrOverwriteComponent(ae)}function on(ge){const ae=ge.name;if(Gt.has(ae))return Hn.debug(`There were multiple attempts to register component ${ae}.`),!1;Gt.set(ae,ge);for(const Le of Mt.values())Jt(Le,ge);return!0}function vn(ge,ae){const Le=ge.container.getProvider("heartbeat").getImmediate({optional:!0});return Le&&Le.triggerHeartbeat(),ge.container.getProvider(ae)}function ra(ge,ae,Le=gt){vn(ge,ae).clearInstance(Le)}function an(){Gt.clear()}const zt=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ds{constructor(ae,Le,at){this._isDeleted=!1,this._options=Object.assign({},ae),this._config=Object.assign({},Le),this._name=Le.name,this._automaticDataCollectionEnabled=Le.automaticDataCollectionEnabled,this._container=at,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ae){this._isDeleted=ae}checkDestroyed(){if(this.isDeleted)throw zt.create("app-deleted",{appName:this._name})}}const ks="9.23.0";function eo(ge,ae={}){let Le=ge;"object"!=typeof ae&&(ae={name:ae});const at=Object.assign({name:gt,automaticDataCollectionEnabled:!1},ae),Je=at.name;if("string"!=typeof Je||!Je)throw zt.create("bad-app-name",{appName:String(Je)});if(Le||(Le=(0,oe.aH)()),!Le)throw zt.create("no-options");const Lt=Mt.get(Je);if(Lt){if((0,oe.vZ)(Le,Lt.options)&&(0,oe.vZ)(at,Lt.config))return Lt;throw zt.create("duplicate-app",{appName:Je})}const Bt=new ne.H0(Je);for(const er of Gt.values())Bt.addComponent(er);const Xn=new ds(Le,at,Bt);return Mt.set(Je,Xn),Xn}function Ri(ge=gt){const ae=Mt.get(ge);if(!ae&&ge===gt&&(0,oe.aH)())return eo();if(!ae)throw zt.create("no-app",{appName:ge});return ae}function ai(){return Array.from(Mt.values())}function Yi(ge){return gr.apply(this,arguments)}function gr(){return(gr=(0,d.Z)(function*(ge){const ae=ge.name;Mt.has(ae)&&(Mt.delete(ae),yield Promise.all(ge.container.getProviders().map(Le=>Le.delete())),ge.isDeleted=!0)})).apply(this,arguments)}function mr(ge,ae,Le){var at;let Je=null!==(at=Vt[ge])&&void 0!==at?at:ge;Le&&(Je+=`-${Le}`);const Lt=Je.match(/\s|\//),Bt=ae.match(/\s|\//);if(Lt||Bt){const Xn=[`Unable to register library "${Je}" with version "${ae}":`];return Lt&&Xn.push(`library name "${Je}" contains illegal characters (whitespace or "/")`),Lt&&Bt&&Xn.push("and"),Bt&&Xn.push(`version name "${ae}" contains illegal characters (whitespace or "/")`),void Hn.warn(Xn.join(" "))}on(new ne.wA(`${Je}-version`,()=>({library:Je,version:ae}),"VERSION"))}function li(ge,ae){if(null!==ge&&"function"!=typeof ge)throw zt.create("invalid-log-argument");(0,B.Am)(ge,ae)}function Jn(ge){(0,B.Ub)(ge)}const ui="firebase-heartbeat-database",Ni=1,W="firebase-heartbeat-store";let q=null;function X(){return q||(q=function se(ge,ae,{blocked:Le,upgrade:at,blocking:Je,terminated:Lt}={}){const Bt=indexedDB.open(ge,ae),Xn=le(Bt);return at&&Bt.addEventListener("upgradeneeded",er=>{at(le(Bt.result),er.oldVersion,er.newVersion,le(Bt.transaction),er)}),Le&&Bt.addEventListener("blocked",er=>Le(er.oldVersion,er.newVersion,er)),Xn.then(er=>{Lt&&er.addEventListener("close",()=>Lt()),Je&&er.addEventListener("versionchange",Cr=>Je(Cr.oldVersion,Cr.newVersion,Cr))}).catch(()=>{}),Xn}(ui,Ni,{upgrade:(ge,ae)=>{0===ae&&ge.createObjectStore(W)}}).catch(ge=>{throw zt.create("idb-open",{originalErrorMessage:ge.message})})),q}function ce(){return(ce=(0,d.Z)(function*(ge){try{return yield(yield X()).transaction(W).objectStore(W).get(Nt(ge))}catch(ae){if(ae instanceof oe.ZR)Hn.warn(ae.message);else{const Le=zt.create("idb-get",{originalErrorMessage:ae?.message});Hn.warn(Le.message)}}})).apply(this,arguments)}function et(ge,ae){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,d.Z)(function*(ge,ae){try{const at=(yield X()).transaction(W,"readwrite");yield at.objectStore(W).put(ae,Nt(ge)),yield at.done}catch(Le){if(Le instanceof oe.ZR)Hn.warn(Le.message);else{const at=zt.create("idb-set",{originalErrorMessage:Le?.message});Hn.warn(at.message)}}})).apply(this,arguments)}function Nt(ge){return`${ge.name}!${ge.options.appId}`}class $n{constructor(ae){this.container=ae,this._heartbeatsCache=null;const Le=this.container.getProvider("app").getImmediate();this._storage=new hs(Le),this._heartbeatsCachePromise=this._storage.read().then(at=>(this._heartbeatsCache=at,at))}triggerHeartbeat(){var ae=this;return(0,d.Z)(function*(){const at=ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Je=bt();if(null===ae._heartbeatsCache&&(ae._heartbeatsCache=yield ae._heartbeatsCachePromise),ae._heartbeatsCache.lastSentHeartbeatDate!==Je&&!ae._heartbeatsCache.heartbeats.some(Lt=>Lt.date===Je))return ae._heartbeatsCache.heartbeats.push({date:Je,agent:at}),ae._heartbeatsCache.heartbeats=ae._heartbeatsCache.heartbeats.filter(Lt=>{const Bt=new Date(Lt.date).valueOf();return Date.now()-Bt<=2592e6}),ae._storage.overwrite(ae._heartbeatsCache)})()}getHeartbeatsHeader(){var ae=this;return(0,d.Z)(function*(){if(null===ae._heartbeatsCache&&(yield ae._heartbeatsCachePromise),null===ae._heartbeatsCache||0===ae._heartbeatsCache.heartbeats.length)return"";const Le=bt(),{heartbeatsToSend:at,unsentEntries:Je}=function ar(ge,ae=1024){const Le=[];let at=ge.slice();for(const Je of ge){const Lt=Le.find(Bt=>Bt.agent===Je.agent);if(Lt){if(Lt.dates.push(Je.date),Ps(Le)>ae){Lt.dates.pop();break}}else if(Le.push({agent:Je.agent,dates:[Je.date]}),Ps(Le)>ae){Le.pop();break}at=at.slice(1)}return{heartbeatsToSend:Le,unsentEntries:at}}(ae._heartbeatsCache.heartbeats),Lt=(0,oe.L)(JSON.stringify({version:2,heartbeats:at}));return ae._heartbeatsCache.lastSentHeartbeatDate=Le,Je.length>0?(ae._heartbeatsCache.heartbeats=Je,yield ae._storage.overwrite(ae._heartbeatsCache)):(ae._heartbeatsCache.heartbeats=[],ae._storage.overwrite(ae._heartbeatsCache)),Lt})()}}function bt(){return(new Date).toISOString().substring(0,10)}class hs{constructor(ae){this.app=ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ae=this;return(0,d.Z)(function*(){return(yield ae._canUseIndexedDBPromise)&&(yield function xe(ge){return ce.apply(this,arguments)}(ae.app))||{heartbeats:[]}})()}overwrite(ae){var Le=this;return(0,d.Z)(function*(){var at;if(yield Le._canUseIndexedDBPromise){const Lt=yield Le.read();return et(Le.app,{lastSentHeartbeatDate:null!==(at=ae.lastSentHeartbeatDate)&&void 0!==at?at:Lt.lastSentHeartbeatDate,heartbeats:ae.heartbeats})}})()}add(ae){var Le=this;return(0,d.Z)(function*(){var at;if(yield Le._canUseIndexedDBPromise){const Lt=yield Le.read();return et(Le.app,{lastSentHeartbeatDate:null!==(at=ae.lastSentHeartbeatDate)&&void 0!==at?at:Lt.lastSentHeartbeatDate,heartbeats:[...Lt.heartbeats,...ae.heartbeats]})}})()}}function Ps(ge){return(0,oe.L)(JSON.stringify({version:2,heartbeats:ge})).length}!function Pa(ge){on(new ne.wA("platform-logger",ae=>new dt(ae),"PRIVATE")),on(new ne.wA("heartbeat",ae=>new $n(ae),"PRIVATE")),mr(si,"0.9.13",ge),mr(si,"0.9.13","esm2017"),mr("fire-js","")}("")},4537:(Et,Me,F)=>{"use strict";F.d(Me,{H0:()=>Be,wA:()=>B,zt:()=>ue});var d=F(5861),ne=F(9058);class B{constructor(z,K,V){this.name=z,this.instanceFactory=K,this.type=V,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const oe="[DEFAULT]";class ue{constructor(z,K){this.name=z,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const K=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(K)){const V=new ne.BH;if(this.instancesDeferred.set(K,V),this.isInitialized(K)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:K});Ge&&V.resolve(Ge)}catch{}}return this.instancesDeferred.get(K).promise}getImmediate(z){var K;const V=this.normalizeInstanceIdentifier(z?.identifier),Ge=null!==(K=z?.optional)&&void 0!==K&&K;if(!this.isInitialized(V)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:V})}catch(Pe){if(Ge)return null;throw Pe}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function re(ye){return"EAGER"===ye.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[K,V]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(K);try{const Pe=this.getOrInitializeService({instanceIdentifier:Ge});V.resolve(Pe)}catch{}}}}clearInstance(z=oe){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,d.Z)(function*(){const K=Array.from(z.instances.values());yield Promise.all([...K.filter(V=>"INTERNAL"in V).map(V=>V.INTERNAL.delete()),...K.filter(V=>"_delete"in V).map(V=>V._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=oe){return this.instances.has(z)}getOptions(z=oe){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:K={}}=z,V=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(V))throw Error(`${this.name}(${V}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:V,options:K});for(const[Pe,Xe]of this.instancesDeferred.entries())V===this.normalizeInstanceIdentifier(Pe)&&Xe.resolve(Ge);return Ge}onInit(z,K){var V;const Ge=this.normalizeInstanceIdentifier(K),Pe=null!==(V=this.onInitCallbacks.get(Ge))&&void 0!==V?V:new Set;Pe.add(z),this.onInitCallbacks.set(Ge,Pe);const Xe=this.instances.get(Ge);return Xe&&z(Xe,Ge),()=>{Pe.delete(z)}}invokeOnInitCallbacks(z,K){const V=this.onInitCallbacks.get(K);if(V)for(const Ge of V)try{Ge(z,K)}catch{}}getOrInitializeService({instanceIdentifier:z,options:K={}}){let V=this.instances.get(z);if(!V&&this.component&&(V=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=z,ye===oe?void 0:ye),options:K}),this.instances.set(z,V),this.instancesOptions.set(z,K),this.invokeOnInitCallbacks(V,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,V)}catch{}var ye;return V||null}normalizeInstanceIdentifier(z=oe){return this.component?this.component.multipleInstances?z:oe:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Be{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const K=this.getProvider(z.name);if(K.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);K.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const K=new ue(z,this);return this.providers.set(z,K),K}getProviders(){return Array.from(this.providers.values())}}},7879:(Et,Me,F)=>{"use strict";F.d(Me,{Am:()=>ye,Ub:()=>Be,Yd:()=>re,in:()=>ne});const d=[];var ne=function(z){return z[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",z}(ne||{});const B={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},oe=ne.INFO,ue={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},ve=(z,K,...V)=>{if(K<z.logLevel)return;const Ge=(new Date).toISOString(),Pe=ue[K];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[Pe](`[${Ge}]  ${z.name}:`,...V)};class re{constructor(K){this.name=K,this._logLevel=oe,this._logHandler=ve,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in ne))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?B[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...K),this._logHandler(this,ne.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...K),this._logHandler(this,ne.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...K),this._logHandler(this,ne.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...K),this._logHandler(this,ne.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...K),this._logHandler(this,ne.ERROR,...K)}}function Be(z){d.forEach(K=>{K.setLogLevel(z)})}function ye(z,K){for(const V of d){let Ge=null;K&&K.level&&(Ge=B[K.level]),V.userLogHandler=null===z?null:(Pe,Xe,...Ue)=>{const qe=Ue.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch{return null}}).filter(Ve=>Ve).join(" ");Xe>=(Ge??Pe.logLevel)&&z({level:ne[Xe].toLowerCase(),message:qe,args:Ue,type:Pe.name})}}}},3182:(Et,Me,F)=>{"use strict";F.d(Me,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=F(534);(0,d.registerVersion)("firebase","9.23.0","app")},7142:(Et,Me,F)=>{"use strict";F.d(Me,{Z:()=>d.Z});var d=F(3106);d.Z.registerVersion("firebase","9.23.0","app-compat")},5967:(Et,Me,F)=>{"use strict";F.r(Me);var d=F(5861),ne=F(3106),B=F(9058),oe=F(534),ue=F(7582),ve=F(7879),re=F(4537);const ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Xe=function Ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ue=function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qe=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tt=new ve.Yd("@firebase/auth");function le(w,...p){Tt.logLevel<=ve.in.ERROR&&Tt.error(`Auth (${oe.SDK_VERSION}): ${w}`,...p)}function Ce(w,...p){throw We(w,...p)}function se(w,...p){return We(w,...p)}function Re(w,p,m){const b=Object.assign(Object.assign({},Ue()),{[p]:m});return new B.LL("auth","Firebase",b).create(p,{appName:w.name})}function je(w,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ce(w,"argument-error"),Re(w,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(w,...p){if("string"!=typeof w){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=w.name),w._errorFactory.create(m,...b)}return qe.create(w,...p)}function he(w,p,...m){if(!w)throw We(p,...m)}function pt(w){const p="INTERNAL ASSERTION FAILED: "+w;throw le(p),new Error(p)}function dt(w,p){w||pt(p)}function qn(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function si(){return"http:"===cs()||"https:"===cs()}function cs(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Ki{constructor(p,m){this.shortDelay=p,this.longDelay=m,dt(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Hn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(si()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pe(w,p){dt(w.emulator,"Emulator should always be set here");const{url:m}=w.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class fe{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const De={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ie=new Ki(3e4,6e4);function Ne(w,p){return w.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:w.tenantId}):p}function ke(w,p,m,b){return st.apply(this,arguments)}function st(){return(st=(0,d.Z)(function*(w,p,m,b,x={}){return Ye(w,x,(0,d.Z)(function*(){let O={},Z={};b&&("GET"===p?Z=b:O={body:JSON.stringify(b)});const ie=(0,B.xO)(Object.assign({key:w.config.apiKey},Z)).slice(1),He=yield w._getAdditionalHeaders();return He["Content-Type"]="application/json",w.languageCode&&(He["X-Firebase-Locale"]=w.languageCode),fe.fetch()(Ut(w,w.config.apiHost,m,ie),Object.assign({method:p,headers:He,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Ye(w,p,m){return An.apply(this,arguments)}function An(){return(An=(0,d.Z)(function*(w,p,m){w._canInitEmulator=!1;const b=Object.assign(Object.assign({},De),p);try{const x=new Sn(w),O=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const Z=yield O.json();if("needConfirmation"in Z)throw In(w,"account-exists-with-different-credential",Z);if(O.ok&&!("errorMessage"in Z))return Z;{const ie=O.ok?Z.errorMessage:Z.error.message,[He,Qe]=ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw In(w,"credential-already-in-use",Z);if("EMAIL_EXISTS"===He)throw In(w,"email-already-in-use",Z);if("USER_DISABLED"===He)throw In(w,"user-disabled",Z);const ht=b[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(Qe)throw Re(w,ht,Qe);Ce(w,ht)}}catch(x){if(x instanceof B.ZR)throw x;Ce(w,"network-request-failed",{message:String(x)})}})).apply(this,arguments)}function It(w,p,m,b){return dn.apply(this,arguments)}function dn(){return(dn=(0,d.Z)(function*(w,p,m,b,x={}){const O=yield ke(w,p,m,b,x);return"mfaPendingCredential"in O&&Ce(w,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Ut(w,p,m,b){const x=`${p}${m}?${b}`;return w.config.emulator?pe(w.config,x):`${w.config.apiScheme}://${x}`}class Sn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(se(this.auth,"network-request-failed")),Ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function In(w,p,m){const b={appName:w.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const x=se(w,p,b);return x.customData._tokenResponse=m,x}function Wt(){return(Wt=(0,d.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function bi(){return(bi=(0,d.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Pr(){return(Pr=(0,d.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function oi(w){if(w)try{const p=new Date(Number(w));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function gt(){return(gt=(0,d.Z)(function*(w,p=!1){const m=(0,B.m9)(w),b=yield m.getIdToken(p),x=Mt(b);he(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const O="object"==typeof x.firebase?x.firebase:void 0,Z=O?.sign_in_provider;return{claims:x,token:b,authTime:oi(Vt(x.auth_time)),issuedAtTime:oi(Vt(x.iat)),expirationTime:oi(Vt(x.exp)),signInProvider:Z||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Vt(w){return 1e3*Number(w)}function Mt(w){const[p,m,b]=w.split(".");if(void 0===p||void 0===m||void 0===b)return le("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,B.tV)(m);return x?JSON.parse(x):(le("Failed to decode base64 JWT payload"),null)}catch(x){return le("Caught error parsing JWT payload as JSON",x?.toString()),null}}function Jt(w,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,d.Z)(function*(w,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof B.ZR&&function on({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(b)&&w.auth.currentUser===w&&(yield w.auth.signOut()),b}})).apply(this,arguments)}class vn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class ra{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=oi(this.lastLoginAt),this.creationTime=oi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function an(w){return Wr.apply(this,arguments)}function Wr(){return Wr=(0,d.Z)(function*(w){var p;const m=w.auth,b=yield w.getIdToken(),x=yield Jt(w,function or(w,p){return Pr.apply(this,arguments)}(m,{idToken:b}));he(x?.users.length,m,"internal-error");const O=x.users[0];w._notifyReloadListener(O);const Z=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?function eo(w){return w.map(p=>{var{providerId:m}=p,b=(0,ue._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(O.providerUserInfo):[],ie=function ks(w,p){return[...w.filter(b=>!p.some(x=>x.providerId===b.providerId)),...p]}(w.providerData,Z),ht=!!w.isAnonymous&&!(w.email&&O.passwordHash||ie?.length),ft={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ie,metadata:new ra(O.createdAt,O.lastLoginAt),isAnonymous:ht};Object.assign(w,ft)}),Wr.apply(this,arguments)}function ds(){return(ds=(0,d.Z)(function*(w){const p=(0,B.m9)(w);yield an(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ai(){return(ai=(0,d.Z)(function*(w,p){const m=yield Ye(w,{},(0,d.Z)(function*(){const b=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:x,apiKey:O}=w.config,Z=Ut(w,x,"/v1/token",`key=${O}`),ie=yield w._getAdditionalHeaders();return ie["Content-Type"]="application/x-www-form-urlencoded",fe.fetch()(Z,{method:"POST",headers:ie,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Yi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){he(p.idToken,"internal-error"),he(typeof p.idToken<"u","internal-error"),he(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Gt(w){const p=Mt(w);return he(p,"internal-error"),he(typeof p.exp<"u","internal-error"),he(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,d.Z)(function*(){return he(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,d.Z)(function*(){const{accessToken:x,refreshToken:O,expiresIn:Z}=yield function Ri(w,p){return ai.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(x,O,Number(Z))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:x,expirationTime:O}=m,Z=new Yi;return b&&(he("string"==typeof b,"internal-error",{appName:p}),Z.refreshToken=b),x&&(he("string"==typeof x,"internal-error",{appName:p}),Z.accessToken=x),O&&(he("number"==typeof O,"internal-error",{appName:p}),Z.expirationTime=O),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Yi,this.toJSON())}_performRefresh(){return pt("not implemented")}}function gr(w,p){he("string"==typeof w||typeof w>"u","internal-error",{appName:p})}class mr{constructor(p){var{uid:m,auth:b,stsTokenManager:x}=p,O=(0,ue._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new ra(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,d.Z)(function*(){const b=yield Jt(m,m.stsTokenManager.getToken(m.auth,p));return he(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function Xt(w){return gt.apply(this,arguments)}(this,p)}reload(){return function zt(w){return ds.apply(this,arguments)}(this)}_assign(p){this!==p&&(he(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new mr(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,d.Z)(function*(){let x=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),x=!0),m&&(yield an(b)),yield b.auth._persistUserIfCurrent(b),x&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,d.Z)(function*(){const m=yield p.getIdToken();return yield Jt(p,function pr(w,p){return Wt.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,x,O,Z,ie,He,Qe,ht;const ft=null!==(b=m.displayName)&&void 0!==b?b:void 0,Qn=null!==(x=m.email)&&void 0!==x?x:void 0,mo=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,Wu=null!==(Z=m.photoURL)&&void 0!==Z?Z:void 0,uy=null!==(ie=m.tenantId)&&void 0!==ie?ie:void 0,cy=null!==(He=m._redirectEventId)&&void 0!==He?He:void 0,kg=null!==(Qe=m.createdAt)&&void 0!==Qe?Qe:void 0,dy=null!==(ht=m.lastLoginAt)&&void 0!==ht?ht:void 0,{uid:al,emailVerified:Pg,isAnonymous:Zu,providerData:Og,stsTokenManager:Pt}=m;he(al&&Pt,p,"internal-error");const Es=Yi.fromJSON(this.name,Pt);he("string"==typeof al,p,"internal-error"),gr(ft,p.name),gr(Qn,p.name),he("boolean"==typeof Pg,p,"internal-error"),he("boolean"==typeof Zu,p,"internal-error"),gr(mo,p.name),gr(Wu,p.name),gr(uy,p.name),gr(cy,p.name),gr(kg,p.name),gr(dy,p.name);const Ku=new mr({uid:al,auth:p,email:Qn,emailVerified:Pg,displayName:ft,isAnonymous:Zu,photoURL:Wu,phoneNumber:mo,tenantId:uy,stsTokenManager:Es,createdAt:kg,lastLoginAt:dy});return Og&&Array.isArray(Og)&&(Ku.providerData=Og.map(hy=>Object.assign({},hy))),cy&&(Ku._redirectEventId=cy),Ku}static _fromIdTokenResponse(p,m,b=!1){return(0,d.Z)(function*(){const x=new Yi;x.updateFromServerResponse(m);const O=new mr({uid:m.localId,auth:p,stsTokenManager:x,isAnonymous:b});return yield an(O),O})()}}const li=new Map;function Jn(w){dt(w instanceof Function,"Expected a class definition");let p=li.get(w);return p?(dt(p instanceof w,"Instance stored in cache mismatched with class"),p):(p=new w,li.set(w,p),p)}const Ni=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,b){var x=this;return(0,d.Z)(function*(){x.storage[m]=b})()}_get(m){var b=this;return(0,d.Z)(function*(){const x=b.storage[m];return void 0===x?null:x})()}_remove(m){var b=this;return(0,d.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return w.type="NONE",w})();function W(w,p,m){return`firebase:${w}:${p}:${m}`}class q{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:x,name:O}=this.auth;this.fullUserKey=W(this.userKey,x.apiKey,O),this.fullPersistenceKey=W("persistence",x.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?mr._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,d.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,d.Z)(function*(){if(!m.length)return new q(Jn(Ni),p,b);const x=(yield Promise.all(m.map(function(){var Qe=(0,d.Z)(function*(ht){if(yield ht._isAvailable())return ht});return function(ht){return Qe.apply(this,arguments)}}()))).filter(Qe=>Qe);let O=x[0]||Jn(Ni);const Z=W(b,p.config.apiKey,p.name);let ie=null;for(const Qe of m)try{const ht=yield Qe._get(Z);if(ht){const ft=mr._fromJSON(p,ht);Qe!==O&&(ie=ft),O=Qe;break}}catch{}const He=x.filter(Qe=>Qe._shouldAllowMigration);return O._shouldAllowMigration&&He.length?(O=He[0],ie&&(yield O._set(Z,ie.toJSON())),yield Promise.all(m.map(function(){var Qe=(0,d.Z)(function*(ht){if(ht!==O)try{yield ht._remove(Z)}catch{}});return function(ht){return Qe.apply(this,arguments)}}())),new q(O,p,b)):new q(O,p,b)})()}}function X(w){const p=w.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Ot(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(xe(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(_r(p))return"Blackberry";if(jt(p))return"Webos";if(ce(p))return"Safari";if((p.includes("chrome/")||et(p))&&!p.includes("edge/"))return"Chrome";if(Nt(p))return"Android";{const b=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function xe(w=(0,B.z$)()){return/firefox\//i.test(w)}function ce(w=(0,B.z$)()){const p=w.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function et(w=(0,B.z$)()){return/crios\//i.test(w)}function Ot(w=(0,B.z$)()){return/iemobile/i.test(w)}function Nt(w=(0,B.z$)()){return/android/i.test(w)}function _r(w=(0,B.z$)()){return/blackberry/i.test(w)}function jt(w=(0,B.z$)()){return/webos/i.test(w)}function $n(w=(0,B.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Ps(w=(0,B.z$)()){return $n(w)||Nt(w)||jt(w)||_r(w)||/windows phone/i.test(w)||Ot(w)}function ge(w,p=[]){let m;switch(w){case"Browser":m=X((0,B.z$)());break;case"Worker":m=`${X((0,B.z$)())}-${w}`;break;default:m=w}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${oe.SDK_VERSION}/${b}`}function Le(){return(Le=(0,d.Z)(function*(w){return(yield ke(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function at(w,p){return Je.apply(this,arguments)}function Je(){return(Je=(0,d.Z)(function*(w,p){return ke(w,"GET","/v2/recaptchaConfig",Ne(w,p))})).apply(this,arguments)}function Lt(w){return void 0!==w&&void 0!==w.getResponse}function Bt(w){return void 0!==w&&void 0!==w.enterprise}class Xn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Cr(w){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",w),b.onload=p,b.onerror=x=>{const O=se("internal-error");O.customData=x,m(O)},b.type="text/javascript",b.charset="UTF-8",function er(){var w,p;return null!==(p=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==p?p:document}().appendChild(b)})}function Qi(w){return`__${w}${Math.floor(1e6*Math.random())}`}class Il{constructor(p){this.type="recaptcha-enterprise",this.auth=tr(p)}verify(p="verify",m=!1){var b=this;return(0,d.Z)(function*(){function O(){return O=(0,d.Z)(function*(ie){if(!m){if(null==ie.tenantId&&null!=ie._agentRecaptchaConfig)return ie._agentRecaptchaConfig.siteKey;if(null!=ie.tenantId&&void 0!==ie._tenantRecaptchaConfigs[ie.tenantId])return ie._tenantRecaptchaConfigs[ie.tenantId].siteKey}return new Promise(function(){var He=(0,d.Z)(function*(Qe,ht){at(ie,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ft=>{if(void 0!==ft.recaptchaKey){const Qn=new Xn(ft);return null==ie.tenantId?ie._agentRecaptchaConfig=Qn:ie._tenantRecaptchaConfigs[ie.tenantId]=Qn,Qe(Qn.siteKey)}ht(new Error("recaptcha Enterprise site key undefined"))}).catch(ft=>{ht(ft)})});return function(Qe,ht){return He.apply(this,arguments)}}())}),O.apply(this,arguments)}function Z(ie,He,Qe){const ht=window.grecaptcha;Bt(ht)?ht.enterprise.ready(()=>{ht.enterprise.execute(ie,{action:p}).then(ft=>{He(ft)}).catch(()=>{He("NO_RECAPTCHA")})}):Qe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ie,He)=>{(function x(ie){return O.apply(this,arguments)})(b.auth).then(Qe=>{if(!m&&Bt(window.grecaptcha))Z(Qe,ie,He);else{if(typeof window>"u")return void He(new Error("RecaptchaVerifier is only supported in browser"));Cr("https://www.google.com/recaptcha/enterprise.js?render="+Qe).then(()=>{Z(Qe,ie,He)}).catch(ht=>{He(ht)})}}).catch(Qe=>{He(Qe)})})})()}}function ki(w,p,m){return to.apply(this,arguments)}function to(){return(to=(0,d.Z)(function*(w,p,m,b=!1){const x=new Il(w);let O;try{O=yield x.verify(m)}catch{O=yield x.verify(m,!0)}const Z=Object.assign({},p);return Object.assign(Z,b?{captchaResp:O}:{captchaResponse:O}),Object.assign(Z,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Z,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Z})).apply(this,arguments)}class Os{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=O=>new Promise((Z,ie)=>{try{Z(p(O))}catch(He){ie(He)}});b.onAbort=m,this.queue.push(b);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,d.Z)(function*(){if(m.auth.currentUser===p)return;const b=[];try{for(const x of m.queue)yield x(p),x.onAbort&&b.push(x.onAbort)}catch(x){b.reverse();for(const O of b)try{O()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:x?.message})}})()}}class vu{constructor(p,m,b,x){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=b,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new di(this),this.idTokenSubscription=new di(this),this.beforeStateQueue=new Os(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=Jn(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var x,O;if(!b._deleted&&(b.persistenceManager=yield q.create(b,p),!b._deleted)){if(null!==(x=b._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(O=b.currentUser)||void 0===O?void 0:O.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,d.Z)(function*(){var b;const x=yield m.assertedPersistence.getCurrentUser();let O=x,Z=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ie=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,He=O?._redirectEventId,Qe=yield m.tryRedirectSignIn(p);(!ie||ie===He)&&Qe?.user&&(O=Qe.user,Z=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(Z)try{yield m.beforeStateQueue.runMiddleware(O)}catch(ie){O=x,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ie))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return he(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var m=this;return(0,d.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,d.Z)(function*(){try{yield an(p)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Xs(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,d.Z)(function*(){const b=p?(0,B.m9)(p):null;return b&&he(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,d.Z)(function*(){if(!b._deleted)return p&&he(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,d.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(Jn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,d.Z)(function*(){const m=yield at(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new Xn(m);null==p.tenantId?p._agentRecaptchaConfig=b:p._tenantRecaptchaConfigs[p.tenantId]=b,b.emailPasswordEnabled&&new Il(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,d.Z)(function*(){const x=yield b.getOrInitRedirectPersistenceManager(m);return null===p?x.removeCurrentUser():x.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&Jn(p)||m._popupRedirectResolver;he(b,m,"argument-error"),m.redirectPersistenceManager=yield q.create(m,[Jn(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,d.Z)(function*(){var b,x;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,d.Z)(function*(){if(p===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,x){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return he(Z,this,"internal-error"),Z.then(()=>O(this.currentUser)),"function"==typeof m?p.addObserver(m,b,x):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ge(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const x=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();x&&(b["X-Firebase-Client"]=x);const O=yield p._getAppCheckToken();return O&&(b["X-Firebase-AppCheck"]=O),b})()}_getAppCheckToken(){var p=this;return(0,d.Z)(function*(){var m;const b=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return b?.error&&function Dt(w,...p){Tt.logLevel<=ve.in.WARN&&Tt.warn(`Auth (${oe.SDK_VERSION}): ${w}`,...p)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function tr(w){return(0,B.m9)(w)}class di{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Do(w){const p=w.indexOf(":");return p<0?"":w.substr(0,p+1)}function bu(w){if(!w)return null;const p=Number(w);return isNaN(p)?null:p}class To{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return pt("not implemented")}_getIdTokenResponse(p){return pt("not implemented")}_linkToIdToken(p,m){return pt("not implemented")}_getReauthenticationResolver(p){return pt("not implemented")}}function sa(w,p){return oa.apply(this,arguments)}function oa(){return(oa=(0,d.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:resetPassword",Ne(w,p))})).apply(this,arguments)}function wc(w,p){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,d.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Dl(){return(Dl=(0,d.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:update",Ne(w,p))})).apply(this,arguments)}function Or(w,p){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,d.Z)(function*(w,p){return It(w,"POST","/v1/accounts:signInWithPassword",Ne(w,p))})).apply(this,arguments)}function Tl(w,p){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,d.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:sendOobCode",Ne(w,p))})).apply(this,arguments)}function no(){return(no=(0,d.Z)(function*(w,p){return Tl(w,p)})).apply(this,arguments)}function So(w,p){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,d.Z)(function*(w,p){return Tl(w,p)})).apply(this,arguments)}function en(w,p){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,d.Z)(function*(w,p){return Tl(w,p)})).apply(this,arguments)}function ro(){return(ro=(0,d.Z)(function*(w,p){return Tl(w,p)})).apply(this,arguments)}function Iu(){return(Iu=(0,d.Z)(function*(w,p){return It(w,"POST","/v1/accounts:signInWithEmailLink",Ne(w,p))})).apply(this,arguments)}function La(){return(La=(0,d.Z)(function*(w,p){return It(w,"POST","/v1/accounts:signInWithEmailLink",Ne(w,p))})).apply(this,arguments)}class Ls extends To{constructor(p,m,b,x=null){super("password",b),this._email=p,this._password=m,this._tenantId=x}static _fromEmailAndPassword(p,m){return new Ls(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new Ls(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,d.Z)(function*(){var b;switch(m.signInMethod){case"password":const x={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=p._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const O=yield ki(p,x,"signInWithPassword");return Or(p,O)}return Or(p,x).catch(function(){var O=(0,d.Z)(function*(Z){if("auth/missing-recaptcha-token"===Z.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ie=yield ki(p,x,"signInWithPassword");return Or(p,ie)}return Promise.reject(Z)});return function(Z){return O.apply(this,arguments)}}());case"emailLink":return function Kr(w,p){return Iu.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ce(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return wc(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Vd(w,p){return La.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:Ce(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Pi(w,p){return kn.apply(this,arguments)}function kn(){return(kn=(0,d.Z)(function*(w,p){return It(w,"POST","/v1/accounts:signInWithIdp",Ne(w,p))})).apply(this,arguments)}class At extends To{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new At(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ce("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:x}=m,O=(0,ue._T)(m,["providerId","signInMethod"]);if(!b||!x)return null;const Z=new At(b,x);return Z.idToken=O.idToken||void 0,Z.accessToken=O.accessToken||void 0,Z.secret=O.secret,Z.nonce=O.nonce,Z.pendingToken=O.pendingToken||null,Z}_getIdTokenResponse(p){return Pi(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Pi(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Pi(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,B.xO)(m)}return p}}function Yr(){return(Yr=(0,d.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:sendVerificationCode",Ne(w,p))})).apply(this,arguments)}function Zn(){return(Zn=(0,d.Z)(function*(w,p){return It(w,"POST","/v1/accounts:signInWithPhoneNumber",Ne(w,p))})).apply(this,arguments)}function Bn(){return(Bn=(0,d.Z)(function*(w,p){const m=yield It(w,"POST","/v1/accounts:signInWithPhoneNumber",Ne(w,p));if(m.temporaryProof)throw In(w,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Fs={USER_NOT_FOUND:"user-not-found"};function St(){return(St=(0,d.Z)(function*(w,p){return It(w,"POST","/v1/accounts:signInWithPhoneNumber",Ne(w,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Fs)})).apply(this,arguments)}class Dr extends To{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Dr({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Dr({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function io(w,p){return Zn.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Fa(w,p){return Bn.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ao(w,p){return St.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:x}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:x}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:x,temporaryProof:O}=p;return b||m||x||O?new Dr({verificationId:m,verificationCode:b,phoneNumber:x,temporaryProof:O}):null}}class Pn{constructor(p){var m,b,x,O,Z,ie;const He=(0,B.zd)((0,B.pd)(p)),Qe=null!==(m=He.apiKey)&&void 0!==m?m:null,ht=null!==(b=He.oobCode)&&void 0!==b?b:null,ft=function Bd(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=He.mode)&&void 0!==x?x:null);he(Qe&&ht&&ft,"argument-error"),this.apiKey=Qe,this.operation=ft,this.code=ht,this.continueUrl=null!==(O=He.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Z=He.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(ie=He.tenantId)&&void 0!==ie?ie:null}static parseLink(p){const m=function fs(w){const p=(0,B.zd)((0,B.pd)(w)).link,m=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,b=(0,B.zd)((0,B.pd)(w)).deep_link_id;return(b?(0,B.zd)((0,B.pd)(b)).link:null)||b||m||p||w}(p);try{return new Pn(m)}catch{return null}}}let xo=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(m,b){return Ls._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const x=Pn.parseLink(b);return he(x,"argument-error"),Ls._fromEmailAndCode(m,x.code,x.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class yr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Us extends yr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Vs extends Us{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return he("providerId"in m&&"signInMethod"in m,"argument-error"),At._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return he(p.idToken||p.accessToken,"argument-error"),At._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Vs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Vs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:x,pendingToken:O,nonce:Z,providerId:ie}=p;if(!b&&!x&&!m&&!O||!ie)return null;try{return new Vs(ie)._credential({idToken:m,accessToken:b,nonce:Z,pendingToken:O})}catch{return null}}}let so=(()=>{class w extends Us{constructor(){super("facebook.com")}static credential(m){return At._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return w.credential(m.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Qr=(()=>{class w extends Us{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return At._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:x}=m;if(!b&&!x)return null;try{return w.credential(b,x)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Ji=(()=>{class w extends Us{constructor(){super("github.com")}static credential(m){return At._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return w.credential(m.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class $t extends To{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Pi(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Pi(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Pi(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:x,pendingToken:O}=m;return b&&x&&O&&b===x?new $t(b,O):null}static _create(p,m){return new $t(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ro extends yr{constructor(p){he(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ro.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ro.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=$t.fromJSON(p);return he(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return $t._create(b,m)}catch{return null}}}let Al=(()=>{class w extends Us{constructor(){super("twitter.com")}static credential(m,b){return At._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:x}=m;if(!b||!x)return null;try{return w.credential(b,x)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Kn(w,p){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,d.Z)(function*(w,p){return It(w,"POST","/v1/accounts:signUp",Ne(w,p))})).apply(this,arguments)}class lr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,x=!1){return(0,d.Z)(function*(){const O=yield mr._fromIdTokenResponse(p,b,x),Z=ps(b);return new lr({user:O,providerId:Z,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const x=ps(b);return new lr({user:p,providerId:x,_tokenResponse:b,operationType:m})})()}}function ps(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function jd(){return(jd=(0,d.Z)(function*(w){var p;const m=tr(w);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new lr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Kn(m,{returnSecureToken:!0}),x=yield lr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class ur extends B.ZR{constructor(p,m,b,x){var O;super(m.code,m.message),this.operationType=b,this.user=x,Object.setPrototypeOf(this,ur.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,x){return new ur(p,m,b,x)}}function Tr(w,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(w):m._getIdTokenResponse(w)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?ur._fromErrorAndOperation(w,O,p,b):O})}function Ua(w){return new Set(w.map(({providerId:p})=>p).filter(p=>!!p))}function fi(){return fi=(0,d.Z)(function*(w,p){const m=(0,B.m9)(w);yield ko(!0,m,p);const{providerUserInfo:b}=yield function Nn(w,p){return bi.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),x=Ua(b||[]);return m.providerData=m.providerData.filter(O=>x.has(O.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),fi.apply(this,arguments)}function Jr(w,p){return No.apply(this,arguments)}function No(){return(No=(0,d.Z)(function*(w,p,m=!1){const b=yield Jt(w,p._linkToIdToken(w.auth,yield w.getIdToken()),m);return lr._forOperation(w,"link",b)})).apply(this,arguments)}function ko(w,p,m){return xl.apply(this,arguments)}function xl(){return(xl=(0,d.Z)(function*(w,p,m){yield an(p);const x=!1===w?"provider-already-linked":"no-such-provider";he(Ua(p.providerData).has(m)===w,p.auth,x)})).apply(this,arguments)}function Va(w,p){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,d.Z)(function*(w,p,m=!1){const{auth:b}=w,x="reauthenticate";try{const O=yield Jt(w,Tr(b,x,p,w),m);he(O.idToken,b,"internal-error");const Z=Mt(O.idToken);he(Z,b,"internal-error");const{sub:ie}=Z;return he(w.uid===ie,b,"user-mismatch"),lr._forOperation(w,x,O)}catch(O){throw"auth/user-not-found"===O?.code&&Ce(b,"user-mismatch"),O}})).apply(this,arguments)}function Du(w,p){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,d.Z)(function*(w,p,m=!1){const b="signIn",x=yield Tr(w,b,p),O=yield lr._fromIdTokenResponse(w,b,x);return m||(yield w._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Rl(w,p){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,d.Z)(function*(w,p){return Du(tr(w),p)})).apply(this,arguments)}function Hd(w,p){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(w,p){const m=(0,B.m9)(w);return yield ko(!1,m,p.providerId),Jr(m,p)})).apply(this,arguments)}function Ic(w,p){return $d.apply(this,arguments)}function $d(){return($d=(0,d.Z)(function*(w,p){return Va((0,B.m9)(w),p)})).apply(this,arguments)}function Su(){return(Su=(0,d.Z)(function*(w,p){return It(w,"POST","/v1/accounts:signInWithCustomToken",Ne(w,p))})).apply(this,arguments)}function Xi(){return Xi=(0,d.Z)(function*(w,p){const m=tr(w),b=yield function Sf(w,p){return Su.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),x=yield lr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(x.user),x}),Xi.apply(this,arguments)}class xu{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?ao._fromServerResponse(p,m):"totpInfo"in m?Ba._fromServerResponse(p,m):Ce(p,"internal-error")}}class ao extends xu{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new ao(m)}}class Ba extends xu{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Ba(m)}}function aa(w,p,m){var b;he((null===(b=m.url)||void 0===b?void 0:b.length)>0,w,"invalid-continue-uri"),he(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(he(m.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(he(m.android.packageName.length>0,w,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function ja(){return ja=(0,d.Z)(function*(w,p,m){var b;const x=tr(w),O={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=x._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const Z=yield ki(x,O,"getOobCode",!0);m&&aa(x,Z,m),yield So(x,Z)}else m&&aa(x,O,m),yield So(x,O).catch(function(){var Z=(0,d.Z)(function*(ie){if("auth/missing-recaptcha-token"!==ie.code)return Promise.reject(ie);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const He=yield ki(x,O,"getOobCode",!0);m&&aa(x,He,m),yield So(x,He)}});return function(ie){return Z.apply(this,arguments)}}())}),ja.apply(this,arguments)}function Po(){return(Po=(0,d.Z)(function*(w,p,m){yield sa((0,B.m9)(w),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Xr(){return Xr=(0,d.Z)(function*(w,p){yield function Ei(w,p){return Dl.apply(this,arguments)}((0,B.m9)(w),{oobCode:p})}),Xr.apply(this,arguments)}function Ha(w,p){return $a.apply(this,arguments)}function $a(){return($a=(0,d.Z)(function*(w,p){const m=(0,B.m9)(w),b=yield sa(m,{oobCode:p}),x=b.requestType;switch(he(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":he(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":he(b.mfaInfo,m,"internal-error");default:he(b.email,m,"internal-error")}let O=null;return b.mfaInfo&&(O=xu._fromServerResponse(tr(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:O},operation:x}})).apply(this,arguments)}function la(){return(la=(0,d.Z)(function*(w,p){const{data:m}=yield Ha((0,B.m9)(w),p);return m.email})).apply(this,arguments)}function Ga(){return Ga=(0,d.Z)(function*(w,p,m){var b;const x=tr(w),O={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let Z;if(null!==(b=x._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const Qe=yield ki(x,O,"signUpPassword");Z=Kn(x,Qe)}else Z=Kn(x,O).catch(function(){var Qe=(0,d.Z)(function*(ht){if("auth/missing-recaptcha-token"===ht.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ft=yield ki(x,O,"signUpPassword");return Kn(x,ft)}return Promise.reject(ht)});return function(ht){return Qe.apply(this,arguments)}}());const ie=yield Z.catch(Qe=>Promise.reject(Qe)),He=yield lr._fromIdTokenResponse(x,"signIn",ie);return yield x._updateCurrentUser(He.user),He}),Ga.apply(this,arguments)}function jn(){return jn=(0,d.Z)(function*(w,p,m){var b;const x=tr(w),O={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function Z(ie,He){he(He.handleCodeInApp,x,"argument-error"),He&&aa(x,ie,He)}if(null!==(b=x._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const ie=yield ki(x,O,"getOobCode",!0);Z(ie,m),yield en(x,ie)}else Z(O,m),yield en(x,O).catch(function(){var ie=(0,d.Z)(function*(He){if("auth/missing-recaptcha-token"!==He.code)return Promise.reject(He);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Qe=yield ki(x,O,"getOobCode",!0);Z(Qe,m),yield en(x,Qe)}});return function(He){return ie.apply(this,arguments)}}())}),jn.apply(this,arguments)}function kl(){return(kl=(0,d.Z)(function*(w,p,m){const b=(0,B.m9)(w),x=xo.credentialWithLink(p,m||qn());return he(x._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Rl(b,x)})).apply(this,arguments)}function Oo(){return(Oo=(0,d.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:createAuthUri",Ne(w,p))})).apply(this,arguments)}function Ac(){return Ac=(0,d.Z)(function*(w,p){const b={identifier:p,continueUri:si()?qn():"http://localhost"},{signinMethods:x}=yield function za(w,p){return Oo.apply(this,arguments)}((0,B.m9)(w),b);return x||[]}),Ac.apply(this,arguments)}function ua(){return ua=(0,d.Z)(function*(w,p){const m=(0,B.m9)(w),x={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};p&&aa(m.auth,x,p);const{email:O}=yield function bc(w,p){return no.apply(this,arguments)}(m.auth,x);O!==w.email&&(yield w.reload())}),ua.apply(this,arguments)}function co(){return co=(0,d.Z)(function*(w,p,m){const b=(0,B.m9)(w),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:p};m&&aa(b.auth,O,m);const{email:Z}=yield function Zr(w,p){return ro.apply(this,arguments)}(b.auth,O);Z!==w.email&&(yield w.reload())}),co.apply(this,arguments)}function zd(){return(zd=(0,d.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ll(){return Ll=(0,d.Z)(function*(w,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,B.m9)(w),O={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Z=yield Jt(b,function Gd(w,p){return zd.apply(this,arguments)}(b.auth,O));b.displayName=Z.displayName||null,b.photoURL=Z.photoUrl||null;const ie=b.providerData.find(({providerId:He})=>"password"===He);ie&&(ie.displayName=b.displayName,ie.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Z)}),Ll.apply(this,arguments)}function qd(w,p,m){return ca.apply(this,arguments)}function ca(){return(ca=(0,d.Z)(function*(w,p,m){const{auth:b}=w,O={idToken:yield w.getIdToken(),returnSecureToken:!0};p&&(O.email=p),m&&(O.password=m);const Z=yield Jt(w,wc(b,O));yield w._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class fo{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class qa extends fo{constructor(p,m,b,x){super(p,m,b),this.username=x}}class Wa extends fo{constructor(p,m){super(p,"facebook.com",m)}}class Rc extends qa{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Fl extends fo{constructor(p,m){super(p,"google.com",m)}}class Lo extends qa{constructor(p,m,b){super(p,"twitter.com",m,b)}}function Nc(w){const{user:p,_tokenResponse:m}=w;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function ho(w){var p,m;if(!w)return null;const{providerId:b}=w,x=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},O=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!b&&w?.idToken){const Z=null===(m=null===(p=Mt(w.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Z)return new fo(O,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!b)return null;switch(b){case"facebook.com":return new Wa(O,x);case"github.com":return new Rc(O,x);case"google.com":return new Fl(O,x);case"twitter.com":return new Lo(O,x,w.screenName||null);case"custom":case"anonymous":return new fo(O,null);default:return new fo(O,b,x)}}(m)}class Yn{constructor(p,m,b){this.type=p,this.credential=m,this.auth=b}static _fromIdtoken(p,m){return new Yn("enroll",p,m)}static _fromMfaPendingCredential(p){return new Yn("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Yn._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return Yn._fromIdtoken(p.multiFactorSession.idToken)}return null}}class da{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=tr(p),x=m.customData._serverResponse,O=(x.mfaInfo||[]).map(ie=>xu._fromServerResponse(b,ie));he(x.mfaPendingCredential,b,"internal-error");const Z=Yn._fromMfaPendingCredential(x.mfaPendingCredential);return new da(Z,O,function(){var ie=(0,d.Z)(function*(He){const Qe=yield He._process(b,Z);delete x.mfaInfo,delete x.mfaPendingCredential;const ht=Object.assign(Object.assign({},x),{idToken:Qe.idToken,refreshToken:Qe.refreshToken});switch(m.operationType){case"signIn":const ft=yield lr._fromIdTokenResponse(b,m.operationType,ht);return yield b._updateCurrentUser(ft.user),ft;case"reauthenticate":return he(m.user,b,"internal-error"),lr._forOperation(m.user,m.operationType,ht);default:Ce(b,"internal-error")}});return function(He){return ie.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,d.Z)(function*(){return m.signInResolver(p)})()}}class be{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>xu._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new be(p)}getSession(){var p=this;return(0,d.Z)(function*(){return Yn._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var b=this;return(0,d.Z)(function*(){const x=p,O=yield b.getSession(),Z=yield Jt(b.user,x._process(b.user.auth,O,m));return yield b.user._updateTokensIfNecessary(Z),b.user.reload()})()}unenroll(p){var m=this;return(0,d.Z)(function*(){const b="string"==typeof p?p:p.uid,x=yield m.user.getIdToken();try{const O=yield Jt(m.user,function G(w,p){return ke(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Ne(w,p))}(m.user.auth,{idToken:x,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Z})=>Z!==b),yield m.user._updateTokensIfNecessary(O),yield m.user.reload()}catch(O){throw O}})()}}const yt=new WeakMap,it="__sak";class Ln{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(it,"1"),this.storage.removeItem(it),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Za=(()=>{class w extends Ln{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fa(){const w=(0,B.z$)();return ce(w)||$n(w)}()&&function Pa(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ps(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const x=this.storage.getItem(b),O=this.localCache[b];x!==O&&m(b,O,x)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((ie,He,Qe)=>{this.notifyListeners(ie,Qe)});const x=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ie=this.storage.getItem(x);if(m.newValue!==ie)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!b)return}const O=()=>{const ie=this.storage.getItem(x);!b&&this.localCache[x]===ie||this.notifyListeners(x,ie)},Z=this.storage.getItem(x);!function hs(){return(0,B.w1)()&&10===document.documentMode}()||Z===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,b){this.localCache[m]=b;const x=this.listeners[m];if(x)for(const O of Array.from(x))O(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var x=()=>super._set,O=this;return(0,d.Z)(function*(){yield x().call(O,m,b),O.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,x=this;return(0,d.Z)(function*(){const O=yield b().call(x,m);return x.localCache[m]=JSON.stringify(O),O})()}_remove(m){var b=()=>super._remove,x=this;return(0,d.Z)(function*(){yield b().call(x,m),delete x.localCache[m]})()}}return w.type="LOCAL",w})(),Ka=(()=>{class w extends Ln{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return w.type="SESSION",w})();let Zd=(()=>{class w{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(O=>O.isListeningto(m));if(b)return b;const x=new w(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,d.Z)(function*(){const x=m,{eventId:O,eventType:Z,data:ie}=x.data,He=b.handlersMap[Z];if(!He?.size)return;x.ports[0].postMessage({status:"ack",eventId:O,eventType:Z});const Qe=Array.from(He).map(function(){var ft=(0,d.Z)(function*(Qn){return Qn(x.origin,ie)});return function(Qn){return ft.apply(this,arguments)}}()),ht=yield function N_(w){return Promise.all(w.map(function(){var p=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(Qe);x.ports[0].postMessage({status:"done",eventId:O,eventType:Z,response:ht})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Kd(w="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return w+m}class e0{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var x=this;return(0,d.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Z,ie;return new Promise((He,Qe)=>{const ht=Kd("",20);O.port1.start();const ft=setTimeout(()=>{Qe(new Error("unsupported_event"))},b);ie={messageChannel:O,onMessage(Qn){const mo=Qn;if(mo.data.eventId===ht)switch(mo.data.status){case"ack":clearTimeout(ft),Z=setTimeout(()=>{Qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),He(mo.data.response);break;default:clearTimeout(ft),clearTimeout(Z),Qe(new Error("invalid_response"))}}},x.handlers.add(ie),O.port1.addEventListener("message",ie.onMessage),x.target.postMessage({eventType:p,eventId:ht,data:m},[O.port2])}).finally(()=>{ie&&x.removeMessageHandler(ie)})})()}}function Ee(){return window}function Oc(){return typeof Ee().WorkerGlobalScope<"u"&&"function"==typeof Ee().importScripts}function Sr(){return(Sr=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Hs="firebaseLocalStorageDb",Ya="firebaseLocalStorage",Yd="fbase_key";class Qd{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ku(w,p){return w.transaction([Ya],p?"readwrite":"readonly").objectStore(Ya)}function $s(){const w=indexedDB.open(Hs,1);return new Promise((p,m)=>{w.addEventListener("error",()=>{m(w.error)}),w.addEventListener("upgradeneeded",()=>{const b=w.result;try{b.createObjectStore(Ya,{keyPath:Yd})}catch(x){m(x)}}),w.addEventListener("success",(0,d.Z)(function*(){const b=w.result;b.objectStoreNames.contains(Ya)?p(b):(b.close(),yield function Fi(){const w=indexedDB.deleteDatabase(Hs);return new Qd(w).toPromise()}(),p(yield $s()))}))})}function jl(w,p,m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,d.Z)(function*(w,p,m){const b=ku(w,!0).put({[Yd]:p,value:m});return new Qd(b).toPromise()})).apply(this,arguments)}function Jd(){return(Jd=(0,d.Z)(function*(w,p){const m=ku(w,!1).get(p),b=yield new Qd(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Xd(w,p){const m=ku(w,!0).delete(p);return new Qd(m).toPromise()}const Qa=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield $s()),m.db})()}_withRetries(m){var b=this;return(0,d.Z)(function*(){let x=0;for(;;)try{const O=yield b._openDb();return yield m(O)}catch(O){if(x++>3)throw O;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return Oc()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=Zd._getInstance(function rr(){return Oc()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(x,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(x,O){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(x,O){return["keyChanged"]});return function(x,O){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var b,x;if(m.activeServiceWorker=yield function xf(){return Sr.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new e0(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);O&&null!==(b=O[0])&&void 0!==b&&b.fulfilled&&null!==(x=O[0])&&void 0!==x&&x.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Nu(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield $s();return yield jl(m,it,"1"),yield Xd(m,it),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var x=this;return(0,d.Z)(function*(){return x._withPendingWrite((0,d.Z)(function*(){return yield x._withRetries(O=>jl(O,m,b)),x.localCache[m]=b,x.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,d.Z)(function*(){const x=yield b._withRetries(O=>function Ur(w,p){return Jd.apply(this,arguments)}(O,m));return b.localCache[m]=x,x})()}_remove(m){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(x=>Xd(x,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const b=yield m._withRetries(Z=>{const ie=ku(Z,!1).getAll();return new Qd(ie).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const x=[],O=new Set;for(const{fbase_key:Z,value:ie}of b)O.add(Z),JSON.stringify(m.localCache[Z])!==JSON.stringify(ie)&&(m.notifyListeners(Z,ie),x.push(Z));for(const Z of Object.keys(m.localCache))m.localCache[Z]&&!O.has(Z)&&(m.notifyListeners(Z,null),x.push(Z));return x})()}notifyListeners(m,b){this.localCache[m]=b;const x=this.listeners[m];if(x)for(const O of Array.from(x))O(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),Hl=1e12;class kf{constructor(p){this.auth=p,this.counter=Hl,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new rh(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||Hl;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Hl))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,d.Z)(function*(){var b;return null===(b=m._widgets.get(p||Hl))||void 0===b||b.execute(),""})()}}class rh{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof p?document.getElementById(p):p;he(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function bg(w){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<w;b++)p.push(m.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Lc=Qi("rcb"),Eg=new Ki(3e4,6e4);class Ui{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Ee().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return he(function pa(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&Lt(Ee().grecaptcha)?Promise.resolve(Ee().grecaptcha):new Promise((b,x)=>{const O=Ee().setTimeout(()=>{x(se(p,"network-request-failed"))},Eg.get());Ee()[Lc]=()=>{Ee().clearTimeout(O),delete Ee()[Lc];const ie=Ee().grecaptcha;if(!ie||!Lt(ie))return void x(se(p,"internal-error"));const He=ie.render;ie.render=(Qe,ht)=>{const ft=He(Qe,ht);return this.counter++,ft},this.hostLanguage=m,b(ie)},Cr(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Lc,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),x(se(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Ee().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ir{load(p){return(0,d.Z)(function*(){return new kf(p)})()}clearedOneInstance(){}}const Uc="recaptcha",P_={theme:"light",type:"image"};class ih{constructor(p,m=Object.assign({},P_),b){this.parameters=m,this.type=Uc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tr(b),this.isInvisible="invisible"===this.parameters.size,he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof p?document.getElementById(p):p;he(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ir:new Ui,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(O=>{const Z=ie=>{ie&&(p.tokenChangeListeners.delete(Z),O(ie))};p.tokenChangeListeners.add(Z),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){he(!this.parameters.sitekey,this.auth,"argument-error"),he(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=Ee()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){he(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){he(si()&&!Oc(),p.auth,"internal-error"),yield function O_(){let w=null;return new Promise(p=>{"complete"!==document.readyState?(w=()=>p(),window.addEventListener("load",w)):p()}).catch(p=>{throw w&&window.removeEventListener("load",w),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function ae(w){return Le.apply(this,arguments)}(p.auth);he(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return he(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wn{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Dr._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function ga(){return(ga=(0,d.Z)(function*(w,p,m){const b=tr(w),x=yield ya(b,p,(0,B.m9)(m));return new wn(x,O=>Rl(b,O))})).apply(this,arguments)}function Pu(){return(Pu=(0,d.Z)(function*(w,p,m){const b=(0,B.m9)(w);yield ko(!1,b,"phone");const x=yield ya(b.auth,p,(0,B.m9)(m));return new wn(x,O=>Hd(b,O))})).apply(this,arguments)}function _a(){return(_a=(0,d.Z)(function*(w,p,m){const b=(0,B.m9)(w),x=yield ya(b.auth,p,(0,B.m9)(m));return new wn(x,O=>Ic(b,O))})).apply(this,arguments)}function ya(w,p,m){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,d.Z)(function*(w,p,m){var b;const x=yield m.verify();try{let O;if(he("string"==typeof x,w,"argument-error"),he(m.type===Uc,w,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const Z=O.session;if("phoneNumber"in O)return he("enroll"===Z.type,w,"internal-error"),(yield function ha(w,p){return ke(w,"POST","/v2/accounts/mfaEnrollment:start",Ne(w,p))}(w,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{he("signin"===Z.type,w,"internal-error");const ie=(null===(b=O.multiFactorHint)||void 0===b?void 0:b.uid)||O.multiFactorUid;return he(ie,w,"missing-multi-factor-info"),(yield function Rf(w,p){return ke(w,"POST","/v2/accounts/mfaSignIn:start",Ne(w,p))}(w,{mfaPendingCredential:Z.credential,mfaEnrollmentId:ie,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield function hn(w,p){return Yr.apply(this,arguments)}(w,{phoneNumber:O.phoneNumber,recaptchaToken:x});return Z}}finally{m._reset()}}),Uo.apply(this,arguments)}function vr(){return(vr=(0,d.Z)(function*(w,p){yield Jr((0,B.m9)(w),p)})).apply(this,arguments)}let kt=(()=>{class w{constructor(m){this.providerId=w.PROVIDER_ID,this.auth=tr(m)}verifyPhoneNumber(m,b){return ya(this.auth,m,(0,B.m9)(b))}static credential(m,b){return Dr._fromVerification(m,b)}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:x}=m;return b&&x?Dr._fromTokenResponse(b,x):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function _s(w,p){return p?Jn(p):(he(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class pi extends To{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Pi(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Pi(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Pi(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function sh(w){return Du(w.auth,new pi(w),w.bypassAuthState)}function Pf(w){const{auth:p,user:m}=w;return he(m,p,"internal-error"),Va(m,new pi(w),w.bypassAuthState)}function Gl(w){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,d.Z)(function*(w){const{auth:p,user:m}=w;return he(m,p,"internal-error"),Jr(m,new pi(w),w.bypassAuthState)})).apply(this,arguments)}class Bo{constructor(p,m,b,x,O=!1){this.auth=p,this.resolver=b,this.user=x,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,d.Z)(function*(b,x){p.pendingPromise={resolve:b,reject:x};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(b,x){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:x,postBody:O,tenantId:Z,error:ie,type:He}=p;if(ie)return void m.reject(ie);const Qe={auth:m.auth,requestUri:b,sessionId:x,tenantId:Z||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(He)(Qe))}catch(ht){m.reject(ht)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return sh;case"linkViaPopup":case"linkViaRedirect":return Gl;case"reauthViaPopup":case"reauthViaRedirect":return Pf;default:Ce(this.auth,"internal-error")}}resolve(p){dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ar=new Ki(2e3,1e4);function Lf(){return(Lf=(0,d.Z)(function*(w,p,m){const b=tr(w);je(w,p,yr);const x=_s(b,m);return new ys(b,"signInViaPopup",p,x).executeNotNull()})).apply(this,arguments)}function Ja(){return(Ja=(0,d.Z)(function*(w,p,m){const b=(0,B.m9)(w);je(b.auth,p,yr);const x=_s(b.auth,m);return new ys(b.auth,"reauthViaPopup",p,x,b).executeNotNull()})).apply(this,arguments)}function po(){return(po=(0,d.Z)(function*(w,p,m){const b=(0,B.m9)(w);je(b.auth,p,yr);const x=_s(b.auth,m);return new ys(b.auth,"linkViaPopup",p,x,b).executeNotNull()})).apply(this,arguments)}let ys=(()=>{class w extends Bo{constructor(m,b,x,O,Z){super(m,b,O,Z),this.provider=x,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const b=yield m.execute();return he(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,d.Z)(function*(){dt(1===m.filter.length,"Popup operations only handle one event");const b=Kd();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(se(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,x;this.pollId=null!==(x=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(se(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Ar.get())};m()}}return w.currentPopupAction=null,w})();const Xa="pendingRedirect",Vr=new Map;class va extends Bo{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,d.Z)(function*(){let b=Vr.get(m.auth._key());if(!b){try{const O=(yield function Bc(w,p){return jo.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(O)}catch(x){b=()=>Promise.reject(x)}Vr.set(m.auth._key(),b)}return m.bypassAuthState||Vr.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const x=yield b.auth._redirectUserForId(p.eventId);if(x)return b.user=x,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function jo(){return(jo=(0,d.Z)(function*(w,p){const m=el(p),b=lh(w);if(!(yield b._isAvailable()))return!1;const x="true"===(yield b._get(m));return yield b._remove(m),x})).apply(this,arguments)}function vs(w,p){return ah.apply(this,arguments)}function ah(){return(ah=(0,d.Z)(function*(w,p){return lh(w)._set(el(p),"true")})).apply(this,arguments)}function zl(w,p){Vr.set(w._key(),p)}function lh(w){return Jn(w._redirectPersistence)}function el(w){return W(Xa,w.config.apiKey,w.name)}function Ou(w,p,m){return function Ff(w,p,m){return tl.apply(this,arguments)}(w,p,m)}function tl(){return(tl=(0,d.Z)(function*(w,p,m){const b=tr(w);je(w,p,yr),yield b._initializationPromise;const x=_s(b,m);return yield vs(x,b),x._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function uh(w,p,m){return function ch(w,p,m){return Lu.apply(this,arguments)}(w,p,m)}function Lu(){return(Lu=(0,d.Z)(function*(w,p,m){const b=(0,B.m9)(w);je(b.auth,p,yr),yield b.auth._initializationPromise;const x=_s(b.auth,m);yield vs(x,b.auth);const O=yield Fu(b);return x._openRedirect(b.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function Uf(w,p,m){return function dh(w,p,m){return go.apply(this,arguments)}(w,p,m)}function go(){return(go=(0,d.Z)(function*(w,p,m){const b=(0,B.m9)(w);je(b.auth,p,yr),yield b.auth._initializationPromise;const x=_s(b.auth,m);yield ko(!1,b,p.providerId),yield vs(x,b.auth);const O=yield Fu(b);return x._openRedirect(b.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function nl(){return(nl=(0,d.Z)(function*(w,p){return yield tr(w)._initializationPromise,ql(w,p,!1)})).apply(this,arguments)}function ql(w,p){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,d.Z)(function*(w,p,m=!1){const b=tr(w),x=_s(b,p),Z=yield new va(b,x,m).execute();return Z&&!m&&(delete Z.user._redirectEventId,yield b._persistUserIfCurrent(Z.user),yield b._setRedirectUser(null,p)),Z})).apply(this,arguments)}function Fu(w){return wr.apply(this,arguments)}function wr(){return(wr=(0,d.Z)(function*(w){const p=Kd(`${w.uid}:::`);return w._redirectEventId=p,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),p})).apply(this,arguments)}class rl{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Vu(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uu(w);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!Uu(p)){const x=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(se(this.auth,x))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($o(p))}saveEventToCache(p){this.cachedEventUids.add($o(p)),this.lastProcessedEventTime=Date.now()}}function $o(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(p=>p).join("-")}function Uu({type:w,error:p}){return"unknown"===w&&"auth/no-auth-event"===p?.code}function $c(w){return cr.apply(this,arguments)}function cr(){return(cr=(0,d.Z)(function*(w,p={}){return ke(w,"GET","/v1/projects",p)})).apply(this,arguments)}const ws=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,il=/^https?/;function Go(){return(Go=(0,d.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:p}=yield $c(w);for(const m of p)try{if(wa(m))return}catch{}Ce(w,"unauthorized-domain")})).apply(this,arguments)}function wa(w){const p=qn(),{protocol:m,hostname:b}=new URL(p);if(w.startsWith("chrome-extension://")){const Z=new URL(w);return""===Z.hostname&&""===b?"chrome-extension:"===m&&w.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Z.hostname===b}if(!il.test(m))return!1;if(ws.test(w))return b===w;const x=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(b)}const Cg=new Ki(3e4,6e4);function Gc(){const w=Ee().___jsl;if(w?.H)for(const p of Object.keys(w.H))if(w.H[p].r=w.H[p].r||[],w.H[p].L=w.H[p].L||[],w.H[p].r=[...w.H[p].L],w.CP)for(let m=0;m<w.CP.length;m++)w.CP[m]=null}let hh=null;const F_=new Ki(5e3,15e3),uC="__/auth/iframe",U_="emulator/auth/iframe",Bu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t0(w){const p=w.config;he(p.authDomain,w,"auth-domain-config-required");const m=p.emulator?pe(p,U_):`https://${w.config.authDomain}/${uC}`,b={apiKey:p.apiKey,appName:w.name,v:oe.SDK_VERSION},x=V_.get(w.config.apiHost);x&&(b.eid=x);const O=w._getFrameworks();return O.length&&(b.fw=O.join(",")),`${m}?${(0,B.xO)(b).slice(1)}`}function A(){return A=(0,d.Z)(function*(w){const p=yield function ba(w){return hh=hh||function zo(w){return new Promise((p,m)=>{var b,x,O;function Z(){Gc(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Gc(),m(se(w,"network-request-failed"))},timeout:Cg.get()})}if(null!==(x=null===(b=Ee().gapi)||void 0===b?void 0:b.iframes)&&void 0!==x&&x.Iframe)p(gapi.iframes.getContext());else{if(null===(O=Ee().gapi)||void 0===O||!O.load){const ie=Qi("iframefcb");return Ee()[ie]=()=>{gapi.load?Z():m(se(w,"network-request-failed"))},Cr(`https://apis.google.com/js/api.js?onload=${ie}`).catch(He=>m(He))}Z()}}).catch(p=>{throw hh=null,p})}(w),hh}(w),m=Ee().gapi;return he(m,w,"internal-error"),p.open({where:document.body,url:t0(w),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bu,dontclear:!0},b=>new Promise(function(){var x=(0,d.Z)(function*(O,Z){yield b.restyle({setHideOnLeave:!1});const ie=se(w,"network-request-failed"),He=Ee().setTimeout(()=>{Z(ie)},F_.get());function Qe(){Ee().clearTimeout(He),O(b)}b.ping(Qe).then(Qe,()=>{Z(ie)})});return function(O,Z){return x.apply(this,arguments)}}()))}),A.apply(this,arguments)}const N={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ke{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ft="__/auth/handler",Ht="emulator/auth/handler",Gs=encodeURIComponent("fac");function pn(w,p,m,b,x,O){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,d.Z)(function*(w,p,m,b,x,O){he(w.config.authDomain,w,"auth-domain-config-required"),he(w.config.apiKey,w,"invalid-api-key");const Z={apiKey:w.config.apiKey,appName:w.name,authType:m,redirectUrl:b,v:oe.SDK_VERSION,eventId:x};if(p instanceof yr){p.setDefaultLanguage(w.languageCode),Z.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(Z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[ht,ft]of Object.entries(O||{}))Z[ht]=ft}if(p instanceof Us){const ht=p.getScopes().filter(ft=>""!==ft);ht.length>0&&(Z.scopes=ht.join(","))}w.tenantId&&(Z.tid=w.tenantId);const ie=Z;for(const ht of Object.keys(ie))void 0===ie[ht]&&delete ie[ht];const He=yield w._getAppCheckToken(),Qe=He?`#${Gs}=${encodeURIComponent(He)}`:"";return`${function zs({config:w}){return w.emulator?pe(w,Ht):`https://${w.authDomain}/${Ft}`}(w)}?${(0,B.xO)(ie).slice(1)}${Qe}`})).apply(this,arguments)}const sl="webStorageSupport",bs=class es{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ka,this._completeRedirectFn=ql,this._overrideRedirectResult=zl}_openPopup(p,m,b,x){var O=this;return(0,d.Z)(function*(){var Z;dt(null===(Z=O.eventManagers[p._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const ie=yield pn(p,m,b,qn(),x);return function Ze(w,p,m,b=500,x=600){const O=Math.max((window.screen.availHeight-x)/2,0).toString(),Z=Math.max((window.screen.availWidth-b)/2,0).toString();let ie="";const He=Object.assign(Object.assign({},N),{width:b.toString(),height:x.toString(),top:O,left:Z}),Qe=(0,B.z$)().toLowerCase();m&&(ie=et(Qe)?"_blank":m),xe(Qe)&&(p=p||"http://localhost",He.scrollbars="yes");const ht=Object.entries(He).reduce((Qn,[mo,Wu])=>`${Qn}${mo}=${Wu},`,"");if(function ar(w=(0,B.z$)()){var p;return $n(w)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Qe)&&"_self"!==ie)return function mt(w,p){const m=document.createElement("a");m.href=w,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",ie),new Ke(null);const ft=window.open(p||"",ie,ht);he(ft,w,"popup-blocked");try{ft.focus()}catch{}return new Ke(ft)}(p,ie,Kd())})()}_openRedirect(p,m,b,x){var O=this;return(0,d.Z)(function*(){return yield O._originValidation(p),function fn(w){Ee().location.href=w}(yield pn(p,m,b,qn(),x)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:x,promise:O}=this.eventManagers[m];return x?Promise.resolve(x):(dt(O,"If manager is not set, promise should be"),O)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,d.Z)(function*(){const b=yield function I(w){return A.apply(this,arguments)}(p),x=new rl(p);return b.register("authEvent",O=>(he(O?.authEvent,p,"invalid-auth-event"),{status:x.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:x},m.iframes[p._key()]=b,x})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(sl,{type:sl},x=>{var O;const Z=null===(O=x?.[0])||void 0===O?void 0:O[sl];void 0!==Z&&m(!!Z),Ce(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ig(w){return Go.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ps()||ce()||$n()}};class Wl{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return pt("unexpected MultiFactorSessionType")}}}class B_ extends Wl{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new B_(p)}_finalizeEnroll(p,m,b){return function C(w,p){return ke(w,"POST","/v2/accounts/mfaEnrollment:finalize",Ne(w,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function th(w,p){return ke(w,"POST","/v2/accounts/mfaSignIn:finalize",Ne(w,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let cC=(()=>{class w{constructor(){}static assertion(m){return B_._fromCredential(m)}}return w.FACTOR_ID="phone",w})();var fh="@firebase/auth";class Bf{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{p(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Hu(){return window}(0,B.Pz)("authIdTokenMaxAge"),function r0(w){(0,oe._registerComponent)(new re.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),x=p.getProvider("heartbeat"),O=p.getProvider("app-check-internal"),{apiKey:Z,authDomain:ie}=b.options;he(Z&&!Z.includes(":"),"invalid-api-key",{appName:b.name});const He={apiKey:Z,authDomain:ie,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ge(w)},Qe=new vu(b,x,O,He);return function Ud(w,p){const m=p?.persistence||[],b=(Array.isArray(m)?m:[m]).map(Jn);p?.errorMap&&w._updateErrorMap(p.errorMap),w._initializeWithPersistence(b,p?.popupRedirectResolver)}(Qe,m),Qe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new re.wA("auth-internal",p=>{const m=tr(p.getProvider("auth").getImmediate());return new Bf(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(fh,"0.23.2",function ju(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,oe.registerVersion)(fh,"0.23.2","esm2017")}("Browser");function $_(){return $_=(0,d.Z)(function*(w,p,m){var b;const{BuildInfo:x}=Hu();dt(p.sessionId,"AuthEvent did not contain a session ID");const O=yield function G_(w){return Zl.apply(this,arguments)}(p.sessionId),Z={};return $n()?Z.ibi=x.packageName:Nt()?Z.apn=x.packageName:Ce(w,"operation-not-supported-in-this-environment"),x.displayName&&(Z.appDisplayName=x.displayName),Z.sessionId=O,pn(w,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,Z)}),$_.apply(this,arguments)}function qc(){return(qc=(0,d.Z)(function*(w){const{BuildInfo:p}=Hu(),m={};$n()?m.iosBundleId=p.packageName:Nt()?m.androidPackageName=p.packageName:Ce(w,"operation-not-supported-in-this-environment"),yield $c(w,m)})).apply(this,arguments)}function mh(){return(mh=(0,d.Z)(function*(w,p,m){const{cordova:b}=Hu();let x=()=>{};try{yield new Promise((O,Z)=>{let ie=null;function He(){var ft;O();const Qn=null===(ft=b.plugins.browsertab)||void 0===ft?void 0:ft.close;"function"==typeof Qn&&Qn(),"function"==typeof m?.close&&m.close()}function Qe(){ie||(ie=window.setTimeout(()=>{Z(se(w,"redirect-cancelled-by-user"))},2e3))}function ht(){"visible"===document?.visibilityState&&Qe()}p.addPassiveListener(He),document.addEventListener("resume",Qe,!1),Nt()&&document.addEventListener("visibilitychange",ht,!1),x=()=>{p.removePassiveListener(He),document.removeEventListener("resume",Qe,!1),document.removeEventListener("visibilitychange",ht,!1),ie&&window.clearTimeout(ie)}})}finally{x()}})).apply(this,arguments)}function Zl(){return(Zl=(0,d.Z)(function*(w){const p=function z_(w){if(dt(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(w);const p=new ArrayBuffer(w.length),m=new Uint8Array(p);for(let b=0;b<w.length;b++)m[b]=w.charCodeAt(b);return m}(w),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class q_ extends rl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,d.Z)(function*(){yield p.initPromise})()}}function W_(w){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,d.Z)(function*(w){const p=yield K_()._get(Dg(w));return p&&(yield K_()._remove(Dg(w))),p})).apply(this,arguments)}function Z_(){const w=[];for(let m=0;m<20;m++){const b=Math.floor(62*Math.random());w.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(b))}return w.join("")}function K_(){return Jn(Za)}function Dg(w){return W("authEvent",w.config.apiKey,w.name)}function Q_(w){if(!w?.includes("?"))return{};const[p,...m]=w.split("?");return(0,B.zd)(m.join("?"))}const a0=class pC{constructor(){this._redirectPersistence=Ka,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ql,this._overrideRedirectResult=zl}_initialize(p){var m=this;return(0,d.Z)(function*(){const b=p._key();let x=m.eventManagers.get(b);return x||(x=new q_(p),m.eventManagers.set(b,x),m.attachCallbackListeners(p,x)),x})()}_openPopup(p){Ce(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,x){var O=this;return(0,d.Z)(function*(){!function o0(w){var p,m,b,x,O,Z,ie,He,Qe,ht;const ft=Hu();he("function"==typeof(null===(p=ft?.universalLinks)||void 0===p?void 0:p.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),he(typeof(null===(m=ft?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),he("function"==typeof(null===(O=null===(x=null===(b=ft?.cordova)||void 0===b?void 0:b.plugins)||void 0===x?void 0:x.browsertab)||void 0===O?void 0:O.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),he("function"==typeof(null===(He=null===(ie=null===(Z=ft?.cordova)||void 0===Z?void 0:Z.plugins)||void 0===ie?void 0:ie.browsertab)||void 0===He?void 0:He.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),he("function"==typeof(null===(ht=null===(Qe=ft?.cordova)||void 0===Qe?void 0:Qe.InAppBrowser)||void 0===ht?void 0:ht.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Z=yield O._initialize(p);yield Z.initialized(),Z.resetRedirect(),function jc(){Vr.clear()}(),yield O._originValidation(p);const ie=function Hf(w,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Z_(),postBody:null,tenantId:w.tenantId,error:se(w,"no-auth-event")}}(p,b,x);yield function $f(w,p){return K_()._set(Dg(w),p)}(p,ie);const He=yield function gh(w,p,m){return $_.apply(this,arguments)}(p,ie,m),Qe=yield function hC(w){const{cordova:p}=Hu();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let x=null;b?p.plugins.browsertab.openUrl(w):x=p.InAppBrowser.open(w,function bt(w=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),m(x)})})}(He);return function ax(w,p,m){return mh.apply(this,arguments)}(p,Z,Qe)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function dC(w){return qc.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:x,BuildInfo:O}=Hu(),Z=setTimeout((0,d.Z)(function*(){yield W_(p),m.onEvent(J_())}),500),ie=function(){var ht=(0,d.Z)(function*(ft){clearTimeout(Z);const Qn=yield W_(p);let mo=null;Qn&&ft?.url&&(mo=function _h(w,p){var m,b;const x=function lx(w){const p=Q_(w),m=p.link?decodeURIComponent(p.link):void 0,b=Q_(m).link,x=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Q_(x).link||x||b||m||w}(p);if(x.includes("/__/auth/callback")){const O=Q_(x),Z=O.firebaseError?function Y_(w){try{return JSON.parse(w)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,ie=null===(b=null===(m=Z?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],He=ie?se(ie):null;return He?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:x,postBody:null}}return null}(Qn,ft.url)),m.onEvent(mo||J_())});return function(Qn){return ht.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,ie);const He=x,Qe=`${O.packageName.toLowerCase()}://`;Hu().handleOpenURL=function(){var ht=(0,d.Z)(function*(ft){if(ft.toLowerCase().startsWith(Qe)&&ie({url:ft}),"function"==typeof He)try{He(ft)}catch(Qn){console.error(Qn)}});return function(ft){return ht.apply(this,arguments)}}()}};function J_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:se("no-auth-event")}}function Gu(){var w;return(null===(w=self?.location)||void 0===w?void 0:w.protocol)||null}function ey(w=(0,B.z$)()){return!("file:"!==Gu()&&"ionic:"!==Gu()&&"capacitor:"!==Gu()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ag(){try{const w=self.localStorage,p=Kd();if(w)return w.setItem(p,"1"),w.removeItem(p),!function qf(w=(0,B.z$)()){return function zf(){return(0,B.w1)()&&11===document?.documentMode}()||function wh(w=(0,B.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,B.hl)()}catch{return bh()&&(0,B.hl)()}return!1}function bh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function xg(){return(function Wc(){return"http:"===Gu()||"https:"===Gu()}()||(0,B.ru)()||ey())&&!function Sg(){return(0,B.b$)()||(0,B.UG)()}()&&Ag()&&!bh()}function Wf(){return ey()&&typeof document<"u"}function Zc(){return(Zc=(0,d.Z)(function*(){return!!Wf()&&new Promise(w=>{const p=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),w(!0)})})})).apply(this,arguments)}const ts={LOCAL:"local",NONE:"none",SESSION:"session"},Kc=he,Zf="persistence";function Vi(w){return zu.apply(this,arguments)}function zu(){return(zu=(0,d.Z)(function*(w){yield w._initializationPromise;const p=Eh(),m=W(Zf,w.config.apiKey,w.name);p&&p.setItem(m,w._getPersistence())})).apply(this,arguments)}function Eh(){var w;try{return(null===(w=function l0(){return typeof window<"u"?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch{return null}}const Bi=he;class ns{constructor(){this.browserResolver=Jn(bs),this.cordovaResolver=Jn(a0),this.underlyingResolver=null,this._redirectPersistence=Ka,this._completeRedirectFn=ql,this._overrideRedirectResult=zl}_initialize(p){var m=this;return(0,d.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,x){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,m,b,x)})()}_openRedirect(p,m,b,x){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,m,b,x)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Wf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,d.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Mg(){return Zc.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Ih(w){return w.unwrap()}function iy(w){return u0(w)}function u0(w){const{_tokenResponse:p}=w instanceof B.ZR?w.customData:w;if(!p)return null;if(!(w instanceof B.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return kt.credentialFromResult(w);const m=p.providerId;if(!m||m===ye.PASSWORD)return null;let b;switch(m){case ye.GOOGLE:b=Qr;break;case ye.FACEBOOK:b=so;break;case ye.GITHUB:b=Ji;break;case ye.TWITTER:b=Al;break;default:const{oauthIdToken:x,oauthAccessToken:O,oauthTokenSecret:Z,pendingToken:ie,nonce:He}=p;return O||Z||x||ie?ie?m.startsWith("saml.")?$t._create(m,ie):At._fromParams({providerId:m,signInMethod:m,pendingToken:ie,idToken:x,accessToken:O}):new Vs(m).credential({idToken:x,accessToken:O,rawNonce:He}):null}return w instanceof B.ZR?b.credentialFromError(w):b.credentialFromResult(w)}function Ii(w,p){return p.catch(m=>{throw m instanceof B.ZR&&function sy(w,p){var m;const b=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new oy(w,function Pc(w,p){var m;const b=(0,B.m9)(w),x=p;return he(p.customData.operationType,b,"argument-error"),he(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),da._fromError(b,x)}(w,p));else if(b){const x=u0(p),O=p;x&&(O.credential=x,O.tenantId=b.tenantId||void 0,O.email=b.email||void 0,O.phoneNumber=b.phoneNumber||void 0)}}(w,m),m}).then(m=>{const x=m.user;return{operationType:m.operationType,credential:iy(m),additionalUserInfo:Nc(m),user:rs.getOrCreate(x)}})}function Ch(w,p){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,d.Z)(function*(w,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>Ii(w,m.confirm(b))}})).apply(this,arguments)}class oy{constructor(p,m){this.resolver=m,this.auth=function ry(w){return w.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ii(Ih(this.auth),this.resolver.resolveSignIn(p))}}class rs{constructor(p){this._delegate=p,this.multiFactor=function ln(w){const p=(0,B.m9)(w);return yt.has(p)||yt.set(p,be._fromUser(p)),yt.get(p)}(p)}static getOrCreate(p){return rs.USER_MAP.has(p)||rs.USER_MAP.set(p,new rs(p)),rs.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,d.Z)(function*(){return Ii(m.auth,Hd(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,d.Z)(function*(){return Ch(b.auth,function ma(w,p,m){return Pu.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,d.Z)(function*(){return Ii(m.auth,function L_(w,p,m){return po.apply(this,arguments)}(m._delegate,p,ns))})()}linkWithRedirect(p){var m=this;return(0,d.Z)(function*(){return yield Vi(tr(m.auth)),Uf(m._delegate,p,ns)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,d.Z)(function*(){return Ii(m.auth,Ic(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Ch(this.auth,function $l(w,p,m){return _a.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Ii(this.auth,function oh(w,p,m){return Ja.apply(this,arguments)}(this._delegate,p,ns))}reauthenticateWithRedirect(p){var m=this;return(0,d.Z)(function*(){return yield Vi(tr(m.auth)),uh(m._delegate,p,ns)})()}sendEmailVerification(p){return function Pl(w,p){return ua.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,d.Z)(function*(){return yield function oo(w,p){return fi.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function xc(w,p){return qd((0,B.m9)(w),p,null)}(this._delegate,p)}updatePassword(p){return function Mc(w,p){return qd((0,B.m9)(w),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Vo(w,p){return vr.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function yg(w,p){return Ll.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Ol(w,p,m){return co.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}rs.USER_MAP=new WeakMap;const qu=he;let Th=(()=>{class w{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=m.options;qu(x,"invalid-api-key",{appName:m.name}),qu(x,"invalid-api-key",{appName:m.name});const O=typeof window<"u"?ns:void 0;this._delegate=b.initialize({options:{persistence:Yc(x,m.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?rs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function hi(w,p,m){const b=tr(w);he(b._canInitEmulator,b,"emulator-config-failed"),he(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const x=!!m?.disableWarnings,O=Do(p),{host:Z,port:ie}=function wu(w){const p=Do(w),m=/(\/\/)?([^?#/]+)/.exec(w.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(b);if(x){const O=x[1];return{host:O,port:bu(b.substr(O.length+1))}}{const[O,Z]=b.split(":");return{host:O,port:bu(Z)}}}(p);b.config.emulator={url:`${O}//${Z}${null===ie?"":`:${ie}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Z,port:ie,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function Df(){function w(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(this._delegate,m,b)}applyActionCode(m){return function Cc(w,p){return Xr.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ha(this._delegate,m)}confirmPasswordReset(m,b){return function lo(w,p,m){return Po.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var x=this;return(0,d.Z)(function*(){return Ii(x._delegate,function Dc(w,p,m){return Ga.apply(this,arguments)}(x._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Sc(w,p){return Ac.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Tc(w,p){const m=Pn.parseLink(p);return"EMAIL_SIGNIN"===m?.operation}(0,m)}getRedirectResult(){var m=this;return(0,d.Z)(function*(){qu(xg(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Vf(w,p){return nl.apply(this,arguments)}(m._delegate,ns);return b?Ii(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function yh(w,p){tr(w)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,x){const{next:O,error:Z,complete:ie}=ay(m,b,x);return this._delegate.onAuthStateChanged(O,Z,ie)}onIdTokenChanged(m,b,x){const{next:O,error:Z,complete:ie}=ay(m,b,x);return this._delegate.onIdTokenChanged(O,Z,ie)}sendSignInLinkToEmail(m,b){return function uo(w,p,m){return jn.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function Af(w,p,m){return ja.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,d.Z)(function*(){let x;switch(function ty(w,p){Kc(Object.values(ts).includes(p),w,"invalid-persistence-type"),(0,B.b$)()?Kc(p!==ts.SESSION,w,"unsupported-persistence-type"):(0,B.UG)()?Kc(p===ts.NONE,w,"unsupported-persistence-type"):bh()?Kc(p===ts.NONE||p===ts.LOCAL&&(0,B.hl)(),w,"unsupported-persistence-type"):Kc(p===ts.NONE||Ag(),w,"unsupported-persistence-type")}(b._delegate,m),m){case ts.SESSION:x=Ka;break;case ts.LOCAL:x=(yield Jn(Qa)._isAvailable())?Qa:Za;break;case ts.NONE:x=Ni;break;default:return Ce("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ii(this._delegate,function nr(w){return jd.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Ii(this._delegate,Rl(this._delegate,m))}signInWithCustomToken(m){return Ii(this._delegate,function Au(w,p){return Xi.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Ii(this._delegate,function gs(w,p,m){return Rl((0,B.m9)(w),xo.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Ii(this._delegate,function Lr(w,p,m){return kl.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Ch(this._delegate,function ms(w,p,m){return ga.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,d.Z)(function*(){return qu(xg(),b._delegate,"operation-not-supported-in-this-environment"),Ii(b._delegate,function Of(w,p,m){return Lf.apply(this,arguments)}(b._delegate,m,ns))})()}signInWithRedirect(m){var b=this;return(0,d.Z)(function*(){return qu(xg(),b._delegate,"operation-not-supported-in-this-environment"),yield Vi(b._delegate),Ou(b._delegate,m,ns)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Nl(w,p){return la.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=ts,w})();function ay(w,p,m){let b=w;"function"!=typeof w&&({next:b,error:p,complete:m}=w);const x=b;return{next:Z=>x(Z&&rs.getOrCreate(Z)),error:p,complete:m}}function Yc(w,p){const m=function ny(w,p){const m=Eh();if(!m)return[];const b=W(Zf,w,p);switch(m.getItem(b)){case ts.NONE:return[Ni];case ts.LOCAL:return[Qa,Ka];case ts.SESSION:return[Ka];default:return[]}}(w,p);if(typeof self<"u"&&!m.includes(Qa)&&m.push(Qa),typeof window<"u")for(const b of[Za,Ka])m.includes(b)||m.push(b);return m.includes(Ni)||m.push(Ni),m}class Rg{constructor(){this.providerId="phone",this._delegate=new kt(Ih(ne.Z.auth()))}static credential(p,m){return kt.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Rg.PHONE_SIGN_IN_METHOD=kt.PHONE_SIGN_IN_METHOD,Rg.PROVIDER_ID=kt.PROVIDER_ID;const c0=he;class Kf{constructor(p,m,b=ne.Z.app()){var x;c0(null===(x=b.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new ih(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ly(w){w.INTERNAL.registerComponent(new re.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Th(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:xo,FacebookAuthProvider:so,GithubAuthProvider:Ji,GoogleAuthProvider:Qr,OAuthProvider:Vs,SAMLAuthProvider:Ro,PhoneAuthProvider:Rg,PhoneMultiFactorGenerator:cC,RecaptchaVerifier:Kf,TwitterAuthProvider:Al,Auth:Th,AuthCredential:To,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.4.2")}(ne.Z)},5861:(Et,Me,F)=>{"use strict";function d(B,oe,ue,ve,re,Be,ye){try{var z=B[Be](ye),K=z.value}catch(V){return void ue(V)}z.done?oe(K):Promise.resolve(K).then(ve,re)}function ne(B){return function(){var oe=this,ue=arguments;return new Promise(function(ve,re){var Be=B.apply(oe,ue);function ye(K){d(Be,ve,re,ye,z,"next",K)}function z(K){d(Be,ve,re,ye,z,"throw",K)}ye(void 0)})}}F.d(Me,{Z:()=>ne})},7582:(Et,Me,F)=>{"use strict";function oe(pe,fe){var De={};for(var Ie in pe)Object.prototype.hasOwnProperty.call(pe,Ie)&&fe.indexOf(Ie)<0&&(De[Ie]=pe[Ie]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(Ie=Object.getOwnPropertySymbols(pe);Ne<Ie.length;Ne++)fe.indexOf(Ie[Ne])<0&&Object.prototype.propertyIsEnumerable.call(pe,Ie[Ne])&&(De[Ie[Ne]]=pe[Ie[Ne]])}return De}function V(pe,fe,De,Ie){return new(De||(De=Promise))(function(ke,st){function Ye(dn){try{It(Ie.next(dn))}catch(Ut){st(Ut)}}function An(dn){try{It(Ie.throw(dn))}catch(Ut){st(Ut)}}function It(dn){dn.done?ke(dn.value):function Ne(ke){return ke instanceof De?ke:new De(function(st){st(ke)})}(dn.value).then(Ye,An)}It((Ie=Ie.apply(pe,fe||[])).next())})}function le(pe){return this instanceof le?(this.v=pe,this):new le(pe)}function Ce(pe,fe,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,Ie=De.apply(pe,fe||[]),ke=[];return Ne={},st("next"),st("throw"),st("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function st(Sn){Ie[Sn]&&(Ne[Sn]=function(In){return new Promise(function(pr,Wt){ke.push([Sn,In,pr,Wt])>1||Ye(Sn,In)})})}function Ye(Sn,In){try{!function An(Sn){Sn.value instanceof le?Promise.resolve(Sn.value.v).then(It,dn):Ut(ke[0][2],Sn)}(Ie[Sn](In))}catch(pr){Ut(ke[0][3],pr)}}function It(Sn){Ye("next",Sn)}function dn(Sn){Ye("throw",Sn)}function Ut(Sn,In){Sn(In),ke.shift(),ke.length&&Ye(ke[0][0],ke[0][1])}}function Re(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,fe=pe[Symbol.asyncIterator];return fe?fe.call(pe):(pe=function Ue(pe){var fe="function"==typeof Symbol&&Symbol.iterator,De=fe&&pe[fe],Ie=0;if(De)return De.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&Ie>=pe.length&&(pe=void 0),{value:pe&&pe[Ie++],done:!pe}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(pe),De={},Ie("next"),Ie("throw"),Ie("return"),De[Symbol.asyncIterator]=function(){return this},De);function Ie(ke){De[ke]=pe[ke]&&function(st){return new Promise(function(Ye,An){!function Ne(ke,st,Ye,An){Promise.resolve(An).then(function(It){ke({value:It,done:Ye})},st)}(Ye,An,(st=pe[ke](st)).done,st.value)})}}}F.d(Me,{FC:()=>Ce,KL:()=>Re,_T:()=>oe,mG:()=>V,qq:()=>le}),"function"==typeof SuppressedError&&SuppressedError}},Et=>{Et(Et.s=3566)}]);